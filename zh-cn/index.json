[{"categories":["软件工具"],"content":"当 ai 打败柯洁时，人们依旧认为 ai 离自己的事业很遥远，正如柯洁看到 ai 打败李世石时的年少轻狂。直到 2026 年，实证学习者们才开始围绕 ai 建立一种\"自动化\"的恐惧。 最近 David Yanagizawa-Drott 教授启动了智能体实证分析项目（APEP 项目）；陶哲轩建立了智能体对 Erdős 数学问题集贡献的项目（AI contributions to Erdős problems）。计算机领域热词也层出不穷——agent、skill、vibecoding、mcp、ABM model……1 就具体研究而言，再比如两个具体例子2： 《A dataset on the spatiotemporal distributions of street and neighborhood crime in China》：使用 LLM 提取裁判文书刑事案件的变量。 《Decoding China’s Industrial Policies》: 使用 LLM 对海量政策进行编码解析。 不严谨的概括:让 ai 成为一个（具备某些特点的）操控主体（agent），能操控自己电脑上的软件（mcp 能力），也就完成了一种自动化编程流程（vibecoding）。结合 ai 的 api 和 VSCode 插件。这里我们可以建立一个粗糙的环境简单体验一二。 ","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:0:0","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"让 ai 操控软件 最简单的集成版本—— cusor、claudecode3。 但是我们也可以通过 VSCode 实现 all in one。 需要以下软件： VSCode：代码编写环境 Git：版本控制，文件传输管理 Node.js：可以写后端、操作文件、控制硬件。 cc Switch： 调用集成 ai 的 api。 针对国内环境，推荐参考以下视频： 当实现以后，就可以在 VSCode 中调用 ai 的 api 直接操作编辑页面。 若是第一次使用 VSCode, 操作记得先建立一个新文件夹，然后打开 VSCode, 点击文件，打开新建的对应文件夹，剩下的就是在其中操作了。 ","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:1:0","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"进一步加入 stata 插件 当你完成上一步操作后，你完全可以调用 ai 服务帮你开展其他设置操作😀。 插件名称\r我个人推荐在 VSCode 中下载这几个 stata 插件。 Stata language：识别 stata 语法 Stata Outline：让代码能识别大纲，标题格式为 **#。有几个 # 就是几级标题，最多六级标题。 Stata MCP：核心，让 VSCode 具备控制 stata 的能力。 需要的额外设置也很简单，只需要在 stata MCP 的设置页面输入自己安装 stata 的文件夹目录： 例如我的就是 D:\\stata。我使用的是 stata MP 版本4。 自己安装 stata 的文件夹目录\rStata MCP 插件会让页面出现以下按键，其实就对应着 stata 的运行。 按键\r运行如图： 提示词：修改完善代码，基于sysuse auto进行一个实证分析。加入代码大纲层次，** # 为标题格式。 # 有几个代表几级标题，最多六级标题。 运行界面\rDavid Yanagizawa-Drott 教授的项目，就是在这个基础上，进一步让 ai 拥有调用公共大数据 api、tex 文件编辑、r 语言分析的能力。 可惜的是，Stata MCP 是完全在 VSCode 中操控 stata。如果想将 VSCode 直接作为 do 文件的执行阅读器，且连接桌面上的 stata 执行，似乎目前没有非常优雅的联动方案。 ","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:2:0","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"集成在其他编辑器上 同样，当你完成第一部——配置好 claude 调用 deepseek 的 api 后，你也可以在其他编辑器上实现同样的操作。例如 obsidian。 BRAT 是 Obsidian 用于安装测试版插件的工具。 安装 BRAT： 在 Obsidian 设置中，前往 Community plugins（第三方插件） -\u003e Browse（浏览）。 搜索并安装 BRAT (Beta Reviewers Auto-update Tester)。 安装后点击 Enable（启用）。 添加 Claudian 仓库： 打开 BRAT 插件设置。 点击 Add Beta plugin。 在弹出窗口中输入 GitHub 地址：YishenTu/claudian。 点击 Add Plugin。 我个人喜欢让其翻译本博客中文文档，适配英文版本。 ","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:3:0","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"推荐 api？ ","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:4:0","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"Api 平台 个人觉得国内 api，deepseek 的性价比最高。 如果想要免费的，个人推荐 GLM，注册就送模型 token5。 现在注册硅基流动也送 50+16 元的代金券。 GLM 注册送的资源包。不过我两天就用得差不多了。\r","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:4:1","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"基于 api 消费数据看 llm 市场 最近已经有论文利用 api 提供市场进行分析。典型的就是国内也可以用的 OpenRouter。 OpenRouter用户数据总体可视化做得相当不错，可以在上面参考现在的消费者主要用什么模型，做的任务主要是什么\rNBER 最近有篇论文爬取了 OpenRouter 网站的数据进行市场分析: 《The Emerging Market for Intelligence: Pricing, Supply, and Demand for LLMs》 最让我印象深刻的是下面这几个图： 图片显示了过去六个月内发布的模型性能分布，该分布基于智能指数(IntelligenceIndex)绘制。红线为模型智能中位数，深灰色和浅灰色阴影区域分别表示第25-75百分位数和第10-90百分位数范围。分布的扩大进一步反映了前沿领域的进步：当今表现最好的模型达到了样本中最早模型性能的约六倍。\r纵坐标为每百万tokens价格的对数值。在2023年中期至2024年初急剧下降之后，即使更新、更强大的模型进入市场，价格也保持相对稳定。在任何给定的时间点，最低十分位数的模型比最高十分位数的模型便宜50到150倍。\r在 NBER 论文之前，其实 OpenRouter 团队自己就用数据做过分析，就在： 《An Empirical 100 Trillion Token Study with OpenRouter》 每个点代表 OpenRouter 提供的模型，按源类型着色。闭源模型趋向高成本高使用象限，而开源模型则主导低成本、高流量的区域。虚线趋势线几乎平坦，显示成本与总使用量之间的相关性有限。\r","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:4:2","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"安装 skills ","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:5:0","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"安装与说明 Skills 其实就是 ai 的指导说明书，指导其在具体场合具体怎么处理。在其中添加脚本或流程就能约束模型在特定场景下的输出结果。 关于 skill ，特别推荐阅读这位博主的文章进一步了解： 《上下文是稀缺资源｜RAG、Memory、Skills 的设计哲学刍议》 此时依次输入以下命令，就可以下载 claude 官方准备的 skills 包。 安装 skills 市场： /plugin marketplace add anthropics/skills 安装官方编写的一些 skills 包 https://github.com/anthropics/skills 如图\r例如我直接将一个经济学 skills 的 github 发给 claude 让它自己下载： https://github.com/meleantonio/awesome-econ-ai-stuff 经济学skills\r例如，这是我在下载 obsidian 的 skills 后，让它绘制了一篇博客文章的思维导图： 如图\r","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:5:1","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"Skill 资源 可以在以下网站寻找 skills 资源 Skills. Sh (个人推荐，也推荐参考这里面的命令统一安装 skills ) skillsmp.com awesome-agent-skills 首先推荐个寻找 skills 的命令，安装之后明显调用 skills 更顺畅准确率。 npx skills add https://github.com/vercel-labs/skills --skill find-skills 下载这个skill后识别确实更加顺畅了\r","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:5:2","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":"更深的自动化术语？ 如果想要更深入地了解当今结合 ai 的自动化流程，或许可以进一步检索 vibecoding 相关术语。 对标同样的 claude code ，openai 的是 codex，google 的则是 gemini cili6。如今正在早期竞争阶段，各家注册福利都不少。 不过也别怕，工业革命之前还得是能源革命。现在 ai 烧钱烧资源性价比太低了，泛用注定是个大问题。但是，让人恐怖的不是 ai 的绝对值，而是进步的迭代速度，至少能让我们对变化的时代保持一种清醒。从另外一个角度讲，赛车早已超越了人类的极限，我们却依旧为百米赛跑感到刺激、恐惧、兴奋。若真如刘慈欣《诗云》那样7，某种文明能排列出所有的文字组合，我们对诗歌的感受才是更重要的事情。 漫改电影《百米》：跑得快不一定能解决所有事，但只要在100米内跑得比任何人都快，那就能解决任何事情。\r深度学习，机器学习，大模型的概念区分也很微妙。说到底，智能到底是什么，这本身就是一个深刻的问题。 ↩︎ 其实我觉得这类 LLM 分析，主打的就是个“力大飞砖” ↩︎ openai 对应的产品为 codex。 ↩︎ 个人永远推荐 MP 版本，能根据计算机的核灵活增加计算效率。 ↩︎ token 烧的也快，我一个下午就烧完了送的第一个资源包。 ↩︎ 甚至可以考虑让 codex 具有 mcp claude code 的能力联合拷打代码。 ↩︎ 我的感慨可以参考《无心之歌》：AI 时代古诗创作小册子。 ↩︎ ","date":"2026-02-20","objectID":"/zh-cn/posts/stata_auto/:6:0","tags":["Stata","软件推荐","Obsdian"],"title":"双剑合璧：智能体时代的 Stata 实证","uri":"/zh-cn/posts/stata_auto/"},{"categories":["软件工具"],"content":" 空间分析与技术方法（简单实操）笔记。 ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:0:0","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"空间计量 ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:1:0","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"空间关系 什么是区域经济学，核心是利用空间数据刻画空间关系。空间数据需要数据和位置。位置不只是经纬度，还有距离。距离不只是空间距离，文化相似度也可以看作一种距离，关系程度（省份 gdp 排名，同伴亲密关系）。定义位置关系的方式也多种多样，例如点相邻，边相邻… ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:1:1","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"为什么需要空间计量 推荐参考《空间计量经济学导论》（James LeSage / R.Kelley Pac） 空间依赖：不同观测点的值互相影响。 竞争、合作、模仿、扩散（空间溢出性）、对抗…… 这种内生性可能是 a 地 x 影响了 b 地的 y；也可能是 a 地的 y 直接影响了 b 地的 y。 空间自相关：对空间依赖的一种测度。 空间异质性：空间依赖关系并不均匀分布。例如国内数据，可能东北是内部多地负相关，西南地区内部多地正相关关。 测量也分为全局自相关和局部自相关。 因此，不同的空间自相关需要用不同的模型进行估计。 ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:1:2","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"软件版本 R、stata、matlab 各自有合适的空间计量包。 Geoda 为免费开源的空间计量软件。 重点为 gis 软件：如果选择 arcgis 系列，其分为旧系列和 pro 系列。 Arcgispro 是 arcgis 的升级版，但尚在迭代中，不稳定，理论上 pro 都能兼容旧版。由于国家需要版本稳定性，测绘的行业一般要求使用 arcgis 10.2 版本 或者 arcgis 10.8 版本 。网上大部分教程也是针对 arcgis 旧版的教程。 个人是经济学专业，并非专业测绘，所谓学新不学旧，因此选择 arcgispro。官方帮助教材可以参考官网网站。 个人以前也使用过旧版，记录过的步骤为转化 tif 为 excel。个人感觉 pro 版本的页面更简介美观一些。 ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:2:0","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"操作 ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:3:0","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"基础设定 学习 stata 要培养良好的代码文件管理习惯，例如从 do 文件入手，而 gis 也是从新建目录开始。新建的目录就是自己的工程项目。 如图\r这里我新建了一个地图（插入 - 新建地图），目前是线上的默认全球地图。随意点击地图，正式开始工程。如果不满意页面布局，拖动几个选项框就可以换位置。 可以看到右侧边缘有： 目录：插入界面的 添加文件夹，可以把其他文件夹添加到目录内。后续在目录文件夹中新建处理图层。如果你有地图数据（.geodatabase 文件），也可以通过插入界面的 连接 把地图文件加载到目录的数据库中。 地理处理：主要的分析工具。 属性：数据属性，因为数据可能是边界轮廓、点面数据。 历史：操作历史 左侧是地图的内容，主要是图层显示管理 ，右侧是目录、工具栏\r如图\r整个文件目录的环境，本质上是电脑文件夹，新建 .gdb 其实是 gis 工程的文件夹。.gdb 下面又可以新建要素数据集。然后要素数据集下面就是存放的 gis 数据。例如图中的就是 ex22-网络分析-网络-下面一堆数据集文件。 每次创建新环境就是创建 .gdb，然后再在下面创建一个数据库，然后再导入我们要用的数据。 ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:3:1","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"缓冲区分析（buffer） 所谓缓冲区就是围绕边界或者点圈定范围。 《立“竿”见影：策略性环境规制与环境质量结构性改善》（2024，经济学季刊（中文））就利用了 buffer 的策略。 研究发现监测站设立后，距监测站4km范围内的PM2.5浓度降低幅度比4-8km区域多0.74%，表明监测站周围的环境质量呈现结构性改善（当地故意在检测站附近喷水美化考核指标）。其缓冲区分析就是通过 gis 软件识别了每个检测站周围 4km 的区域范围。 右键右侧侧边栏 目录 页面下我们添加的文件夹。 右键新建 移动地理数据库。 右键新建的 移动地理数据库 新建 要素类：其中选择点数据类型，其他跟着提示走即可。 可以发现左侧内容栏已经有了新建的点数据。 这时候继续点击 编辑 - 创建，然后随便点击页面就可以创建点位。同理，按照前面的步骤创建 面要素类，对应的编辑就是创建不同的面数据。 编辑自建点数据，同理也可以自建面数据\r此时点击 地理处理工具栏（工具箱形式图标），然后按照提示选择即可。例如这里我就针对点数据进行缓冲分析，要求其划定每个点 100000 米范围的区域，结果如图所示。缓冲自然也可以针对线数据。 缓冲区分析结果\r","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:3:2","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"邻接分析（proximity） 进一步，这里使用的工具为生成邻近表。 例如这里输入和邻近都是同一个点数据集，含义为离自己最近的点数据是哪个？ 输出表格数据后右键打开即可。如果想要形象比较，右键 内容 - 点文件 - 标注 就是添加标签的操作。情况如下，例如第一个点距离最近的是第二个点。 邻接分析可以分析点、线、面之间的相邻关系。 分析距离最近的点数据\r邻接表只会默认把 FID 进行连接，想要添加名称标签就右键输出的邻接结果表然后 添加和关联。 如图\r","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:3:3","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"栅格数据 Gis 有矢量、栅格、图像数据。实际上遥感图像也是栅格数据，通过网格进行划分填色，例如手机照片像素点概念。 不同的矢量转栅格插值方法不同，结果也不同。例如区域经济学中刻画城市形态其实是很困难的地方，例如城市中间有大山大河？此时如何插值？ 如图,这是一个人口密度的点集矢量数据\r可以通过 要素转栅格 命令转化。典型的均匀涂色到对应的方格子之中。 直接对点数据转栅格\r使用插值进行填充，这里使用 插值 中的反距离权重法。 反距离权重法对点数据进行插值\r使用 密度 进行计算，这里使用 核密度 估计。 核密度\r此外，通过 表面-等值线 还可以插入等高线。 等高线和核密度\r如果想要修改分组层次，右键图层点击符号系统即可修改。 符号系统可以修改分组层次\r例如在城市规划中，我们有了城市用地规划、人口密度、学校分布、道路交通的矢量密度图。接下来思考新学校修建在哪里？我们可以使用 地图代数-栅格计算器 叠加计算每个栅格数据的值。 如图\r例如这里人口流量大，加五分，这里是山地，减少五分，这里有学校覆盖了，减少五分，最终得到新建学校的栅格分数。 我随意选了些栅格做了地图几何运算，灰黑色部分就是几个栅格信息都最终计算结果。\r","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:3:4","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["软件工具"],"content":"网络分析 ","date":"2025-11-03","objectID":"/zh-cn/posts/gis_econ/:3:5","tags":["区域经济学","GIS"],"title":"ArcGispro 操作简要","uri":"/zh-cn/posts/gis_econ/"},{"categories":["经济学学习"],"content":"制度与地理之问 在漫长的经济发展中，国家似乎是一个必然形成的主体，但为何一定是国家？为何国家和国家之间又有如此巨大的差距，这是一个重要的问题。国家发展有趣的要素太多，例如黑手党123、自然资源禀赋、对外贸易、自然灾害4、势力对抗5…… 但大部分时候可以概括为先天的自然地理要素禀赋和后天的文化制度演化。 正如现在不会争论自由主义和凯恩斯主义谁更好，而是理清各自适合的政策边界。资源禀赋和文化制度总是相互影响的, 关键在于某个要素上谁先影响了谁，例如著名的论文南稻北麦6: 水稻需要集体协作；小麦偏向个体劳作。二者的种植结构带来了南北方的文化差距。 而地理断点一定程度上能减缓地理文化制度互相影响的内生性。正如 Daron 在《国家为什么会失败》中举的例子，美国和墨西哥7；南朝鲜和北韩；东德和西德。 如今的关键是，文化制度是通过怎样的特性，带来发展上的巨大差距的呢？ 《Political hierarchy and regional economic development: Evidence from a spatial discontinuity in China》利用 1997 年重庆市从四川省地级市升为直辖市进行地理断点，研究了通过增加政治等级制度赋予地方政府权力可以促进区域发展的现象。 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:1:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"政治结构与经济增长 论文引言部分，论文正是从治理的信息优势引入研究问题： 经济现象上国家政治治理总是分级的8，不同分级掌握不同的决策权。1997 年重庆从四川省地级市成为了直辖市。 这种变化带来的决策权扩张表现为： 行政、人事、财政决策权增加。财政分配更加盈余。 那是否可以通过提升城市行政等级来推动发展呢 行政权利刺激经济增长的核心机制就是 信息优势+权力配合。而放权和地方分割之间又存在矛盾。所有城市都放权带来的问题是地方分割、腐败的后果，因此总体治理面临的困境总是如何平衡放权让地方充分发挥信息优势和集权减弱地方保护、寻租、腐败行为——政府权力结构与经济增长。 如图\r在权力分配上，可以把论文理论和想要探讨的点分为以下几个部分： 核心问题：权力结构的分配是否会影响经济增长。 例如撤县设区 南非基层政府非常高的情况下，已有研究表明效果较弱9。 tradeoff 两难问题：政治权力的下放、扩散带来灵活决策的好处，但也会带来地方保护、腐败、寻租。 影响：这些行为是否为自发秩序。公共选择理论告诉了我们政治家是基于扩大权力网的动机行事而非社会福利最大化。 边际贡献： 方法上用地理断点讨论政府权力扩散和下放。川渝地理文化环境民族构成都非常相似。 南非和中国相比，中国的权力下放更具备实质性提升；上级任命制，更能防止腐败。 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:2:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"背景 学习下怎么对比表述的（适应外国编辑+强化中心主题，政治制度下分权的特殊性）： 政治制度不同于联邦制：较低层次的政府完全从属与较高等级的政府…单一国家而非联邦国家… 上级政府可以轻易干预下级政府的政策决策，因为前者决定了后者的职位前景… 直辖市的权力：直辖市在行政、人事和财政事务方面拥有与省相当的权力，而地级市则应遵守省政府的政策。 可比性：重庆曾是四川省的一部分。自元代… 事件背景：根据中国官方宣传，中央政府决定提升重庆有两个原因：成为西部发展引擎和四川省政府无法提供过大的公共物品。 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:3:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"分析理论 不同的分权环境结果不同，可能是政治庇护或者政治效率。 成本收益分析 分级管理权力扩散能带来治理上的信息优势，同样的法律法规能减少治理成本； 同级机构的增多（同时也是规模经济的下降）也会带来行政成本和中央协调成本。 政治代理问题 地方选民同样有了信息优势且更容易监管地方； 促进了地方相互竞争； 如果地区关注度较少，容易聚集地方精英构成腐败。 应对措施：足够的选举竞争、预算程序透明度、选民意识、媒体监督、奖惩机制。 提升地位后，重庆得到的：更大的贴合地方的人事、财政决策、建设规划权；更多的财力（投资更具有吸引力）。协调、行政、公共服务成本增大。 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:4:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"数据源 数据库 衡量变量 使用内容 时间 卫星夜间光照 经济增长 光照 1992-2013 Gis地形 坡度、面积 地形 统计年鉴 经济数据 县乡级别（Township）人均工业产出、城镇化率和非农就业率 谷歌地图 公共物品 城镇层面的道路、学校和医院分布 企业普查 包含企业级基本财务报表，通过地址识别企业城镇 2008 世界银行企业调查 营商环境 许可证和注册数量 2005 人口普查 人口 民族构成、人口迁移 2000、2005 中国财政部 财政 县级（county-level）社会经济变量，包括人口、城镇化率和工业产出、县级 GDP 审计年鉴 腐败 滥用公共资金的县 2003-2009 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:5:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"估计策略 $$Y_i=\\beta_0+\\beta_1Chongqing_i+f(geographiclocation_i)+\\epsilon_i$$ $$Y_{i}\\equiv ln(0.01+LightIntensity_{i,2013})-ln(0.01+LightIntensity_{i,1996})$$ $Y_i$: 为夜间灯光数据估计出的经济增长率。 $i$: 乡镇。 $Chongqing$：位于重庆为 1，位于四川为 0。 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:6:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"平行趋势 如图,两个区域地形海拔、民族组成、gdp、工业产值、税收、城镇化率差异并不统计显著\r边界两侧灯光数据\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:6:1","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"实证结果 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:7:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"基本回归 实验组和对照组先限制分界线30km内\r如图\r如图\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:7:1","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"安慰剂检验 方式 1：将边界分别向西侧和东侧移动 30km。 如图\r方式 2：创建随机边界。 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:7:2","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"排除溢出效应 重庆效应 如果四川边界点会受到重庆区域带来的溢出效应，那么检验就会受到干扰。 排除边界点\r进一步排除边界线 10 km 以内的城镇（考虑交通成本）。 同时通过人口普查数据对比两地人口流动率（0.27%与 0.13%）。 排除边界点\r排除四川效应 四川面积变小也可能会使得四川省提供公共物品的效率提升。因此使用四川相邻的其他省份 (甘肃、贵州、青海、陕西和云南) 边界区域数据进行检验。 如图\r排除政治溢出效应 四川重庆交界地带存在三个部分，南北部分可能在政治影响方面存在差异。越靠近北方，政治影响可能越显著。 邻接区域\r如图\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:7:3","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"更换经济解释变量 使用年鉴数据来替换灯光数据。 人均工业、城镇化率、非农就业呈现出相似的效应。 如图\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:7:4","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"机制检验 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:8:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"官员责任感 行政等级的提升可能提升了官员的责任感。 腐败的地方官员倾向于通过增加行政支出来榨取收入，以扩大政府雇员数量和增加官僚消费。 受到激励的官员会在建设和基础设施投资方面投入更多。 论文使用县级财政支出面板进行分析。 左行政支出；右基础设施投入\r结果表明行政等级提升后，重庆市区域降低了行政支出比例而扩大了基础设施投入比例。这可能是因为问责制度更加健全导致的。 审计年鉴表明，重庆区域被审计问责的县显著少于四川地区。 审计年鉴中被问责的县作为y\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:8:1","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"公共物品提供 公路、学校、医院修建投入。 使用谷歌地图统计\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:8:2","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"营商环境 使用企业注册和许可数据进行分析。 重庆企业进入数更多，且私企增加速度高于国企。 如图\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:8:3","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"探讨其他可能 重庆和四川的边界差异是否还可能是其他差异带来的呢？ ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:9:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"三峡工程 消除 30 公里范围值内 9 个后期被三峡工程淹没的城镇区域。 对比湖北省宜昌市和周边城市，不显著。 对比湖北省宜昌市\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:9:1","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"中心-外围理论 城市边界受到城市中心的发展影响。虽然同为边界区域，但是重庆边界距离中心更近。 加入距离重庆中心的距离作为控制变量，结果并不显著。 同时进一步对比了宜昌和成都（河流间隔），差异并不显著。 如图\r","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:9:2","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"转移支付 如图\r转移支付数据表明，转移支付差距是 2008 年开始扩大的，因此不能解释 2008 年以前的增长差异。 ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:9:3","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["经济学学习"],"content":"结论 赋权地方政府官员促进了地区发展。 对于中央集权国家来说，运作良好的地方奖惩制度可能限制了地方分权对滋生地方腐败和抓捕的黑暗影响。 展望：论文只提供了个例，全局提升带来的行政成本和协调成本依然未知。且地方官员会损失权力，因此他们会反对大规模提升行政等级。 Dipoppa, G. (2025). How criminal organizations expand to strong states: local agreements and migrant exploitation in Northern Italy. The Journal of Politics, 87(2), 000-000. ↩︎ Acemoglu D, De Feo G, De Luca G D. Weak states: Causes and consequences of the Sicilian Mafia[J]. The Review of Economic Studies, 2020, 87(2): 537-581. ↩︎ Sánchez De La Sierra R. On the origins of the state: Stationary bandits and taxation in eastern congo[J]. Journal of Political Economy, 2020, 128(1): 000-000. ↩︎ Gallagher, J. (2014). Learning about an Infrequent Event: Evidence from Flood Insurance Take-Up in the United States. American Economic Journal: Applied Economics, 6(3), 206–233. ↩︎ Allen R C, Bertazzini M C, Heldring L. The economic origins of government[J]. American Economic Review, 2023, 113(10): 2507-2545. ↩︎ Talhelm T, Zhang X, Oishi S, et al. Large-scale psychological differences within China explained by rice versus wheat agriculture[J]. Science, 2014, 344(6184): 603-608. ↩︎ 当然我个人觉得地理断点一个内生性在于中心外围城市论，边界的发展和中心的发展强关联。 ↩︎ 为什么治理一定要分级，看似显而易见的现实往往并不容易给出显而易见的回答。例如继续深问：怎样的政治分级才是合理的？这就是一个非常复杂的问题了。 ↩︎ Gottlieb, J., Grossman, G., Larreguy, H., Marx, B., 2019. A signaling theory of distributive policy choice: evidence from Senegal. J. Polit. 81 (2), 631–647 ↩︎ ","date":"2025-10-26","objectID":"/zh-cn/posts/rsc_econ/:10:0","tags":["文献阅读","区域经济学","GIS"],"title":"四川省分家之后：政治规划与经济增长","uri":"/zh-cn/posts/rsc_econ/"},{"categories":["软件工具"],"content":"对于中文背景的用户来说，恐怕没有比想打出 $$ 却由于输入法没来得及切换，最后打成了 ￥￥ 更让人抓狂的日常了。 尽管现在有 overleaf、texpage 、slager 等一系列 $\\LaTeX$ 在线编译网站，但他们依旧难以为此提供便利。线上渲染正变得越来越小气。如果想要尝试编译更大、更复杂、更长的文档又不愿付费，本地化软件永远是最好的选择（只要没有协作编辑的需求），同时也意味着更大的自由。 $\\LaTeX$ 教程可参见如何在1小时内快速入手LaTeX？ ","date":"2025-10-10","objectID":"/zh-cn/posts/texstudio/:0:0","tags":["LaTeX","软件推荐"],"title":"优化你的 Texstudio 编辑体验","uri":"/zh-cn/posts/texstudio/"},{"categories":["软件工具"],"content":"宏命令 对于中文背景的 $\\LaTeX$ 用户来说，恐怕没有比打出 $$ 却由于输入法没来得及切换打成了 ￥￥ 更让人抓狂的日常了。 Obsidian 留住我的原因是极其便利的写作插件： 快捷命令：commander、 editing toolbar 图片转化：image converter 写作增强：easy typing …… 尤其是写作增强的 easy typing，支持自定义补全、中英文自动空格、无缝中英字符切换——例如连续两次输入 ￥￥ 就会自动变成 $$。 那么问题在于，如何使得 texstudio 实现同样的功能呢？ 答案是自定义宏。Texstudio 支持自定义宏定义，详细语法参见官方文档 Personal macros。 正常模式的宏可以理解为文本转化和补全。我在触发器中写入 ￥￥￥￥ （注意，此处结尾故意留下了一个空格）。%| 代表补全后的光标位置。 个人宏还可以自定义快捷键，例如下图我设置了 Ctrl+M 作为 $$ 插入的快捷键。当我输入 ￥*2（空格） 时，也会自动触发转化。 触发器就是格式检测，当正则表达识别满足时自动触发\r个人宏还支持脚本顺序，如果会玩可以玩出各种花样（例如一环扣一环的转换）。因此写宏时要注意顺序，将更严格的正则检验宏放在上面，例如 ￥￥￥￥转$$$$ 应当放在 ￥￥转$$ 之前。 环境模式感觉很鸡肋，完全能用正常模式替代。 脚本模式更加灵活，支持 java script 语言。 个人写了一个是，能把 -内容1-内容2-内容2（tab 键） 格式的内容转化为代码： \\begin{内容1}[内容2]\\label{内容2} \\end{内容1} 顺便进一步设置了个映射，如果内容 1 是“证明”，就转化为“proof”; 是“概念”，就转化为“definition”。 代码如下： // ===== 环境中英文映射 ===== var envMap = { \"定理\": \"theorem\", \"引理\": \"lemma\", \"命题\": \"proposition\", \"性质\": \"proposition\", \"练习\": \"exercise\", \"思考题\": \"exercise\", \"思考\": \"exercise\", \"问题\": \"exercise\", \"推论\": \"corollary\", \"定义\": \"definition\", \"概念\": \"definition\", \"例子\": \"example\", \"备注\": \"remark\", \"注意\": \"remark\", \"笔记\": \"note\", \"注释\": \"note\", \"案例\": \"case\", \"证明\": \"proof\", \"证\": \"proof\", \"练习\": \"exercise\" }; // ===== 获取匹配内容 ===== var env = triggerMatches[1]; // 环境 var title = triggerMatches[2]; // 标题 var label = triggerMatches[3]; // 标签 // ===== 转换中文环境为 LaTeX 英文环境 ===== if (envMap[env]) { env = envMap[env]; } // ===== 构造 LaTeX 代码 ===== var txt = \"\\\\begin{\" + env + \"}\"; if (title) txt += \"[\" + title + \"]\"; if (label) txt += \"\\\\label{\" + label + \"}\"; txt += \"\\n\\n\\\\end{\" + env + \"}\\n\"; // ===== 插入文本 ===== cursor.insertText(txt); // ===== 调整光标位置到环境内部 ===== cursor.movePosition(2, cursorEnums.Up); cursor.movePosition(1, cursorEnums.StartOfLine); 触发器设置为 \\-(.+)\\-(.+)\\-(.+)\\t *\\t 是tab键 *(.+) ：括号就是一个环境，代表分隔符-中的环境。其中.+代表一个及其以上字符，如果要求至少两个字符，使用.+.即可。 逻辑也不难，触发器三个括号的正则识别内容对应着代码里的 env 、title、label。填入构造代码模板，然后移动光标。(唯一问题是 texstudio 正则识别对中文符号的兼容太差了) 如图\r","date":"2025-10-10","objectID":"/zh-cn/posts/texstudio/:1:0","tags":["LaTeX","软件推荐"],"title":"优化你的 Texstudio 编辑体验","uri":"/zh-cn/posts/texstudio/"},{"categories":["软件工具"],"content":"Texstudio 配置语言助手 Texstudio 页面。 如图\r先下载 java (请自行寻找教程) 然后下载免费的语法检查助手—— https://languagetool.org/download/ 下载自己对应的电脑版本，我是 win 系统加最新版 texstudio，所以选择 LanguageTool-6.6.zip。 下载好之后解压对应的 languagetool 压缩包。在对应的文件夹页面打开 cmd（直接在路径栏输入 cmd 即可从这里打开） 然后运行 java -jar languagetool. Jar 打开后，text checking - 选项 进入页面，设置语言、服务器端口。 如图\r设置完成后，进入 texstudio 设置最下面的 languagetool 即可。 如图\r之后重启 texstudio，在帮助检查语言工具即可： 波浪线对应的就是语法错误。 如图\r右键错误地方就会有更正提示： 如图\r","date":"2025-10-10","objectID":"/zh-cn/posts/texstudio/:2:0","tags":["LaTeX","软件推荐"],"title":"优化你的 Texstudio 编辑体验","uri":"/zh-cn/posts/texstudio/"},{"categories":["软件工具"],"content":"一些快捷键 Ctrl + 鼠标左键：可以快速定位（跳转到源代码或 PDF 对应位置）。 Ctrl + Shift + I：可以迅速添加 \\item（用于列表环境 itemize/enumerate）。 Ctrl + T：可以快速添加、取消注释（对当前行或选中的多行）。 Ctrl + Shift + M：可以快速添加行内代码，例如在光标位置添加 $ x $。 Ctrl + Shift + N：可以增加 equation 环境（例如 \\begin{equation} ... \\end{equation}）。 Alt + Shift + M：可以增加显示的代码（通常是数学环境，例如 $$...$$ 或 \\[ ... \\]）。 ","date":"2025-10-10","objectID":"/zh-cn/posts/texstudio/:3:0","tags":["LaTeX","软件推荐"],"title":"优化你的 Texstudio 编辑体验","uri":"/zh-cn/posts/texstudio/"},{"categories":["软件工具"],"content":"其他提示 活用左边列的符号收藏功能。 如图\r代码编辑页面右键可以跳转 pdf 渲染位置。 Ctrl 键点击 pdf 位置可以跳转代码编辑位置。 Texstudio 支持行内预览。alt+p 启动，但是可能和其他模板渲染设置冲突。例如我使用了 elegent 系列的模板就无法查看预览了。 Texstudio 支持行内预览。alt+p 启动\r","date":"2025-10-10","objectID":"/zh-cn/posts/texstudio/:4:0","tags":["LaTeX","软件推荐"],"title":"优化你的 Texstudio 编辑体验","uri":"/zh-cn/posts/texstudio/"},{"categories":["软件工具"],"content":"参考资料 Advanced features Texstudio宏脚本编写-2022-4-24 16:48:09 Installing Language Tool in TexStudio ","date":"2025-10-10","objectID":"/zh-cn/posts/texstudio/:5:0","tags":["LaTeX","软件推荐"],"title":"优化你的 Texstudio 编辑体验","uri":"/zh-cn/posts/texstudio/"},{"categories":["经济学学习"],"content":" 教育就是当一个人把在学校所学全部忘光之后剩下的东西。——爱因斯坦 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:0:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"前言 注意看，这是一名经济学学生，在过年时，他还在讨论什么新古典、贝尔曼方程、卢卡斯批判之类家人听不懂的东西。亲戚朋友团年时问他收获了什么，他只能说自己证明了一般均衡，进行了时间序列分析，还动态最优化了。 在朋友们兜里掏出一大把红包的时间里，这位学生可能还在想文章的内生性问题怎么解决。每每遭遇这种场景，我们不禁问到，学习经济学究竟给我们带来了什么变化？当我们在多年以后忘掉了所有的词高深术语，在经济学学习生涯当中，留下的究竟是什么？ 本文想分享的是2025年发表在qje上的《Ideas Have Consequences The Impact of Law and Economics on American Justice》（作者网站 有丰富的学习材料。）。 文章分析了法官在参与经济培训后的判决行为改变。文章发现，参加经济学培训后，参与的法官在意见中使用了更多经济学语言，更频繁地反对监管机构，并实施了更严厉的刑事判决。文章不仅探索了法与经济学交叉的现实效果，也验证了经济思想说服的力量。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:1:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"背景 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:2:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"法律与经济运动 20世纪70年代开始，以芝加哥学派为中心掀起了法律和经济学运动。20实际后几十年，经济学理念在法律领域的应用从边缘发展到主流。到 20 世纪 80 年代，经济学原理已经扩散到几乎所有法律领域。 在芝加哥学派的影响下，法律与经济运动中的保守派学者倾向于批评监管政策，强调其负面的意外经济后果和被捕的潜在可能性。劳动、环境监管方面都有保守派学者或法官广泛参与。经济学的威慑理论（deterrence theory）也影响了刑法领域。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:2:1","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"曼恩（Manne）经济学研究所联邦法官 经济学对法律思想的影响部分可以追溯到一个针对现任法官的经济学培训项目 —— 联邦法官经济学研究所。该课程从 1976 年到 1998 年持续开放，每年一到两次。项目一开始就邀请了所有联邦法官，且海滩酒店费用由项目支付，入学名额先到先得。这意味着项目没有特定的法官选择偏好。 如图\r图片显示，到 1990 年，40% 的联邦法官参加了这个课程。到 90 年代末，约一半的案件直接受到了影响。讲座由著名经济学家（米尔顿・弗里德曼、阿尔曼・阿尔奇安、哈罗德・德姆塞茨、马丁・费尔德斯坦、保罗・萨缪尔森和奥利・阿申费尔特等）主讲并设计诸多经典经济学主题（科斯定理、需求供给理论、消费者生产者价格理论、外部性、效用、产权、侵权、合同、垄断理论、监管和基本统计）。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:2:2","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"培训项目的预期影响 形式主义法学观点认为法律会严格应用书面而不考虑非法律因素；态度主义法学观点认为法官态度受党派影响，党派更替会覆盖掉曼恩计划的影响。然而现实中法官在决策中拥有显著的自由裁量权，且大量研究表明非法律因素会影响决策。曼恩计划产生的对严格经济学思想的接触程度差异，让我们可以测试这些思想是否对法官具有说服力，以及由此产生的法律后果。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:2:3","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"数据 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:3:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"案件数据 美国联邦法院制度分为三个层级：地方层级 (地区法院)、中级层级 (巡回法院) 和国家层级 (最高法院)。文章从彭博法律搜集了美国上诉巡回法院在 1970 年至 2005 年间的案件判决，并与singer数据库、联邦司法中心数据集、LexisNexis数据集进行交叉核对。数据包含了法官信息（性别、信仰、宗族、学位、工作经历等）。案件数据中，20%与监管相关、5%与劳动相关。 如图\r","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:3:1","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"判决风格 文章使用“词嵌入“的方法识别判决经济风格。具体方法为将法官书面意见去掉大写和标点符号，储存为词语列表进行预处理。将词语列表与法律经济词汇数据库联系。由于包含特定经济词汇的案件占比较低，难以直接用词汇频方法计算，因此更换为语境相似度进行测度。 如图\r","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:3:2","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"判决结果 文章重点分析了三类案件的判决结果： 劳动和环境监管：是否对政府部门、劳动机构投反对意见。反对意见意味着法官态度为支持放松监管。 保守主义司法：基于案件法律诉求进行手动编码（样本占比5%），态度分为自由主义、保守主义、中立或难以编码。图片显示保守主义呈上升趋势。 如图\r刑事量刑：包含犯罪类型、量刑程度，文章主要使用是否判决监禁作为二元变量。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:3:3","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"实证策略 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:4:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"估计策略 $$ Y_{ijct}=\\alpha_{j}+\\alpha_{ct}+\\gamma Z_{jt}^{\\mathrm{post}}+X_{ijct}^{\\prime}\\beta+\\epsilon_{ijct} $$ $$ Y_{ijct}=\\alpha_{j}+\\alpha_{ct}+\\sum_{k\\in V}\\gamma_{k}Z_{jt}^{k}+X_{ijct}^{\\prime}\\beta+\\epsilon_{ijct} $$ 案件i法官j法院c年份t。文章使用法官、法院-年份固定效应。 因变量Y：决策、投票、判决的经济风格。 自变量Z：进入曼恩计划的状态指示变量。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:4:1","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"实证应用条件假设检验 随机分配 由于培训名额先到先得，文章使用渐进did的方法进行估计。此时需要额外检验法院是否随机分配案件、先参加培训的法官和后参加培训的法官是否存在差异。美国法院案件由计算机实施随机分配，并确保法官小组不会连续重复组队。图片显示参加了曼恩计划和未参加曼恩计划的基层和巡回法院法官在经济案件类型分配上不存在统计显著性。 如图\r培训名单随机分配假设 曼恩计划法官培训批次特征检验。共和党任命的法官更容易参与曼恩计划且容易出现在较早的队列，但共和党任命的法官与具体参加时间无关。 如图\r如图\r文章进一步比较同一法院、同一年份，参加和未参加培训的法官，差异并不显著。为进一步克服这种可能的选择偏差，文章借助所有控制变量预测法官参与培训的年份并进行控制。 如图\r不存在溢出效应假设（SUTVA）假设 其实 did 假设就有不存在溢出效应，结果现在很多文章结尾还检验溢出效应存在（在不使用空间计量的情况下）。 为保证渐进did识别的有效性，文章进一步检验了法官学习的溢出效应。一般认为法官工作相对独立且在案件随机分配的情况下沟通较少。文章进一步控制同法院同事参加培训的比例作为控制变量。此外，文章还进一步检验来溢出效应，结果表明溢出效应较弱。 如图\r","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:4:2","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"实证结果 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:5:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"司法语言风格 结果表明参加曼恩项目的法官倾向于在书面司法意见中增加使用经济学相关词汇。文章使用法学词汇相关性替代经济学词汇相关性进行检验，结果并不显著。 如图\r","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:5:1","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"监管态度 文章主要检验了法官对劳动、环境监管相关案件的投票意见。结果表明在经历培训后，法官更容易在监管议题上持反对意见。文章额外使用了反垄断法议题样本进行检验，结果虽然为正但并不满足统计性显著，可能是样本数量较少导致的。 如图\r","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:5:2","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"量刑影响 经济学理论对刑期严格的方向比较难以判断，但考虑到威慑理论和降低犯罪经济损失，增加犯罪成本的治理框架，可能法官会增加刑事判决严格程度。结果表明法官在经历培训后更容易增加判决入狱概率。 如图\r","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:5:3","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"扩展分析 文章进一步报告了对巡回法庭的短期效果。 如图\r文章使用泊松模型分析入狱率。结果表明培训使得入狱率短期内增加6.2%，长期增加了3.5%。但刑期长度改变并不显著，可能是因为法官在刑期方面的自由裁量权较低。 如图\r文章进一步建立了一个说服模型： $$ p=100\\times\\frac{\\Delta y}{\\Delta e}\\cdot\\frac{1}{(1-y_0)}. $$ $y_0$ 为法官中参加了经济学培训的比例，基于描述统计为46%。 $\\Delta y$ 为法官被说服的变化比例，也就是实证结果中投反对票的提升概率，使用稳健性检验的保守估计为4.3%。 $\\Delta e$ 为能被说服的参与个体全体，假设全部法官都参与影响，此时为1。 代入公式可估计经济学培训为法官带来的说服率增幅大概为8%。类似的研究估计还有福克斯新闻效应对共和党投票的影响 (p = 11.6%)；连续10 周订阅《华盛顿邮报》对民主党的投票份的说服率(p = 19.5%)。不过论文的8%依旧是保守估计，因为文章只分析了参与培训的法官群体，但培训材料还被学生、律师等其他相关群体阅读，且大量参与培训的法官运用了经济分析的案例会成为参考案例。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:6:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"稳健性检验 检验事前趋势。 更改样本范围：限制参加培训三年前后的法官样本进行平衡面板检验；增加培训法官观测年份直到整个法官生涯估计长期效应。 更改变量：使用机器学习的词汇相似度替代词嵌入的经济词汇相关性指标。 加入控制：法官任命主席、预测出席时间、法官和同事参与培训比例交互项、案件类型固定效应，实行稳健标准误和法院、年份双向聚类标准误。 样本权重：法院-年份案件数量更多的样本组增加权重。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:7:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":"总结 经济学是一个通用框架，而法官需要在各种政策问题上做出高风险决策，经济学传授的是一种决策思想。在经历经济学思维培训后，法官相比与经济学家，更具备怀疑精神，可能更能辨识带有偏见性质的材料。 文章在检验方面详实可信，其中无溢出条件、随机分配的检验值得借鉴。在三类因变量的检验中，文章都选择了相近的变量进行安慰剂检验，使得文章更具说服力。尽管文章使用了词嵌入的方法分析经济相关词汇，但在思想的测度方面，或许未来还有更多的挖掘空间。例如文章也明确了经济理论和刑期方向的判断较为复杂，且论文并没有在机制方面说明经济分析框架的独特性。关于其中经济思想的测度，可能还有更多值得讨论的空间——例如 经济思想是怎样扩散的？不同经济学科期刊的语言风格差异是什么？法官严苛性能通过判决文书用词测量吗？ 这些可能都是有趣且值得挖掘的选题。 经济统计证据并不能成为法律证据，但经济统计的思维却能让法律证据的表达更具有说服力。这也是为什么曼恩计划选择法学和经济学结合而非其他学科交叉。正如 Deirdre N. McCloskey 教授在其著作《经济学的修辞》中说的一样，经济学或许是教会人们去说服的学科。而如何说服的这个思维框架，才是所有经济学人宝贵的财富和蕴含在论文当中的无声贡献。 ","date":"2025-09-27","objectID":"/zh-cn/posts/law_econ/:8:0","tags":["文献阅读","法律经济学"],"title":"思想的力量：当法官学习了经济学","uri":"/zh-cn/posts/law_econ/"},{"categories":["经济学学习"],"content":" “人是政治的动物，但人心不可轻易揣测。”——亚里士多德 ","date":"2025-09-25","objectID":"/zh-cn/posts/gzhs/:0:0","tags":["微观经济学","文献阅读","Network"],"title":"解释“潮玩热”：从网络效应到多重均衡","uri":"/zh-cn/posts/gzhs/"},{"categories":["经济学学习"],"content":"泡泡玛特产品的典型事实 在泡泡玛特的商业构想中，潮玩经济应该率先在发达国家出现。 经济理论非常简单： 消费分为生存性和发展性，发展性消费只有在满足了生存性消费的情况下才能满足。 然而实际情况是——亚洲发展中国家对潮玩的市场反应比发达国家更加迅速。 从微观来看，一个人愿意为谷子经济紧衣缩食； 从宏观来看，目前社会消费升级伴随着生育率日渐走低1。 图1——某一期的《看天下》\r反应到具体函数上，泡泡玛特这类商品的典型事实是： 供不应求时，价格（至少是官方价格）基本不变，同时泡泡玛特的黄牛价格在最近遭遇下滑（2025 年 7 月左右）。 图2 ——6月19日千岛APP数据\r这意味着， 首先泡泡玛特不是吉芬商品2，因为其定价不菲，定义为发展性消费，并非低档品。 不能用凯恩斯理论出发的价格粘性解释，因为这里没有工会参与，菜单成本也很低。 泡泡玛特的官方往往不怎么涨价，其市场价格就在某个高点附近陷入短暂的均衡3。 泡泡玛特火的很莫名其妙，因此，如果泡泡玛特再推出一个产品，销量可能爆也可能无人问津（网红产品属性）。 ","date":"2025-09-25","objectID":"/zh-cn/posts/gzhs/:1:0","tags":["微观经济学","文献阅读","Network"],"title":"解释“潮玩热”：从网络效应到多重均衡","uri":"/zh-cn/posts/gzhs/"},{"categories":["经济学学习"],"content":"将炫耀性消费纳入模型 观点很简单，这里主要是看怎么纳入经济学理论模型。 于此同时，在 1991 年的芝加哥大学经济学课堂上，诺奖得主 Gary S. Becker4提出一个问题——为什么他喜欢的一家著名的海鲜餐厅每天来客这么多，却从来不提高价格？ 这类现象非常广泛——在没有黄牛的时间里，许多成功的餐馆、戏剧、体育赛事和其他活动即使在持续的过度需求下也不会提高价格。 ","date":"2025-09-25","objectID":"/zh-cn/posts/gzhs/:2:0","tags":["微观经济学","文献阅读","Network"],"title":"解释“潮玩热”：从网络效应到多重均衡","uri":"/zh-cn/posts/gzhs/"},{"categories":["经济学学习"],"content":"传统微观模型 图3\r在这个价格-需求图中，$d_0$ 为生产函数5，$d_1$ 为需求函数。$s$ 为热门餐厅的座位数量。目前热门餐厅情况是需求大于供给，对应的价格水平为 $p_0$。显然，当价格提升到 $p_e$ 时，餐厅能赚更多。价格提升到 $p_{max}$，利润则取决于双方的弹性。 一个小推导：涨价和利润 $$ \\pi(P)=P\\cdot Q(P)-C(Q(P)) $$ $$ \\frac{d\\pi}{dP}=Q(P)+P\\cdot\\frac{dQ}{dP}-C^{\\prime}(Q)\\cdot\\frac{dQ}{dP} $$ $C^{\\prime}(Q)$ 可以写成边际成本 $MC$，同时定义价格需求弹性 $\\varepsilon\\equiv\\frac{dQ}{dP}\\cdot\\frac{P}{Q}$。 $$ \\begin{aligned}\\frac{d\\pi}{dP}\u0026=Q+P\\cdot\\left(\\varepsilon\\frac{Q}{P}\\right)-MC\\cdot\\left(\\varepsilon\\frac{Q}{P}\\right)\\\\\u0026=Q+\\varepsilon Q-\\varepsilon Q\\cdot\\frac{MC}{P}\\\\\u0026=Q\\left(1+\\varepsilon-\\varepsilon\\frac{MC}{P}\\right).\\end{aligned} $$ 一阶条件就是著名的： $$\\frac{P-MC}{P}=-\\frac{1}{\\varepsilon}$$ 消费弹性和厂商加价的空间密切相关。当我们考察厂商市场势力时，可以尝试从这个式子出发进行估计。 ","date":"2025-09-25","objectID":"/zh-cn/posts/gzhs/:2:1","tags":["微观经济学","文献阅读","Network"],"title":"解释“潮玩热”：从网络效应到多重均衡","uri":"/zh-cn/posts/gzhs/"},{"categories":["经济学学习"],"content":"炫耀消费的模型 消费者在购买商品时，会考虑这个商品的市场。例如后续发小红书、朋友圈和群体“同屏共振”的价值。此时需求函数变为： $$ D=\\sum d^{\\prime}(p,D)=F(p,D),\\quad F_p\u003c0,F_d\u003e0 $$ 套娃一下——市场总需求 D 由每个人的需求 d 加总而成，而每个人的需求函数会考虑市场总需求 D。 市场总需求函数依旧价格越高需求越少（$F_p\u003c0$）。 市场也会有正反馈的结构，买的人越多，被吸引过来的人也会越多（$F_D\u003e0$）（网络效应）。 接下来对总需求函数求微分方程： $$L(p,D)=F(p,D)-D=0$$ $$ dL=L_pdp+L_DdD=0 $$ 此时， $$ L_p=F_p,\\quad L_D=F_D-1 $$ 最终得到， $$ F_pdp+(F_D-1)dD=0 $$ 变形，就会得到价格对需求的变化率6： $$ \\frac{dp}{dD}=G_D=\\frac{1-F_D}{F_p} $$ 这里的 $G_d$ 表示逆需求函数对需求 d 求导。 如果社会效应足够强—— $F_D\u003e1$ —— $\\frac{1-F_D}{F_p}\u003e0$。从变化率上看——价格会随着需求增多而增多。直到厂商进入生产的第三阶段拐点 $p_{max}$（兼容了传统解释，就是图 3 的内容）。 但是现在基于网络模型有了一种新的可能—— 在总需求较少时，$F_D\u003c1$; 在总需求较多时，$F_D\u003e1$。 此时，社会总需求函数不再是单调下滑的线，而是先下降再上升的曲线。 图4\r图4中的MR曲线 假设固定成本， $$ \\begin{aligned} MR\u0026=\\frac{d(PD-C)}{dD}\\\\ \u0026=P+D\\frac{dP}{dD}\\\\ \u0026=P+D(\\frac{1-F_D}{F_p}) \\end{aligned} $$ 由于需求较少阶段 $\\frac{dp}{dD}=G_D=\\frac{1-F_D}{F_p}\u003c0$，此时就是斜率向下的曲线。 实际上，MR 曲线和 D(P) 需求曲线的高低和倾斜程度可以如此比较： 高度(基于 MR 的式子就可以看出)： $$ MR-D(P)=D(\\frac{1-F_D}{F_p}) $$ 因此，开始阶段 MR 曲线在需求曲线下方。 此时就是现实中的多重均衡！例如定价在 $p^*$。 如果产品一炮而红，口碑出圈，那么市场需求就会叠加到 $D_g^*$ 水平。 如果产品其实无人问津，实际的需求就在 $D_b^*$ 水平。 在这种不确定性，厂商一般更加厌恶生产过剩（$s-D_b^*$）。因此厂商会倾向于选择 $MR=0$ 的均衡水平。 模型的意义 这个模型解释现实商店经验为什么广告和营销如此重要（这点很自然）。 其中最不容易想到的是——为什么网红厂商在热销期间会维持一种保守定价。本质还是网络效应带来的不确定性。 模型也较为优雅的刻画了进入热门阶段的均衡为何如此短暂——此时价格函数变动的空间并不大——当网络效应持续变弱，价格也会自动走低。 目前来看，网络效应的变量刻画还有值得探索的空间。 退一步来理解网络效应 个体的效用为 $$ U_i=U(x_i,y_i;X) $$ 其中，$X=\\sum x_{j}$ 表示网络效应。 接下来求解边际条件： $$ MU_{x_i}=\\frac{\\partial U}{\\partial x_i}+\\frac{\\partial U}{\\partial X}\\cdot\\frac{\\partial X}{\\partial x_i} $$ 如果 $\\frac{\\partial U}{\\partial X}$ 很大，意味着一种外部性，消费者购买网红产品时，其额外带来了社交属性的满足，甚至可能超过了价格上升带来的负效用。 ","date":"2025-09-25","objectID":"/zh-cn/posts/gzhs/:2:2","tags":["微观经济学","文献阅读","Network"],"title":"解释“潮玩热”：从网络效应到多重均衡","uri":"/zh-cn/posts/gzhs/"},{"categories":["经济学学习"],"content":"从网络效应到复杂经济学 网络效应其实就类似一种多重结构的正反馈和负反馈。 从网络效应来谈开 大道向来不会用狭小的概念。 区域经济学，空间自相关也是种网络效应。区域经济学的距离方位一直都不“狭义”——文化距离（例如方言区）、经济距离（产业结构）、认知距离（例如产业结构竞争或者互补、专利相似度）……… 就如同凯恩斯理论中的乘数效应。其实凯恩斯还有多重均衡的概念。一个经济体，在某些条件下可能存在多重均衡。 截图来自威廉森的《宏观经济学》\r由于利率、价格、工资调整不完全，社会有一种自发的强化效应。。人们的情绪在乐观和悲观中交替且互相传染，这就是凯恩斯所说的\"动物精神\"。正因如此，社会预期的调整、经济信号的秩序规范才如此重要。 这也是为什么凯恩斯7如此说到 “在短期内，人们的心理预期和信心（animal spirits）比黄金储备更重要。” 经济学到今天，已经迈向了复杂经济学。复杂经济学家们重视社会中的网络效应、异质性主体、多重均衡。其实网络效应的解释也很简单，我跟随着社会的声音起伏，只是如何提取社会的声音并纳入分析？这就是最值得探索的议题之一。 宏观解释太多：男女分工导致的、社会保障导致的、文化导致、养育压力导致的、房价导致的…… 宏观的一种解释或许可以参考另外一篇博文 《富种起源》：千年暗室，一灯即明。 ↩︎ 特殊情况下，低档商品价格和需求同向变化，例如饥荒中的土豆（教材万年例子），价格越高越多人买。 ↩︎ 很多人就把这个叫做金融做局割韭菜。 ↩︎ 这位诺奖得主喜欢模型化各种经济现象，劳动经济学的研究居多。 ↩︎ 三阶段生产函数，因此厂商只在第二阶段生产。过程就是边际产出（mp）和平均产出 (ap) 的比较。 ↩︎ 其实弹性也可以看作变化率的去量纲化 ↩︎ 《就业、利息和货币通论》（1936） ↩︎ ","date":"2025-09-25","objectID":"/zh-cn/posts/gzhs/:3:0","tags":["微观经济学","文献阅读","Network"],"title":"解释“潮玩热”：从网络效应到多重均衡","uri":"/zh-cn/posts/gzhs/"},{"categories":["软件工具"],"content":"最近很多经济论文使用了 LDA 主题建模1和社会网络分析，所以在这里尝试用这套方法可视化下博客主题词。流程就是： Python 读取 markdown 文档。 清洗、分词。 LDA 主题构建。 构建网络数据。 利用 Gephi 可视化。 ","date":"2025-08-31","objectID":"/zh-cn/posts/lda_gephi/:0:0","tags":["Gephi","Python","Network"],"title":"LDA 主题模型与 Gephi 可视化","uri":"/zh-cn/posts/lda_gephi/"},{"categories":["软件工具"],"content":"LDA 主题建模 LDA 对于计算机文本分析来说是一个老东西了，但简单好用，算是种无监督机器学习。对于经济学来说，只需要知道其用于概括文本有多少个主题词就行了。在顶刊文章中，其往往用于测度数据类型2。 论文应用举例： JPE 2025 年的《More Laws, More Growth? Evidence from US States》量化了美国每州新立法主题的分布，讨论立法和经济增长的关系。关于营商环境类主题的立法更有效，机制是吸引投资，同时降低经济发展的不确定性。 RES 2025 年的《Women in the Courtroom: Technology and Justice》使用直播庭审推广试点的案件面板研究女性案件胜诉情况，其中案件类型基于每个案件的法条内容总结为 50 个主题类型。 其他文本分析可以参考《 香樟推文3057：怎么在经济学中用文本分析算法？》 关于 LDA 的理解，推荐一个简洁形象的油管视频（挂了梯子才能看见）： ","date":"2025-08-31","objectID":"/zh-cn/posts/lda_gephi/:1:0","tags":["Gephi","Python","Network"],"title":"LDA 主题模型与 Gephi 可视化","uri":"/zh-cn/posts/lda_gephi/"},{"categories":["软件工具"],"content":"Gephi ","date":"2025-08-31","objectID":"/zh-cn/posts/lda_gephi/:2:0","tags":["Gephi","Python","Network"],"title":"LDA 主题模型与 Gephi 可视化","uri":"/zh-cn/posts/lda_gephi/"},{"categories":["软件工具"],"content":"例子 Gephi 是一个网络关系可视化软件。这个软件最早还是博主  松易涅 推荐给我的。他在撰写毕业论文时使用这个软件研究了全球锂产品贸易依赖网络。 关于网络分析的基础知识，我十分推荐学习开源的鸢尾花统计学教材《数据有道》。 社会网络最经典的例子是六度理论——经由六个关键人士就可以认识世界任何一个人。六度理论体现在网络分析中就是（最短）路径和网络连通性。 社会网络分析最经典的数据集为空手道俱乐部。空手道俱乐部有两个教练，有一天他们分道扬镳了。此前有统计学家记录了俱乐部的人际关系，然后进行社会网络可视化然后聚类，最终成员分家的分布基本吻合。 空手道俱乐部数据集可视化，来源 wiki 百科\r社会网络可视化主要涉及网络关系的演化（聚集、分裂）、分布3（关键节点、权重、密度、结构4）、预测。 论文《Ownership Networks and Firm Growth: What Do Forty Million Companies Tell Us About the Chinese Economy? 》研究了中国股权网络的分布和演化。 如图\r论文《Community Interaction and Conflict on the Web》研究了 raddit 的社群网络：不到 1% 的社区引发了 74% 的负面动员行为。这些冲突一般由活跃社区的核心成员发起，而真正参与冲突的却是较不活跃的外围成员。 raddit 的社群网络\rCitespace 这种文献综述软件也是一种网络分析，也就是知识图谱。可参见另外一篇博文《 Citespace 文献可视化》。 以前测试的图片。 二次元主题，可以发现B站、初音未来也是三级关键词（homo是这样的）\r","date":"2025-08-31","objectID":"/zh-cn/posts/lda_gephi/:2:1","tags":["Gephi","Python","Network"],"title":"LDA 主题模型与 Gephi 可视化","uri":"/zh-cn/posts/lda_gephi/"},{"categories":["软件工具"],"content":"分析软件 让 gpt 总结了下可以选择哪些社会网络分析软件。 工具 定位 优点 缺点 适合场景 Gephi 网络可视化 + 探索 界面友好；丰富的布局算法；社区检测等功能 偏重可视化；不适合超大规模网络 快速可视化、演示、探索 Cytoscape 生物网络分析起家 → 泛用 插件生态丰富；科研常用；分析+可视化结合紧密 大规模性能有限；界面稍复杂 生物信息学、科研网络分析 Pajek 经典社会网络分析软件 可处理百万级大网络；学术界常见 界面老旧；学习曲线陡 大规模社会网络研究 NodeXL Excel 插件（微软系） 上手快；社交媒体数据抓取方便 功能有限；商业版才完整 社交媒体网络分析入门 Python NetworkX / igraph 编程工具 灵活；可定制；能结合机器学习和文本挖掘 无可视化界面；需写代码 高度灵活、科研实验 ","date":"2025-08-31","objectID":"/zh-cn/posts/lda_gephi/:2:2","tags":["Gephi","Python","Network"],"title":"LDA 主题模型与 Gephi 可视化","uri":"/zh-cn/posts/lda_gephi/"},{"categories":["软件工具"],"content":"代码 三个文件夹： 博客 markdown 文件夹（博客原文. md） 分词文件夹（txt 文档一个词单独一行即可，例如了、的、得、地、他、她、滑翔闪……） 结果文件夹 我使用的 jieba 分词、gensim.models 库的模型训练方式，如果想要进一步优化，可以从这几个环节进行修改5。 注意 gensim 和 numps 的版本兼容问题。 import os import re import glob import itertools import jieba import pandas as pd import networkx as nx from collections import defaultdict from gensim import corpora from gensim.models import LdaModel # 全局配置参数 DOCS_GLOB = r'D:\\\\PyTorch_practice\\\\博客分析\\\\数据\\\\原始博客\\\\*.md' # 文档路径通配符 STOPWORDS_PATH = r'D:\\\\PyTorch_practice\\\\博客分析\\\\数据\\\\设置\\\\分词stop.txt' # 可选停用词文件 OUTPUT_DIR = r'D:\\\\PyTorch_practice\\\\博客分析\\\\数据\\\\结果输出\\\\' # 统一输出文件夹 NO_BELOW = 5 # 词频低于此值的词将被过滤 NO_ABOVE = 0.5 # 词频高于此比例的词将被过滤 KEEP_N = 100000 # 保留的最高频词数量 NUM_TOPICS = 10 # 主题数量 TOPN = 20 # 每个主题显示的关键词数量 MAX_EDGES = 200 # 词共现图中保留的最大边数 # 默认停用词集合 DEFAULT_STOPWORDS = set([ '的', '了', '和', '是', '在', '就', '都', '而', '及', '与', '或', '一个', '我', '你', '他', '她', '它', '我们', '你们', '他们', '她们', '这', '那', '其', '又', '被', '上', '中', '对', '所', '为', '于' ]) def load_stopwords(path): \"\"\"加载停用词列表\"\"\" sw = set() if os.path.exists(path): try: with open(path, 'r', encoding='utf-8', errors='ignore') as f: for line in f: w = line.strip() if w: sw.add(w) except Exception as e: print(f'读取停用词文件失败 {path}: {e}') # 如果自定义停用词为空，则使用默认停用词 return sw if sw else DEFAULT_STOPWORDS def load_documents(glob_pattern): \"\"\"加载文档集合\"\"\" docs = [] filenames = [] # 获取匹配的文件列表 file_list = sorted(glob.glob(glob_pattern)) if not file_list: print(f'未找到匹配的文件: {glob_pattern}') return filenames, docs print(f'找到 {len(file_list)} 个文件') # 读取每个文件内容 for fp in file_list: try: with open(fp, 'r', encoding='utf-8', errors='ignore') as f: text = f.read().strip() if text: docs.append(text) filenames.append(os.path.basename(fp)) except Exception as e: print(f'读取文件失败 {fp}: {e}') return filenames, docs # 文本清洗与分词 RE_CLEAN = re.compile(r\"[\\s\\d\\u0000-\\u007F]+\") # 去掉 ascii/数字/多余空白，保留中文汉字和中文标点 def preprocess(text, stopwords): \"\"\"文本预处理：清洗、分词、过滤\"\"\" text = RE_CLEAN.sub(' ', text) tokens = jieba.lcut(text) # 过滤停用词和单字词 tokens = [t for t in tokens if t.strip() and t not in stopwords and len(t) \u003e 1] return tokens def build_cooccurrence(tokens_list): \"\"\"构建词共现矩阵\"\"\" cooc = defaultdict(int) freq = defaultdict(int) for tokens in tokens_list: # 对每篇文档中的词去重 unique_tokens = list(dict.fromkeys(tokens)) # 更新词频 for w in unique_tokens: freq[w] += 1 # 构建共现关系 for a, b in itertools.combinations(unique_tokens, 2): if a != b: # 确保有序，避免重复计数 key = (a, b) if a \u003c b else (b, a) cooc[key] += 1 return freq, cooc def main(): \"\"\"主函数\"\"\" # 创建输出目录 os.makedirs(OUTPUT_DIR, exist_ok=True) print('加载停用词...') stopwords = load_stopwords(STOPWORDS_PATH) print(f'加载了 {len(stopwords)} 个停用词') print('加载文档...') filenames, docs = load_documents(DOCS_GLOB) print(f'找到 {len(docs)} 篇文档') if len(docs) == 0: print('未找到任何文档，检查 DOCS_GLOB 设置') return print('分词并预处理...（这一步可能需要一些时间）') texts = [preprocess(d, stopwords) for d in docs] # 统计处理后的词汇信息 total_tokens = sum(len(text) for text in texts) print(f'预处理完成，共处理 {total_tokens} 个词汇') # 构建字典与语料 print('构建词典与语料...') dictionary = corpora.Dictionary(texts) original_size = len(dictionary) dictionary.filter_extremes(no_below=NO_BELOW, no_above=NO_ABOVE, keep_n=KEEP_N) filtered_size = len(dictionary) print(f'词典过滤: {original_size} -\u003e {filtered_size} 个词') corpus = [dictionary.doc2bow(text) for text in texts] # 训练LDA模型 print('训练 LDA 模型...') lda = LdaModel( corpus=corpus, id2word=dictionary, num_topics=NUM_TOPICS, passes=15, random_state=42, per_word_topics=True ) # 保存模型 model_path = os.path.join(OUTPUT_DIR, 'lda_model.model') lda.save(model_path) print(f'LDA 模型已保存: {model_path}') # 输出主题-词分布 topics = lda.show_topics(num_topics=NUM_TOPICS, num_words=TOPN, formatted=False) print('\\n主题关键词（每行一个主题）:') rows_kw = [] for tid, terms in topics: topic_words = ', '.join([f'{w}({p:.4f})' for w, p in terms]) print(f'Topic {tid}: {topic_words}') for rank, (word, prob) in enumerate(terms, start=1): rows_kw.append({ 'topic': tid, 'rank': rank, 'word': word, 'weight': float(prob) }) # 保存主题关键词 kw_path = os.path.join(OUTPUT_DIR, 'topic_keywor","date":"2025-08-31","objectID":"/zh-cn/posts/lda_gephi/:3:0","tags":["Gephi","Python","Network"],"title":"LDA 主题模型与 Gephi 可视化","uri":"/zh-cn/posts/lda_gephi/"},{"categories":["软件工具"],"content":"一些感叹 总是吐槽机器学习是黑箱子，但是对于使用各种分析软件的我来说，很多软件方法和黑箱子又有什么区别呢？假设 stata 外部命令错误，如果不知根知底，或者从理论上多角度比对结果就难以发现错误。 例如 「Stata」bdiff+reghdfe的正确用法，很多论文都被坑了。个人记得以前有个 did 外部命令也出现过错误。 我相信 ai 会加强代码类学习的正反馈，但与此同时 ai 也会带来“我懂了”的幻觉。正如费曼一向强调的那样——知道和理解并不相同7。跑通代码和理解代码远远不是一个层次的学习。Ai 学习的知识幻觉时代，什么才是懂了？或许应该被重新思考。 虽然 LDA 方法已经很老了, 但是经济学向来擅长冷饭新炒。 ↩︎ 近年异质性主体的挖掘越来越重要 ↩︎ 光是描述性统计就已经足够赚人眼球。 ↩︎ 把宇宙看作一个网络空间，最新研究发现地球也可能处于一个空洞之中。自从看了知乎上关于星际航行的一篇回答（人类真的永远无法离开拉尼亚凯亚超星系团吗），我已经不相信地球上有外星人了😢。 ↩︎ 有了 ai，数据分析都不难，难的是拿到符合要求的素材。 ↩︎ 但是大数据的情况下，分散性分布美化计算太过复杂，因此使用很少。 ↩︎ 所以费曼吐槽社会科学可能是伪科学。 ↩︎ ","date":"2025-08-31","objectID":"/zh-cn/posts/lda_gephi/:4:0","tags":["Gephi","Python","Network"],"title":"LDA 主题模型与 Gephi 可视化","uri":"/zh-cn/posts/lda_gephi/"},{"categories":["游记"],"content":"四姑娘山规范 ","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:1:0","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"保驾山神 四姑娘山位于川西，由四座相连的山峰组成。“四姑”本来是藏语的音译标准藏语：སྐུ་བླ་，罗马化：Sku——斯古拉如达（意为保驾山神）。因为恰好有四座山峰，所以后来当地的汉族人错以为“四姑”是汉语，并把这个名字改成“四姑娘”1。 从大姑娘到幺妹，辈分虽越来越小，攀登难度却越来越大。从1981年至今，只有41人成功登顶幺妹峰2。如果给四座山峰排上攀登等级，四姑娘山的难度提升分别对应着世界登山热门路线的四级梯队。 如图,使用谷歌的ai总结一下\r","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:1:1","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"路线选择 目前四姑娘山有三条常见的旅游或徒步路线： 双桥沟：商业开发程度 90%，老少咸宜，峡谷漂流为主。 长坪沟：商业开发程度 50%，峡谷雪山原始森林，国内经典徒步路线之一，木骡子3景点之后额外需要导游。 海子沟：商业开发程度 20%，不适合非专业徒步爱好者。 一般都玩两天一晚，选择双桥沟时可以住景区内多玩一天。 三条路线之外，是免费的猫鼻梁，在黄昏时登上去可以观看日照金山——夕阳的光辉洒在四姑娘山的冰川之上。 每一条路线都是单向路，只需要把握整体时间，不需要看地图。 图源，背包客栈，https://www.backpackers.com.tw/forum/showthread.php?t=10606664#post12439890|668\r","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:1:2","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"长坪沟 ","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:2:0","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"游玩方式 景区外住宿，一般住在四姑娘山镇附近（游客中心附近）。 在四姑娘镇，最便宜的正餐热食是 15 块的豆腐饭。 这张图是四姑娘山景区外的一角\r早上 7:40 开始，就可以在游客中心等候观光车，8 点开始循环发车送到长坪沟景区门口。 如图\r路线分为栈道和马道。马道可以付费骑马。非专业徒步者最远走到木骡子点位就是终点，一般耗时 4 小时左右，然后返程。 四姑娘山的马\r建议 8—13 点左右：走栈道，细品深谷幽林，在终点好好观景休息。 13 —16 左右：走马道返回，虽然不用骑马，但是马道会平坦好走一些。 个人当日步数如下，现在回看这个数字还挺吉利： 微信步数仅供参考\r","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:2:1","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"景色 雪山、峡谷、原始森林 我去的时候已经是四川均温最高的时候，但四姑娘山的冻土依旧盘卧。进门就可以看到远处巍峨的冷峻雪山闪耀光芒，而下方又是一片郁郁苍苍，自然可以理解圣山这一意向在当地人心目中的分量。 进门处的雪山\r冰雪融水缓缓流下，滋润了山下的原始森林。注意下午 3 点前要离开没有栈道的原始森林部分，下午 5 点前要离开有栈道的森林部分，因为熊出没。 树木横七竖八，躺成一堆，通过苔丝融入大地与彼此。 有栈道部分的森林和河流\r如图\r冰冷的雪山融水汇入河流，在石隙间掀起喧闹。云朵是雪山女神变幻莫测的裙摆，汇聚而成的河流则是裙摆外一条条飘逸的青色飞线。 如图\r悬泉瀑布，飞溯其间；枯树顽石，相映成趣。 虫虫瀑布\r如图\r入口处见雪山巍峨，脚下森林郁郁苍苍。进栈道入葱郁深处，赏溪流瀑布，似乎一直在雪山注视下向其靠近。等到两山渐渐向后遁去，而眼前突兀出现一木门，便是木骡子到了，霎时间豁然开朗，不知是山刺穿了天幕，还是天空撑起了青山，牛羊一旁悠闲吃草，雪山似乎显得更加慈爱。 木骡子处的雪山，就在终点抬头处，前有绝景\r两山退去，平原始显，冰山在侧，这里颇有桃园之感。 体会这种远处的雪山，狭长深幽的栈道——近在眼前的雪山，大开大合的平地的情绪转折就是这条徒步路线的灵魂。 小心这些耗牛，还是会攻击人的，不要靠太近\r","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:2:2","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"注意事项 ","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:3:0","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"温度与衣物 我去的时候已经是四川省均温最热的时候，此时四姑娘山温度在 14-24 度左右。但高山上的具体温度偏差更大，早上下雨时可以低到 8 度，下午大太阳时可以高达 26 度。因此推荐秋中后期的长衣长裤以便兼容。 两天一晚，不用特别防晒，有帽子即可。缺乏糖分，建议买瓶可乐一路带着喝。 一天来回，总共约 15 公里，最好有较好的登山鞋。 ","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:3:1","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"气压和高反 个人没有购买任何氧气瓶，没有吃任何相关药物，跑动赶路也没有什么具体不适，但还是有一些反应： 参考华为手环（数值仅供参考）， 手环数值只是参考值，不代表严谨的医学测量\r个人平时清醒血氧为 99%水平，睡眠血氧为 96%水平。 上山后清醒血氧为 96%水平，睡眠血氧为 86%水平。 图片中黄色部分就是在山上睡觉时的情况，睡醒后胸部确实感到了一些压力。 22 点下山之后，清醒血氧也从 96%回归到 99%。 带过去的面包，由于气压差疯狂膨胀\r","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:3:2","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"预算 成都出发，来回车费：相对便宜的为 120 元来回。 景区门票（包含游客中心到景区部分的摆渡车）：90 元。 住宿最便宜的 60 元一晚。 食物：个人选择两顿 20 元的耗牛肉粉+面包+四姑娘镇上找了一个 65 元的双人套餐。 基本能保证 400 元以内，增加一些路上的食物购买，500 元以下绰绰有余。 ","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:3:3","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["游记"],"content":"天气和光照 由于雪山景观是这条徒步路线的主要卖点，阴雨天气会让票价直接减一半，同时危险系数还会急剧上升。 个人比较幸运，登山时都是大晴天，返程到末尾时才开始下雨。 下图左是早上去晴朗天气的状态，雪山清晰可见。 下图右侧是返程时同位置拍摄的雪山，远处的雪山已经彻底被云雾笼罩无法看见。 返程的时候，路上已经有三处道路山体滑坡（等我们通过时已经疏通好了道路）和一起车祸。 如图，我们去时大晴天，一路都可以看见雪山，但是返程时开始下雨，整个雪山都掩埋在了乌云之中。位置都在进门处游客中心\r参见维基百科 ↩︎ 40年仅41人成功登顶 揭秘四姑娘山幺妹峰“难爬”原因 ↩︎ 业余徒步、普通游客到木骡子就是终点 ↩︎ ","date":"2025-07-30","objectID":"/zh-cn/posts/sgns/:3:4","tags":["旅游"],"title":" 四姑娘山，雪山脚下的徒步之旅","uri":"/zh-cn/posts/sgns/"},{"categories":["软件工具"],"content":"随着“自主知识体系构建”思潮兴起，中文期刊排版要求越来越严格1，例如表格变量不能出现英文名称。还有一如既往的要求，图片中文使用宋体，英文使用 times 字体。 Stata 图像框只支持统一设置一种字体，因此中英文字体需要在代码中额外设置下。 ","date":"2025-07-07","objectID":"/zh-cn/posts/stata_font/:0:0","tags":["Stata"],"title":" Stata 图片中英文字体设置","uri":"/zh-cn/posts/stata_font/"},{"categories":["软件工具"],"content":"回归系数可视化与中英文字体 使用 local 暂元命令储存下字体命令。 local zh1 `\"fontface \"SimSun\":\"' // 宋体 local en1 `\"fontface \"times\":\"' // times 然后在图像中进行对应的设置，例如： title(`\"{`zh1' 模拟数据中}{`en1' x}{`zh1'与六个}{`en1' y}{`zh1'的回归系数}\"', size(medium)) 具体代码， 生成六个 y 变量 生成一个 x 变量 六个 y 分别对 x 回归（六次回归） 系数可视化 绘图风格为 stata18 新加入的默认风格 stcolor。个人喜欢全包围的方框2。推荐标签和字体大小都设置 medium, 不然后续图片组合难以看清。 clear set seed 20250707 set obs 1000 * 解释变量 x gen x = rnormal(0, 1) * 六个被解释变量 y1–y6（各自系数接近 0） gen y1 = 0.01*x + rnormal(0, 1) gen y2 = -0.02*x + rnormal(0, 1) gen y3 = 0.015*x + rnormal(0, 1) gen y4 = -0.005*x + rnormal(0, 1) gen y5 = 0.012*x + rnormal(0, 1) gen y6 = 0.00*x + rnormal(0, 1) local ys y1 y2 y3 y4 y5 y6 foreach y of local ys { reg `y' x estimates store m_`y' } local zh1 `\"fontface \"SimSun\":\"' // 中文字体 local en1 `\"fontface \"times\":\"' // 英文和数字字体 * 绘制图形 coefplot /// (m_y1, rename(x = `\"{`zh1' 被解释变量1}\"')) /// (m_y2, rename(x = `\"{`zh1' 被解释变量2}\"')) /// (m_y3, rename(x = `\"{`zh1' 被解释变量3}\"')) /// (m_y4, rename(x = `\"{`zh1' 被解释变量4}\"')) /// (m_y5, rename(x = `\"{`zh1' 被解释变量5}\"')) /// (m_y6, rename(x = `\"{`zh1' 被解释变量6}\"')), /// keep(x) /// drop(_cons) /// horizontal /// xline(0, lcolor(red) lpattern(solid) lwidth(vthin)) /// xlabel(-0.15(0.05)0.15, labsize(medium) grid glcolor(gs12) format(%4.2f)) /// ylabel( /// 1 `\"{`zh1'变量一}\"' /// 2 `\"{`zh1'变量二}\"' /// 3 `\"{`zh1'变量三}\"' /// 4 `\"{`zh1'变量四}\"' /// 5 `\"{`zh1'变量五}\"' /// 6 `\"{`zh1'变量六}\"', /// labsize(medium) nogrid) /// ytitle(\"\", margin(small)) /// xtitle(`\"{`en1' (a)}{`zh1' 系数可视化}\"', size(medium) margin(medium)) /// title(`\"{`zh1' 模拟数据中}{`en1' x}{`zh1'与六个}{`en1' y}{`zh1'的回归系数}\"', size(medium)) /// legend(off) /// scheme(stcolor) /// recast(scatter) /// ciopts(recast(rcap) lcolor(black) lwidth(vthin)) /// graphregion(color(white) lcolor(black) lwidth(vthin)) /// plotregion(lcolor(black) lwidth(vthin)) 如图，这种图常常在外生性检验、异质性检验中被用到\r图中这种可视化检验也在变得越来越常见。例如一个城市政策（01 二元变量）是否是外生冲击的呢3？就使用城市 gdp、城市人口、城市经济增速这些相对于研究外生且代表城市特征的变量对政策选择回归。此时回归系数的理论含义就是试点与非试点的平均差异，不显著则说明差异不大，一定程度上检验政策实施具有外生性4。 中英文混排还有个问题就是 times 字体会偏高一些（例如图中标题的 x、y、（a））, 因此最好避免在标题使用中英文混排。 如果想要在多个回归，展示不同系数项，使用 keep 命令限制相关系数即可： clear set obs 1000 set seed 20250707 * 生成解释变量 x1-x3 forvalues i = 1/3 { gen x`i' = rnormal(0, 1) } * 生成被解释变量 y1-y4，系数随机接近0 gen y1 = 0.01*x1 - 0.02*x2 + 0.015*x3 + rnormal(0,1) gen y2 = -0.005*x1 + 0.012*x2 + 0.008*x3 + rnormal(0,1) gen y3 = 0.02*x1 - 0.01*x2 + 0.00*x3 + rnormal(0,1) gen y4 = -0.015*x1 + 0.01*x2 - 0.005*x3 + rnormal(0,1) local ys y1 y2 y3 y4 local xs x1 x2 x3 foreach y of local ys { reg `y' `xs' estimates store m_`y' } *keep 子命令可以保留每个回归想要展示的系数项 coefplot /// (m_y1, keep(x1 x3) rename(x1=\"y1-x1\" x3=\"y1-x3\")) /// (m_y2, rename(x1 = \"y2-x1\" x2 = \"y2-x2\" x3 = \"y2-x3\")) /// (m_y3, rename(x1 = \"y3-x1\" x2 = \"y3-x2\" x3 = \"y3-x3\")) /// (m_y4, rename(x1 = \"y4-x1\" x2 = \"y4-x2\" x3 = \"y4-x3\")), /// drop(_cons) /// horizontal /// xline(0, lcolor(red)) /// title(\"所有模型和解释变量的回归系数\") /// legend(off) keep子命令可以保留每个回归想要展示的系数项\r关于 coefplot 命令在事件研究法中的应用可参见“ 平行趋势检验的两种方式”。 顺便一提， coefplot 命令是 Ben Jann 教授开发的，他还开发了一系列很火的命令包。 Ben Jann 教授开发的其他包\r","date":"2025-07-07","objectID":"/zh-cn/posts/stata_font/:1:0","tags":["Stata"],"title":" Stata 图片中英文字体设置","uri":"/zh-cn/posts/stata_font/"},{"categories":["软件工具"],"content":"额外讨论：不同学科绘图差异？ 我的室友是电子信息专业的，每次看到我的回归图片都会觉得发论文，图像怎能这么简洁? 不过确实如此，比起生物统计、信息统计、卫生统计各种花里胡哨的图片，经济学最复杂的图片除去 GIS 之外，或许就是事件研究图的系数可视化了，剩余的都是大片表格。 这也能审美内卷？\r不过，似乎有这样一个趋势——回归系数可视化正在变的越来越常见。 再来看看发表在 nature、science 的经济学文章。我的很多老师吐槽这些论文是发不了经济学领域顶刊的，却能发在 nature 和 science 上——这是不是意味着经济学科的崩坏？我个人觉得就是吃了学科交叉的空子，环境资源经济学尤其容易获得这种红利。 这些论文的图片风格也完全不同，更贴近理工科的绘图风格与分析范式。 例子：发表在 nature 的《 Ageing threatens sustainability of smallholder farming in China》5。 本文基于面板模型，利用中国 3 万多户农村家庭的调查数据，探讨了农村人口老龄化（家庭层面 65 岁以上人口比例）与农业可持续性之间的关系。总共选取了九个指标来说明农业可持续性，包括农场规模、农民教育程度、劳动生产率、农业总投入和产出、成本利润率、机械投入、化肥投入和肥料使用效率（FUE）。 如图,发表在nature的《 Ageing threatens sustainability of smallholder farming in China》\r如图,发表在nature的《 Ageing threatens sustainability of smallholder farming in China》\r例子 2：发表在 science 的《Climate policies that achieved major emissionrecuctions: Global evidence from two decades》 (类似的中国环境经济学的在上面的还有不少) 本文通过全球性的系统性事后评估，以确定在 1998 年至 2022 年期间在六大洲 41 个国家实施的 1500 项气候政策中实现大幅减排的政策组合。我们的方法将全面的气候政策数据库与基于机器学习的常见双重差分方法的扩展相结合。我们确定了 63 项成功的政策干预措施，总减排量在 6 亿至 18 亿公吨 CO2 之间。我们对有效但很少被研究的政策组合的见解强调了基于价格的工具在精心设计的政策组合中的重要作用，以及缩小排放差距所需的政策努力。 如图,发表在 science 的《Climate policies that achieved major emissionrecuctions: Global evidence from two decades》\r不少高校出现升中文奖励等级，降英文奖励等级的趋势。 ↩︎ 老师有次还对我说图片方框需要很细的，因为太粗了打印出来不好看，不过我看大部分顶刊使用的都是粗线条外框。无论如何，字体肯定推荐中号大小以兼顾显示和美观。 ↩︎ 工具变量的排他性，解释变量的外生性正在逐渐被重视，随机分配的检验正在变得越来越多。 ↩︎ 当然，只是一种必要条件的检验，一切计量检验的都是必要条件而非充要，所以有人才认为计量只是一种说服人的学科，通过无数必要条件的展示说服人们这可能是充要条件。 ↩︎ science 和 nature 的文章页数一直很短，甚至没有附录，和经济学的趋势完全相反。 ↩︎ ","date":"2025-07-07","objectID":"/zh-cn/posts/stata_font/:2:0","tags":["Stata"],"title":" Stata 图片中英文字体设置","uri":"/zh-cn/posts/stata_font/"},{"categories":["软件工具"],"content":" 没有无线电的世界是聋人世界。 A world without radio is a deaf world. ——欧内斯特·耶博阿 去年在  yllhwa 推荐下考了业余无线电 A 证，但是实践上还是很脱节，这里主要是记录下业余无线电设备的按键操作，便于自己之后查找。 ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:0:0","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"常用按键简要总结 设备：泉盛 uv-k7 功能 按键 备注 主副频道切换 F2 频率、信道切换 F3 A 证常用：- 144.100MHz - 144.640MHz - 438.500MHz 扫频 F4 功率选择 F6 高中低HML 收音机 F0 手动选台F1 手动搜台F3 储存、删除信道 M13\\M51 ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:1:0","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"关于业余无线电考证 什么是 业余无线电 ，推荐视频： 业余无线电证书有 A-B-C 三个等级，不能跳级考，主要区别是频段范围（短波至少需要 b 证）。考试方式类似驾照科目一，刷题即可。推荐微信小程序 HAM 模拟考试小程序(《驾考宝典》，群众的力量提供考题解析)，连续三天刷下题基本就没问题了。 微信小程序 HAM 模拟考试小程序\r相关论坛：HamCQ 社区。 ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:2:0","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"设备：泉盛 uv-k7 平民神机，120 元左右。 设备页面\r","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:3:0","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"启动 右上方旋钮就是开关和音量。 M 键 是菜单键，EXIT 退出返回。 PTT 发射键：设定好频道后，想要发射自己的声音就持续按下。 ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:3:1","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"调频 想和伙伴或者当地业余无线电爱好者通信，一般就选择对应的频道进行通话。 此时有两种频道选择模式, 频率模式或者频道模式。通过 F+3 进行切换。 如图\r一个屏幕会同时显示两个通信频段，也便于我们进行快速切换（切换案件 F+2）。 频率模式时，左侧命名是 F? 的形式，例如图片中生 F6。此时可以随时手动输入数字切换频道，也就是通过数字键盘随意修改频段。 信道模式时，左侧命名是 M? 的形式，例如图片中生 M002。代表已经储存好的频段，这时候可以通过左侧（BC 上下方向键）快速切换已经储存好的频道。 换而言之，两种模式只是不同切换频道的方式，切换或者输入完整频道后，设备已经在接收信号。想要输出时就按下 PPT 按键（一直按住）。 A 证全国常用的几个频道 144.100MHz 144.640MHz 438.500MHz ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:3:2","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"频道储存 使用频率模式输入频道后如何保存到信道模式： M菜单键 —— 13。 与之对应的是删除已有的信道： M菜单键 —— 51 ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:3:3","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"收音机 F+0：启动收音机。 F+1：手动选台。 F+3 手动搜台。 ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:3:4","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"呼号：字母解释法 字母解释法，来源：http://www.scraa.org.cn/rumen/291.html\r我的呼号：BD8FEO BRAVO DELTA EIGHT FOXTROT ECHO OSCAR BOSTON DENMARK EIGHT FLORIDA ENGLAND ONTARIO ","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:4:0","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["软件工具"],"content":"我国分区 异地发射时使用 如图，来源： https://jjxxw.cq.gov.cn/zwgk_213/fdzdgknr/zcwj/fg/202412/W020241211415991928096.pdf\r","date":"2025-06-04","objectID":"/zh-cn/posts/amateur_radio/:5:0","tags":["业余无线电","软件推荐"],"title":" 业余无线电：泉盛 UV-K7 按键操作","uri":"/zh-cn/posts/amateur_radio/"},{"categories":["经济学习"],"content":" 市场绝不是个简单的概念，市场的定义也不应该太宽。同样重要的是，要认识到市场的“正确”定义与如何使用这个概念有关。 ——让·马塞尔·梯若尔（Jean Marcel Tirole）《产业组织理论》 反垄断被公认为一个正义的事项，但市场的海洋波涛汹涌，无数企业在其中穿梭航行，以至于垄断的界定变得无比复杂。垄断怎么界定？什么样的垄断该被制止？本文用于记录产业经济学相关课程垄断专题的收获。前半部分主要是简单回顾下经济学关于垄断的基础认识。后半部分是分析我国的反垄断法改革。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:0:0","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"基础经济知识回顾 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:1:0","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"何为垄断 从实践的角度，垄断一般分为以下类型： 自然垄断：成本次可加性 造成的垄断，具体含义为“单个企业大规模生产经营比多个企业同时生产经营更有效率（平均单位成本更低）的现象。”其特征往往表现为资源稀缺性或者规模经济。例如一个企业通过纳入上下游厂商来降低生产成本，或者购入相关的稀缺资源作为自己的子公司。 举一个当代的例子：平台经济具有自然垄断的特性——成本由大量的固定成本（基础设施）和少量的边际成本（平台服务量增加）组成。当一个平台进行了足够多的基建后，他有充足的动机扩张自己的服务规模，最终削减平均成本。正因如此，电力、煤气、电话业务、长途交通这类容易造成自然垄断的产业往往由国家把控或者价格管制。 所以科斯才思考起了公司的起源或许源于 交易成本 ——达成交易需要付出额外的成本，而企业主体利于减少交易成本。自然垄断则通过公司的扩张削减了平均成本。 行政垄断：政府给予企业排他性地生产某种产品或劳务队权利。 资源垄断：关键资源由一家企业拥有。 一个有趣的历史故事 童年有一个很流行的游戏——大富翁（英语：Monopoly，直译为“垄断”）。扔骰子在地图上做买卖然后赚钱。这个游戏最发明的初衷是为让大家知道垄断之害。 如图\r","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:1:1","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"垄断的原因 理解垄断，也是理解企业行为的一个视角。企业围绕利润最大化的目标，寻求垄断，达成合谋，这也是理解市场运作的一种角度。垄断是一个深奥的主题，并没有具体而统一的框架。当代依旧可以提出垄断产生原因的新解释和模型，或者提出更统一的理解框架。 成本次可加性：成本次可加性性可能是技术带来的，也可能是规模经济带来的。 资源控制：特殊的核心资源，不只是自然资源，例如当代，腾讯的社交软件拥有巨大的社交用户资源。王者荣耀社交性依托于社交软件的资源（大部分人边骂边玩）；茅台这类高端酒品牌对下游市场掌握了议价权。 行政原因：政府制定的政策，例如价格管制，营业资格证制度。 企业合谋：做研究时，可以考虑复合原因的互动，例如政府的政策可能诱发企业的合谋。诺奖得主梯若尔的重要贡献便是深入引入了博弈论分析市场竞争，发展了产业组织理论。 历史原因：例如一个企业只是因为先制定了有利于自己的行业标准。虽然首发经济这个概念最近才被中央提出，但是可以理解为历史上的偶然，或者看作先发优势的扩展。钻石品牌就是一个典型，不只是营销，第一个钻石公司塑造了钻石行业运转。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:1:2","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"垄断的好与坏 为什么要破除垄断？所有的垄断都需要破除吗？ 反垄断的核心指导思想是社会福利最大化或者效率最大化。 在完全竞争市场中，均衡对应条件为 $MC=P$。而在垄断市场中，厂商利润最大化条件为： $MC=MR$。定价高于边际成本，产出也低于社会福利最大化的对应产出，因此被认为是低效率的。 如图,来源范里安版微观经济学现代观点\r但是垄断就全然没有好处吗？专利制度就是一种有限垄断。这种垄断有助与创新。 在市场上总是出现这种 U 形均衡。多大成程度的垄断才能促进创新？在专利层面，专利保护的年限、专利申请的费用、专利保护的原则依旧值得讨论。 此外，完全竞争市场企业没有定价权，价格是外生变量，垄断市场企业有一定定价权，因此也经常会讨论价格歧视。虽然在中文语境中价格歧视是一个贬义词，但在经济学概念中，价格歧视是种定价策略，而一些情况下，如果价格歧视能有效扩大交易量，社会福利可能是提升到。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:1:3","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"垄断的行为 价格：包含价格歧视（一级价格，二级数量，三级对象偏好）。 势力：可以细分很多假设：消费者市场还是生产者市场？产品还是要素？是否异质性产品？上游还是下游？国内市场还是国外市场？价格领导还是数量领导？博弈顺序是什么？博弈是静态还是动态？是否涉及信息不对称？ 在经济下行时期，企业势力与成本的转嫁正逐渐成为一个研究热点。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:1:4","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"政府如何反垄断：浅论反垄断法 政府一般有如下手段——价格管制、阻止兼并、税收、罚款、行政处罚管制、反垄断法。 美国最早的反垄断法是反托拉斯法（ Sherman Antitrust Ac）。 我国第一起反垄断案例是 2008 年的《可口可乐收购汇源事件》。 国内民营企业汇源想将公司卖给可口可乐。民间舆论的倾向是不想将国内企业卖给国外。国际舆论环境倾向是，阻止可口可乐收购汇源是一种中国市场行为管制过于苛刻的表现。 如何定义垄断和反垄断 什么时候我们该阻止企业兼并呢？什么时候又应该认为企业处于垄断地位呢？处于垄断地位的企业就一定要打击吗？ 最后我国市场监管局判定涉及垄断。在交易失败后，汇源果汁股价大跌，公司经营状况也不断恶化。对于这个案子，我国经济学家郎咸平认为可口可乐败在太拽。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:2:0","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"反垄断，反的是什么？ 2009 年，中华人民共和国商务部发布了可口可乐收购汇源案件的公告 2019年第22号： 集中完成后，可口可乐公司有能力将其在碳酸软饮料市场上的支配地位传导到果汁饮料市场，对现有果汁饮料企业产生排除、限制竞争效果，进而损害饮料消费者的合法权益。 品牌是影响饮料市场有效竞争的关键因素，集中完成后，可口可乐公司通过控制“美汁源”和“汇源”两个知名果汁品牌，对果汁市场控制力将明显增强，加之其在碳酸饮料市场已有的支配地位以及相应的传导效应，集中将使潜在竞争对手进入果汁饮料市场的障碍明显提高。 集中挤压了国内中小型果汁企业生存空间，抑制了国内企业在果汁饮料市场参与竞争和自主创新的能力，给中国果汁饮料市场有效竞争格局造成不良影响，不利于中国果汁行业的持续健康发展。 这里面体现的核心思想是\"反垄断，反对的是垄断行为而不是垄断地位。\" 从经济学基础知识角度说，我们有两个角度判断企业是否是垄断企业。 1、市场份额。如果一个企业成为市场里的巨无霸，我们可以认为他是一个垄断企业。 2、垄断行为。我们担心的是当一个企业份额足够大时，他会对其他企业或者消费者造成损害。本身担心并不是垄断地位，而是将来会产生的垄断行为。 但是一个企业市场份额有多大才算垄断企业呢？例如 2001 年美国《合众国诉微软案》认为微软涉及市场上垄断，是基于操作系统推销浏览器 Internet Explorer 才赢得了浏览器大战。 微软为自己的辩护是—— Internet Explorer 是操作系统的一个功能，而不是单独的一个产品。最终结果是微软还是被判罚垄断，不过联邦和微软也达成了一些妥协。 将 Internet Explorer 看作一个操作器的附加功能，那么微软操作器的市场份额并不构成垄断。这也解释了为什么彼时的微软尚未产生强大的议价能力。 市场份额是一个难以计算的变量。我国是将可口可乐和汇源果汁都定义为“碳酸软饮料”来计算的市场份额。 在我国还有其例子, 例如茅台和五粮液。 《反垄断法》第十四条明确禁止经营者与交易相对人“达成限定向第三人转售商品的最低价格”。 而五粮液和茅台构成垄断的证据为： 粮液和茅台发布营销督查处理通报称：极个别的五粮液品牌运营商和五粮液专卖店我行我素、不按规则、不顾大局、不识大体，低价、跨区、跨渠道违规销售五粮液。 在茅台和五粮液看来，他们是作为厂商和下游经销商正常议价，结合自己的生产价格进行议价，其他酒厂也都有自己的规定价格，属于正常市场竞争行为。 http://politics.people.com.cn/n/2013/0219/c70731-20531032.html\r在这个案例中，我国将茅台和五粮液定义为“高端白酒品牌”来计算市场份额进而认定了垄断。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:2:1","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"市场份额作为垄断标准的缺陷 从以上案例可以看出，将市场份额作为垄断标准，带来的结果便是，概念定义不同，市场份额就不同，很难有统一的标准。 两位诺奖得主，弗里德曼和克鲁格曼就旗帜鲜明地反对了微软垄断案，认为这是政府损害市场自由的表现。 对应的理论依据是芝加哥学派的一个概念——“可竞争市场”（ Contestable market）。 假设有一个市场，此时只有一个厂商，他的市场份额是 100%，但是此时市场壁垒很低，其他厂商可以以较低的成本进入市场和退出市场，此时没必要反垄断。同样，如果一个企业只是通过正常的技术进步得到了今天的地位，他也并没有直接通过自己的地位阻碍其他企业的技术进步，那么这种垄断地位也是不用反对的。 在早期或许很难有这样的环境，但在数字经济高度发展的今天，这样的案例并不难找。例如腾讯虽然占据了社交软件的绝大部分份额，但是由于互联网社交软件的市场壁垒较少，因此不用反垄断。这也能解释为什么今年京东向美团发起了挑战，因为对于京东来说，结合他自身的物流固定资本投入，加上依赖平台经济，市场进入壁垒是较小的。 但可竞争市场这个理论也有弊端。例如企业先利用低于成本的价格占领市场然后提升价格。比如雷军就骂过自己的下属，自己要的不是利润而是市场份额。这种博弈先利用低价占领市场然后掌握主导权，因此国际贸易才反对倾销。 再举例子，由于地理因素，山西人喜欢汾酒，这种巨大的市场份额是否应该反垄断? ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:2:2","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"反垄断法 最后来看看我国反垄断法的改革。2008 年以前我国没有反垄断法，只通过反不正当竞争和消费者权益进行相关执法。 中华人民共和国反垄断法(2022 修正) 第一条 为了预防和制止垄断行为，保护市场公平竞争，鼓励创新，提高经济运行效率，维护消费者利益和社会公共利益， 促进社会主义市场经济健康发展，制定本法。 垄断与创新的关系是一个倒 U 的关系。2022 年的修正在总则中添加了鼓励创新这个目标。第一条也开宗明义，明确了反垄断反的是垄断行为而不是地位。 第三条本法规定的垄断行为包括： （一）经营者达成垄断协议； （二）经营者滥用市场支配地位； （三）具有或者可能具有排除、限制竞争效果的经营者集中。 经营者集中的概念耐人寻味，同样涉及产业链的定性方向。 第六条 经营者可以通过公平竞争、自愿联合，依法实施集中，扩大经营规模，提高市场竞争能力。 第七条具有市场支配地位的经营者，不得滥用市场支配地位，排除、限制竞争。 明确了反垄断反的是垄断行为而不是地位。至少创新技术驱动的垄断地位是不会有问题的。后续还有涉及外贸、危机挽救、社会责任的相关原因也可以豁免。 第八条 国有经济占控制地位的关系国民经济命脉和国家安全的行业以及依法实行专营专卖的行业，国家对其经营者的合法经营活动予以保护，并对经营者的经营行为及其商品和服务的价格依法实施监管和调控，维护消费者利益，促进技术进步。 国家垄断产业具有特殊性。 第九条经营者不得利用数据和算法、技术、资本优势以及平台规则等从事本法禁止的垄断行为。 数字经济时代的特殊背景。 第二十四条有下列情形之一的，可以推定经营者具有市场支配地位： （一）一个经营者在相关市场的市场份额达到二分之一的； （二）两个经营者在相关市场的市场份额合计达到三分之二的； （三）三个经营者在相关市场的市场份额合计达到四分之三的。 垄断地位的定量标准。可口可乐和汇源的收购案标准就与此相关。 第二十五条经营者集中是指下列情形： （一）经营者合并； （二）经营者通过取得股权或者资产的方式取得对其他经营者的控制权； （三）经营者通过合同等方式取得对其他经营者的控制权或者能够对其他经营者施加决定性影响。 经营者集中。后续也有补充，排除了股权情况和子公司情况相关公司。 第二十七条经营者集中有下列情形之一的，可以不向国务院反垄断执法机构申报： （一）参与集中的一个经营者拥有其他每个经营者百分之五十以上有表决权的股份或者资产的； （二）参与集中的每个经营者百分之五十以上有表决权的股份或者资产被同一个未参与集中的经营者拥有的。 第三十三条审查经营者集中，应当考虑下列因素： （一）参与集中的经营者在相关市场的市场份额及其对市场的控制力； （二）相关市场的市场集中度； （三）经营者集中对市场进入、技术进步的影响； （四）经营者集中对消费者和其他有关经营者的影响； （五）经营者集中对国民经济发展的影响； （六）国务院反垄断执法机构认为应当考虑的影响市场竞争的其他因素。 垄断份额与垄断行为的综合考察。 第五十七条经营者违反本法规定，滥用市场支配地位的，由反垄断执法机构责令停止违法行为，没收违法所得，并处上一年度销售额百分之一以上百分之十以下的罚款。 罚款标准是上一年度销售额 1%——10%。可以看出调查小组的自由裁量权很大，而一般涉及罚款的一个 1%就涉及上亿的资金。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:3:0","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"总结 为什么垄断话题在产业组织理论中如此重要？因为产业经济学起于企业利润最大化的追求。企业的目标塑造了企业间的互动（竞争还是合作），当我们纳入政府与社会福利的分析时，整个市场的互动便有了更清晰的脉络。 当我们反垄断时，反对的到底是什么？一言以蔽之——我们反对垄断行为，但不反对垄断地位。主体拥有市场势力，有支配地位，并且滥用支配地位干预了市场，才造成垄断。 我们早已对垄断之罪习以为常，但市场份额多大算大？政策又会带来哪些隐秘的扭曲？实际上反垄断依旧有许多仍待探讨的空间。垄断就是像一场屠龙者成为恶龙的循环，历史周期似乎无法避免，正因如此，垄断或许就是那一把理解市场行为的关键钥匙。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:4:0","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"数字经济时代新问题 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:5:0","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"内卷 对于内卷，可以定位为 投入增多，产出下降（规模报酬递减） 投入增多，产品质量下降（质量、技术、材料等） 内卷造成的价格战是垄断问题吗？价格战总体为比较市场的机制，判定的关键是价格战的结果。 理想的价格机制为形成差异化竞争，增加产品多样性，促进创新。 如果内卷的价格战并没有差异化竞争这一步，就是不好的竞争结果。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:5:1","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["经济学习"],"content":"平台经济 美团强迫用户外卖软件二选一肯定构成了垄断，但是饿了么只有 30%的外卖市场份额，它强迫用户二选一是否构成了垄断？ 因此，需要从传统的实体市场进一步分析数字市场，平台经济。传统的垄断关注的是平台间势力（a 公司和 b 公司），进一步需要探讨的是平台内势力（平台与用户）。 平台、经营者、用户、消费者之间的势力问题。 ","date":"2025-05-01","objectID":"/zh-cn/posts/fld/:5:2","tags":["产业经济学","经济法"],"title":"当我们反垄断时，反对的到底是什么？","uri":"/zh-cn/posts/fld/"},{"categories":["阅读"],"content":"最近有一个比较火的案子“山西大同「订婚强奸案」”。看起来争议点是订婚后的婚内强奸，而这毫无疑问是错误行为，但为什么网上还有争吵呢？其实互联网两派吵的不是同一个层次的问题。 从经济学的角度，我发现了两个有趣的现象， 本质上来说，双方争论的问题并不在一个层次上。 性别别会影响双方看问题的视角。这一点本身耐人寻味。 ","date":"2025-04-20","objectID":"/zh-cn/posts/sfjs/:0:0","tags":["法律","时事"],"title":" 山西大同「订婚强奸案」二审：司法精神与执行","uri":"/zh-cn/posts/sfjs/"},{"categories":["阅读"],"content":"支持派的角度是事前的“法的精神”。 本案司法的核心精神如下1： 审判长：与妇女发生性行为不能违背其意志，与双方是否订婚没有关系。 审判长：国家大力倡导将社会主义核心价值观和中华优秀传统文化融入社会生活。 本案的审判，彰显了人民法院依法惩治侵害妇女权益违法犯罪行为的鲜明态度和坚定立场。 在支持者和审判长的立场下，案件争议是订婚后的非自愿性行为是否违法，此时定性为违法是毫无疑问的。 法的精神是为我们的行为提供一种事前的约束。什么应该做，什么不应该做，怎么做社会才能发展更好，也就是社会科学强调的前瞻的道德观念2。这里的约束是——无论订婚与否、结婚与否、关系如何，我们都应对配偶保持足够的尊重。 不过，从现有司法来说，实际上目前的法律依旧没有在这类案子上贯彻真正的司法精神公平。在用词上，男性被强奸案也没有被真正纳入考量。强奸违背的应当是人权而不局限于妇女权。不做到这一点，那么妇女意愿真正被捍卫的主要是“物化的贞洁”3。 此处司法精神的用语是“违背妇女意愿”，但强奸理应不局限于性别。用词的局限让第一次争议产生了，话题才被带偏到彩礼身上。 ","date":"2025-04-20","objectID":"/zh-cn/posts/sfjs/:1:0","tags":["法律","时事"],"title":" 山西大同「订婚强奸案」二审：司法精神与执行","uri":"/zh-cn/posts/sfjs/"},{"categories":["阅读"],"content":"反对派的角度是事后的“法的执行” 额外一提：中国的案件判决，二审改判是较为罕见的行为，尤其是涉及公安检察的这种案子。 《法院二审改判率极低，不符合司法规律》来源：财新新闻\r考虑到强奸案的特殊性4，其判案方式和其他案件有所不同： 物证大于口供？ 疑罪从无？ 关于程序正义 关于程序正义，我想起了自己身上的一件事。 曾经在评审综测时，参与比赛的分数和比赛获奖的得分是分开计算的，同时两种加分都有上限。 因为我比赛获奖的分数达到了上限，因此我想将一个比赛获奖的加分移动到参加比赛上去。 班委的讨论结果是——不同意。除非我拿出我参加比赛的证明（参加比赛和比赛获奖，学校都会分别开一个证明）。但是我参加活动的证明已经丢失，班委们最终结果是——比赛获奖的证明是无法通过程序证明我参加过比赛的！😅 每每看到任何执行过程的扭曲，我都会想起我在校园接受的如此生动形象的一课。 均衡无处不在。灵活性、精准度、成本效率。我认为司法很多时候需要在这三个要素中做出一些妥协。 这类案件最麻烦的一点——捍卫程序正义非常容易被扭曲。口供什么时候作用大于物证，这里面的自由量裁空间非常大。 反对方担心的是案件事后带来的道德风险，应当是是事后的信息不对称 5 。由于案件在执行过程中，口供的重要性被提高了，那么一个试图诬陷男性的这类案子，成本收益并不对等。 尤其是在这类案子中，存在严重的信息不对称: 什么样的证据能证明妇女的意愿？这一点已经很困难。 要注意的是，在本案中，证据链是有的。大家都知道，经济学论文天天被骂因果推断的内生性，但是如果要统一一个标准？多少证据才能证明一件事?我们或许永远不会知道。\r事后的道德风险指的是：妇女们在知道这种判案方式后，她的心态是否会发生改变？这一点道德风险也难以保证。 ","date":"2025-04-20","objectID":"/zh-cn/posts/sfjs/:2:0","tags":["法律","时事"],"title":" 山西大同「订婚强奸案」二审：司法精神与执行","uri":"/zh-cn/posts/sfjs/"},{"categories":["阅读"],"content":"为什么性别会影响思考的角度 ？ 综合前面来看，答案呼之欲出——如果强奸类案件没有定性为人权，而是局限于妇女权，从司法精神上，是正确的，但是从法的执行上，比起捍卫妇女权，更像是保护物化的贞洁。此时，口供的证据可信度自然被高估了，与此同时，道德风险也上升了，于是产生了立场利益之争。 前景理论；为什么癌症参保率会这么高 为什么人们倾向于为发病率极低的癌症参保？因为人们倾向于幻想自己得了癌症会怎样。也就是总是把得了癌症的结果作为参考。 至于多少证据才能说服一个人犯罪了？至少在这一个案子中，这涉及前景理论6，也就是女性担心自己将来被侵犯，男性担心自己将来被诬陷。 对于女性来说，她们对案件的共情性会更高一些，这些证据足以说服她们感同身受，因为她们思考的参照点往往是我遭遇了同样的情况会是怎样的（逆向选择）；但是对于男性来说，担心的更多是我被诬告的风险有多大（道德风险）。至于男性被强奸案以往的判决，文化价值观的影响其实更大一些。不过随着社会越来越开放，我个人认为不必如此担心，事实上在本案还有其他的证据，我也比较相信我国的公检法机构。是在本案中，男方自己也承认过犯罪事实。 虽然有争议，但正所谓在迷茫中寻找真理，这种争吵才能帮助我们一事一议。 席某某构成强奸罪的理由是什么？女方是否存在骗婚情形？山西“订婚强奸案”审判长答问 ↩︎ 但是对于死刑、堕胎的合法性，这些依旧处于讨论之中 ↩︎ 劳东燕：山西大同订婚强奸案中的众声喧哗 ↩︎ 消灭证据的成本很低且不易得到物证 ↩︎ 事前的信息不对称是逆向选择，也就是劣币驱逐良币 ↩︎ 每个人在思考时有一个参考点。 ↩︎ ","date":"2025-04-20","objectID":"/zh-cn/posts/sfjs/:3:0","tags":["法律","时事"],"title":" 山西大同「订婚强奸案」二审：司法精神与执行","uri":"/zh-cn/posts/sfjs/"},{"categories":["经济学习"],"content":" 在混乱之中发现单纯 ——爱因斯坦 大自然充满了魔力，随机分配让准自然实验成为可能，其也是因果推断的发源基石之一1。一般认为，随机分配会平均掉和解释变量相关的偏差，进而得到具有良好特性的实验组和对照组。在 2022 年，一种基于随机分配的工具变量思想逐渐频繁登上了 top5 经济期刊。 ","date":"2025-04-01","objectID":"/zh-cn/posts/judge_iv/:0:0","tags":["因果效应","文献阅读","法律经济学"],"title":" 审查员设计（Judge IV）：一种随机分配的因果推断","uri":"/zh-cn/posts/judge_iv/"},{"categories":["经济学习"],"content":"发展历程 举一个例子： 大型社会考试时我们会祈祷遇上仁慈的改卷老师。 贷款时我们会祈祷遇上宽松的审查员。 旅游时我们祈祷期待遇上好心的路人。 命运的随机分配充满了魔力，一些人确实被随机分配到了更为仁慈的审查员手里，于是他们的命运，相较于哪些随机分到了严格的审查员的人群产生了差异。这就是 Judge_IV 的核心因果思想，先量化这些审查员的严格程度。然后比较随机分配到他们手中的群体的未来发展差异，进而成为一种基于随机分配的因果推断。 Judge leniency IV designs: Now not just for Crime Studies ——David McKenzie JUDGE – IV，也可以叫 Examiner Designs （审查员设计），或者 Judge leniency IV designs（仁慈法官工具变量）。这类工具变量的思想先起源于描述统计，当时有人统计了不同教师和不同法官的给分和判案倾向，发现了显著的差异性。2006 年有文章直接使用了这个工具变量作为检验。 如图\r工具变量的构造非常检验，和其他工具变量的构造类似2——去中心化的均值期望。 2018 年以后，不断有研究拓展了这种方法。这种测量关注的是审查员的严格程度。简单来说就是 {通过，不通过} 的概率。去中心化的数学期望分布在 0-1 之间，用于衡量严格程度。 也就说，只要拥有随机分配的审查员和结果方向性，就可以尝试使用 judge iv 。例如家暴调查员是否选择带走孩子；美国的救护车公司是随机分配的，但他们的价格有高有低，在救援中会造成不同影响；房贷审查员有些人比较粗心，很容易就通过贷款申请…… ","date":"2025-04-01","objectID":"/zh-cn/posts/judge_iv/:1:0","tags":["因果效应","文献阅读","法律经济学"],"title":" 审查员设计（Judge IV）：一种随机分配的因果推断","uri":"/zh-cn/posts/judge_iv/"},{"categories":["经济学习"],"content":"实证分析 定义解释变量 $D_i$ : 代表审查员的变化方向，通过为 1，不通过为 0。 定义工具变量 $Z_{a_{\\{-i\\}} }$ : 代表审查员除去当前案子的其他案子的通过率。 两阶段回归便是： $$ \\text{一阶段：}D_i=Z_{a(-i)}\\pi+\\nu_i $$ $$ \\text{二阶段:}Y_i=\\alpha+\\delta D_i+\\epsilon_i $$ 可比性：系数的经济意义是什么？ 随机分配到不同倾向性审查员后的被审查对象的 发展差异。 工具变量写成矩估计的形式可以看作一种样本权重（GMM 框架下特殊的矩条件），而在这里比较的就是那些被分配到相似严格程度的法官的行为差异。这种情况也类似样本匹配的功效。 一般 iv 无法检验变量的排他性和单调性，只能通过理论阐述进行补充，但 jugeiv 的优势是它能够通过实验设计检验工具变量的单调性、排他性3。 ","date":"2025-04-01","objectID":"/zh-cn/posts/judge_iv/:2:0","tags":["因果效应","文献阅读","法律经济学"],"title":" 审查员设计（Judge IV）：一种随机分配的因果推断","uri":"/zh-cn/posts/judge_iv/"},{"categories":["经济学习"],"content":"随机分配 方法一 使用工具变量或者解释变量对样本特征进行回归，不显著，或者 F 检验不通过，则说明样本特征并没有干预解释变量，也就是解释变量是外生的。 在《Feedback and learning: The causal effects of reversals on judicial decision-making》中，作者通过案件的逆转方向（工具变量）对案件特征变量进行回归，皆不显著，验证了随机分配。也就说案件的结果和法官的特征是无关，每一个案件被随机分配到了不同的法官手中。 随机分配也证明了工具变量的排他性。法官随机抽取一个案件然后判案，断绝了法官自身性格因素以外情况（例如权钱交易）。 如图\r上面是使用解释变量对其他特征进行回归，通过 F 检验检验随机分配。 方法二 实验组和对照组的均值差异不大，则说明分组依据做到了随机。 第二种更直观的检验随机分配的方法，就是比较实验组和对照组的平均特征差异。也就是使用案件特征对解释变量进行回归，此时经济意义就是对照组和实验组的平均差异。 $$X_i=\\beta\\cdot PD_i+\\alpha_{j(i)}+e_i$$ 下面这篇 2025 年斯隆奖获奖的博士论文研究的就是律师的随机分配，贫穷的被告会被随机分配到公共组织和私人组织的辩护律师。将律师特征作为工具变量对分配类型进行回归，经济系数接近于 0 且不显著，说明组间差异不大进而说明随机分配。 如图\r","date":"2025-04-01","objectID":"/zh-cn/posts/judge_iv/:2:1","tags":["因果效应","文献阅读","法律经济学"],"title":" 审查员设计（Judge IV）：一种随机分配的因果推断","uri":"/zh-cn/posts/judge_iv/"},{"categories":["经济学习"],"content":"一阶回归可视化 单调性检验方法 1：平均单调 一阶段回归同时检验了单调性与相关性。 $$ \\text{一阶段：}D_i=Z_{a(-i)}\\pi+\\nu_i $$ 代码思路是，先使用 fwl 定理，让解释变量、工具变量分别对固定效应等控制变量做回归，对残差进行标准化，再使用残差进行局部线性拟合（stata 命令为 lpoly）。 《EXAMINER AND JUDGE DESIGNS IN ECONOMICS: A PRACTITIONER’S GUIDE》结果如图。研究的是不同倾向性法官与是否选择监禁的关系。 NATIONAL BUREAU OF ECONOMIC RESEARCH|499\r横坐标是标准化后的工具变量残差，衡量了审查员的严格程度。纵轴是对应的解释变量（具体时事件的审查结果）的残差。局部拟合呈现正相关的直线形状，通过检验。这种检验一般使用的是二次多项式局部回归。 如果结果是连续的负相关直线能通过吗？ 答案是不能——正相关和较为平滑的直线趋势缺一不可。 拟合系数为正，代表着，一个案件被分到更严格（仁慈）的审查员手中，不通过（通过）的概率与之相对越高。越后方的拟合系数必须高于前方的拟合系数，才能说明仁慈法官手中通过的案件到严格法官手中是不容易被通过的。 系数为正不但验证了解释变量和被解释变量的相关性，还验证了法官之间案件通过率的单调性。 单调性检验方法 2：多峰偏好 法官不能对一些类型的案件严格，另一些类型的案件宽松。可以尝试分类案件类型和案件严格程度进行一阶段回归的检验。《JUDGING JUDGE FIXED EFFECTS》演示的分组角度是案件类型和案件严重程度。 《JUDGING JUDGE FIXED EFFECTS》\r","date":"2025-04-01","objectID":"/zh-cn/posts/judge_iv/:2:2","tags":["因果效应","文献阅读","法律经济学"],"title":" 审查员设计（Judge IV）：一种随机分配的因果推断","uri":"/zh-cn/posts/judge_iv/"},{"categories":["经济学习"],"content":"仍值得探讨的地方 Juge iv 的构造非常简单，但具体场所是否能使用4，怎样检验依旧值得讨论。尤其是工具变量的单调性。 审查员设计必须是离散变量吗？不能是连续变量名？如果引入负权重会怎样影响估计结果5？ 如果一个事件有多个审查员呢？6 Juge iv 的渐进性要求体现在哪里？该聚焦被审查者次数还是审查员的工作次数？个人认为两者的样本规模都很重要。 是不是很多人都有过这样的想法？若是某时某刻碰见了其他的人，我们的人生是否会变得不同？随机分配总会让我思考偶然与必然的关系。偶然中的必然——必然有人中彩票，只是那个人偶然是你。在知晓随机分配之后？我们又该如何看待命运？对于一个人来说，他该选择偶然的上限？还是平均值的下限7？ ","date":"2025-04-01","objectID":"/zh-cn/posts/judge_iv/:3:0","tags":["因果效应","文献阅读","法律经济学"],"title":" 审查员设计（Judge IV）：一种随机分配的因果推断","uri":"/zh-cn/posts/judge_iv/"},{"categories":["经济学习"],"content":"推荐参考资料 就目前而言，judgeiv 期刊论文以外的参考资料相对较少： 可能你一辈子都用不上的因果推断方法：仁慈法官工具变量 世界银行经济学家发展经济学专栏作者博客 个人格外推荐关注他们的计量技术主题专栏。 耶鲁大学的博士助教课（计量专题） 我们可以从最优化和因果推断两条线审视计量的发展。最优化是关于如何增强测量的一致性，因果推断是让我们思考如何设计实验过程。 ↩︎ 找工具变量的一些思路：关系之关系、遥远的历史变量、平均化、增长率，以及前面几类方法的组合。例如移动份额法工具变量 shift-share 就是去中心均值加上增长率。 ↩︎ 所有的计量检验都是检验必要条件而非充要条件。 ↩︎ 目前较为成熟的检验场景是司法数据，但其他场景的范式依旧没有定论。 ↩︎ Bhuller M, Sigstad H. 2SLS with multiple treatments[J]. Journal of Econometrics, 2024, 242(1): 105785. ↩︎ Chyn E, Frandsen B, Leslie E C. Examiner and Judge Designs in Economics: A Practitioner’s Guide[R]. National Bureau of Economic Research, 2024. ↩︎ 其实这些方面更相关的是不确定性理论。 ↩︎ ","date":"2025-04-01","objectID":"/zh-cn/posts/judge_iv/:4:0","tags":["因果效应","文献阅读","法律经济学"],"title":" 审查员设计（Judge IV）：一种随机分配的因果推断","uri":"/zh-cn/posts/judge_iv/"},{"categories":["阅读"],"content":" 课堂展示使用，《富种起源》部分数理推导细节。 ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:0:0","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"问题的悬赏 《富种起源》作者的博士论文，希望高中生也能阅读，这里只介绍简化版的古典模型。 这本书是为了反驳主流马尔萨斯机制而写的书。宏观的经济史、经济增长的魅力在于——通过简洁的模型塑造一种 史观 。 吴乐旻的《富种起源》论证说马尔萨斯对马尔萨斯陷阱的解释是错误的，那么马尔萨斯陷阱真正的原因是什么？ 反驳的悬赏如下： 如图，合理的质疑、反驳、改进有奖金拿\r","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:1:0","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"马尔萨斯叙事 ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:2:0","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"马尔萨斯是人资环学科的鼻祖。 马尔萨斯陷阱 社会富有了，人就会增加生育； 社会贫穷了，人就会减少生育。 最终人均收入就会稳定在一个水平上。 同理，生产增长的速度无法追赶人口增长的速度就会带来灾难。 如图\r","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:2:1","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"一种经济增长叙事 在漫长的经济增长史中，似乎只发生了一件事——工业革命。 ——格里高利·克拉格（Gregory Clark） 如图\r如图\r如图，来源wiki百科，大分流、李约瑟之谜、韦伯之问。\r明朝的人均实际收入和宋朝的实际收入难道一样? 繁荣如果完美，为何不能持续？ 为何历史总在民主和不民主间摇摆。 为何工业革命能破坏马尔萨斯陷阱？ 能不能用一个大一统模型描述整个经济增长史？ ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:2:2","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"两部门模型 先分析部门进步和社会福利。 如图\r为什么作者把人口平衡线定义为这个形状 只考虑生存。 人生存必须需要农产品，但不一定需要工业品。 如果人口平衡线是一条垂线呢？ 也就是单部门马尔萨斯的情况，因此不同部门的特性是这个模型推广的核心思路。 两个部门同时进步的情况： 如图\r只有工业部门进步的情况： 只扩张工业部门，等比例萎缩。 如图\r只扩张工业部门，等比例萎缩。 如图\r改变偏好 类比月亮和六便士，接下来把工业、农业转化成效用、生存两个部门。 效用部门：艺术、文学、玫瑰…… 生存部门：国防、工科、大米…… 如图\r人们更偏好效用品，生育率暂时偏离（减少侧），提升社会福利。 个人感想 我个人很欣赏这个两部门的改进。其结论也符合历史趋势，随着历史发展，艺术、美、精神的追求都可以看作效用品，实际上人类文明对生存以外的效用品重视程度一直在增加。 与此同时，对效用品的追求可能与文明的繁衍自相矛盾。例如追求梦想而放弃婚姻，为了天上的月亮而放弃生存的五便士，为了容貌而亏待自己的身体。 《富种起源》对繁衍的 假设 和《自私的基因》一样：基因会促使我们关心基因的延续，但我们并不会特意去计算繁衍的概率。 社会福利增加影响因素； 效用品和生存品部门进步率。 偏好结构。 人均消费（人口平衡线） ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:3:0","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"模型代数证明（简单情况） $$ \\max U(x,y)=x^{1-\\beta}y^\\beta $$ $$ \\begin{cases} \\text{生存部门:}X=AL_A^{1-\\gamma_A}H_A^{\\gamma_A} \\\\ \\text{效用部门:}Y=BL_B^{1-\\gamma_B}H_B^{\\gamma_B} \\end{cases} $$ ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:4:0","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"假设 1：$\\gamma_A=\\gamma_B\\equiv\\gamma\u003c1$（如果放松） 假设意义 小于 1 是为了边际递减。 相等是人口萎缩对两个部门产生的冲击是相同（要素贡献率）。 $$ \\max U(x,y)=x^{1-\\beta}y^\\beta $$ $$ \\begin{cases} \\text{生存部门:}\u0026X=AL_1^{1-\\gamma}H_1^\\gamma\\\\ \\text{效用部门:}\u0026Y=BL_2^{1-\\gamma}H_2^\\gamma\\\\ \\text{土地:}\u0026L_1+L_2=L\\\\ \\text{劳动:}\u0026H_1+H_2=H\u0026 \\end{cases} $$ 接下来求解：逆向归纳——社会决策—— 效用 —— 产品 —— 要素。 需要决定的要素是为每个产品消耗多少要素。 $$L_2=L-L_1,\\quad H_2=H-H_1$$ $$ U=(AL_1^{1-\\gamma}H_1^{\\gamma})^{1-\\beta}[B(L-L_1)^{1-\\gamma}(H-H_1)^{\\gamma}]^{\\beta} $$ 取对数后处理更简单一些： $$ V=(1-\\beta)\\left[\\ln A+(1-\\gamma)\\ln L_1+\\gamma\\ln H_1\\right]+\\beta\\left[\\ln B+(1-\\gamma)\\ln\\left(L-L_1\\right)+\\gamma\\ln\\left(H-H_1\\right)\\right] $$ 最优化即偏导为 0。 $$ \\frac{\\partial V}{\\partial L_1}=\\frac{(1-\\gamma)(1-\\beta)}{L_1}-\\frac{(1-\\gamma)\\beta}{L-L_1}=0 $$ $$ L_1^*=(1-\\beta)L,\\quad L_2^*=\\beta L $$ 同理， $$ \\frac{\\partial V}{\\partial H_1}=\\frac{\\gamma(1-\\beta)}{H_1}-\\frac{\\gamma\\beta}{H-H_1}=0 $$ $$H_1^*=(1-\\beta)H,\\quad H_2^*=\\beta H$$ 要素决策后，接下来代入产品决策 $X=AL_1^{1-\\gamma}H_1^\\gamma$。 $$ \\begin{aligned}X^{*}\u0026=A\\left(L_{1}^{*}\\right)^{1-\\gamma}(H_{1}^{*})^{\\gamma}=A[(1-\\beta)L]^{1-\\gamma}[(1-\\beta)H]^{\\gamma}\\\\\u0026=A\\left(1-\\beta\\right)L^{1-\\gamma}H^{\\gamma}\\end{aligned} $$ 人均水平再除以 H, $$ \\begin{cases}x=A(1-\\beta)\\left(\\frac{H}{L}\\right)^{\\gamma-1}\\\\y=B\\beta\\left(\\frac{H}{L}\\right)^{\\gamma-1}\u0026\\end{cases} $$ 产品决策后，代入效用 $U=x^{1-\\beta}y^{\\beta}$， $$ \\begin{aligned}\\mathrm{U}\u0026=A\\left(\\frac{H}{L}\\right)^{\\gamma-1}\\left(\\frac{B}{A}\\right)^\\beta(1-\\beta)^{1-\\beta}\\beta^\\beta\\\\\u0026=x\\left(\\frac{B}{A}\\right)^\\beta\\left(\\frac{\\beta}{1-\\beta}\\right)^\\beta\\end{aligned} $$ 为什么提取x 为什么提取出来 x ? 马尔萨斯的假设是从人均粮食出发的，也就是人均生产品的均衡。 ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:4:1","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"假设 2： $g_H\\equiv\\frac{\\dot{H}}{H}=n=\\delta\\left(\\ln x-\\ln\\bar{x}\\right)$ 马尔萨斯陷阱的描述。 微分方程——导数与数值的关系——增量和存量的关系——动态方程。 $\\bar{x}$ 是使人口保持不变的平均生存品消费水平。 ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:4:2","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"结论一 均衡效用的表示： $$ U^E=\\bar{x}\\left(\\frac{B}{A}\\right)^\\beta\\left(\\frac{\\beta}{1-\\beta}\\right)^\\beta $$ 均衡人均效用随着产出结构效用品化程度（$\\frac{B}{A}$ ）、对效用品的相对偏好（ $\\beta$）和维持人口平衡所需的人均生存品消费（$\\bar{x}$ ）的增长而增长。 尚未证明的图示情况： 不同部门增长速度与社会福利的关系。 为保持模型简单，只考虑封闭的社会，不存在对外贸易。 生存产品的增长速度为 $g_A$ ；效用产品的增长速度为 $g_B$ 。 ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:4:3","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"引理 ：$g_A-(1-\\gamma)g_H\\to0$ 马尔萨斯人口增长的假设：$g_H\\equiv\\frac{\\dot{H}}{H}=n=\\delta\\left(\\ln x-\\ln \\bar{x}\\right)$ 含义：人口增长取决于人均生存消费品水平。 均衡人均消费的情况：$x=A(1-\\beta)\\left(\\frac{H}{L}\\right)^{\\gamma-1}$ 土地资源简化为 1，得到 $x=A(1-\\beta)^{\\gamma}H^{\\gamma-1}$，代入 $g_H$: $$ g_H=\\delta\\left[\\ln A+\\gamma\\ln(1-\\beta)+(\\gamma-1)\\ln H-\\ln x\\right] $$ 使用 M 指代 $\\ln A+\\gamma\\ln(1-\\beta)$，简化为： $$g_H=\\delta\\left[M+\\gamma\\ln(1-\\beta)-\\ln x\\right]$$ 对 M 进行微分， $$ \\mathrm{d}M=g_A+(\\gamma-1)g_H=g_A+(\\gamma-1)\\delta\\left[M+\\gamma\\ln(1-\\beta)-\\ln x\\right] $$ 稳态时，$dM=0$, 代入求解， $$ M^*=\\frac{g_A}{(1-\\gamma)\\delta}-\\gamma\\ln(1-\\beta)+\\ln\\bar{x} $$ 而此时又有：$\\mathrm{d}M=g_A+(\\gamma-1)g_H=0$ $M$ 趋于均衡的 $M^*$ 的过程就是 $dM$ 靠近 0 的过程。 ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:4:4","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["阅读"],"content":"定理三：人均效用增长率和两个部门的增长率 研究人均效用增长率（也可以看作人均收入），和两个部门增长的关系。 宏观的平衡增长路径，相图分析就是这种。 在偏离稳态的地方（$\\bar{x} \\neq x$）, 效用为: $$ U=A\\left(\\frac{H}{L}\\right)^{\\gamma-1}\\left(\\frac{B}{A}\\right)^{\\beta}(1-\\beta)^{1-\\beta}\\beta^{\\beta} $$ 取对数，求导就可转化为增长率。 对于要素 X ，宏观要素 X 随事件变化（X(t)）。 对 ln (X) 的 t 求导。 $$ \\begin{aligned}\u0026\\frac{d\\ln X(t)}{dt}=\\frac{d\\ln X(t)}{dX(t)}\\frac{dX(t)}{dt}\\\\\u0026=\\frac{\\frac{dX(t)}{X(t)}}{dt}=\\frac{\\dot{X}(t)}{X(t)}=g(\\text{增长速率})\\end{aligned} $$ 取对数求导线性化，即可得到： $$g_U=\\beta\\left(g_B-g_A\\right)+g_A-(1-\\gamma)g_H$$ 后面即为引理部分，已经证明了趋于 0。 于是得到了人均福利（收入）与生存品和效用品的关系。 $$ g_U=\\beta\\left(g_B-g_A\\right) $$ 按照这个结论，人均收入长期停滞的原因应该只有一个， 效用品的增长速度总是无法高于生存品的增长速度。 更复杂的情况会引入人口迁移与贸易（通过设定人口迁移率来满足人口平衡线）、技术竞争（需要一些随机过程的数学），直觉上通过多层次博弈(《三体：黑暗森林》)理解即可，这里不再展开具体的数理模型。 后半部分简单解读参见： 竞择理论 ","date":"2025-03-25","objectID":"/zh-cn/posts/mess/:4:5","tags":["阅读","微观历史","宏观经济学"],"title":" 马尔萨斯两部门模型","uri":"/zh-cn/posts/mess/"},{"categories":["经济学习"],"content":"简而言之，比起理所当然的逻辑，经济学家们应当关注那些与愿景背道而驰的地方。区别于自然科学，人性对政策的适应会让社会科学的分析增添一丝不同。 ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:0:0","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"引言：政策评估的有趣与无趣 当经济学的解释性作用大于预测性功能后，经济学和文学一样开始强调一种故事性。人们经常会用“你的这个论文故事是否有趣，能吸引人阅读下去” 来概括对论文的感受。 但怎样才算有趣呢？如果不把这点说明白，“有趣” 和“科研品味”就会成为一套话语权体系下的黑洞。所以我在《实证经济学：符合直觉≠显而易见》中反对将选题思维 神秘化 的倾向，并试图概括有趣论文的思考角度。 我接触的老师越多，越是发现老师们的选题绝非无中生有。选题和老师们的生活阅历息息相关，接触多了，就会觉得——老师们的选题确实源于他们人生智慧的绽放。很多论文背后的东西，在听了作者本身的讲解后才会更加清晰。 学习，何尝不是一场认识自己的修行。如果连学习社会科学的人都没有尝试去剖析自己的智慧，那学习之路已与生活之路背道而驰。 这里我想介绍三篇论文选题，共同点都是政策评估。 事件研究法，政策评估是大部分经管学子的毕业论文启蒙。现在大部分论文都是—— DID、区域异质性、中间变量作为机制、空间回归溢出。最终产生结论——只见政策效果，不见政策成本。这样自然容易招致批评。 但是要知道——好论文是稀少的。实际上大部分人写论文是为了生存。当我们批评别人文章不有趣时，一方面是要树立对真理的追求，但另一方面，我们要对现状保持理解。当我们批评文章不有趣时，一方面也要反思自己的论文架构，是否选题一般，阐述不够详细有趣；另一方面也要警惕对面是否只是站在自己建立的规则上进行审判，有趣只是个话语黑洞。 是否真正的达成理解和双向沟通才是改进的重要过程。 成本收益、理性预期 是经济学的两个重要思维。那么如何让政策评估的故事变得有趣呢？本文我想探讨的叙事关键词是——意外性（政策扭曲）。 导师曾说过——任何政策，只要愿意砸钱，总归是能砸出水花的。作为研究者，我们难道就去评估水花有多高吗？ 当我们研究一个政策时，比起有效和无效，不妨再深入考察以下几点： 一个政策，执行过程一定符合初衷吗？ 一个政策，执行过程中会没有扭曲吗？ 一个政策，在付出了巨大成本后，真的值得吗？ …… 比起理所当然的逻辑，经济学家们应当关注那些与愿景背道而驰的地方。区别于自然科学，人对政策的适应会让社会科学的分析增添一丝不同。 ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:1:0","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"司法改革与地方博弈 地方保护、官员晋升不是一个新话题，人们已经用税收数据、GDP 数据进行了论证。 ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:2:0","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"地方博弈 由于地方 GDP、全国 GDP 是独立统计的，通过对比夜间灯光数据，可以发现 GDP 造假。例如下图，2008 年期间夜间灯光数据显著消退，但县级 GDP 不降反增。 图片来源：《Mayors’ promotion incentives and subnational-level GDP manipulation》（JUE ,2024）|585\r2013 年国家降低了 GDP 的指标考核，同时 58 岁以上的市长很难晋升。利用这个两个特征，诞生了很多有趣的准自然实验1。 ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:2:1","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"央地博弈 税收是国家的重要资源。国家的主基调是降低税收2，刺激市场企业创新。 例如下图的增值税下调。 图源：《减税政策与地方政府债务——来自增值税税率下调的证据》（经济研究，2024）\r但政府没有财政来源怎么办，只能适应去增加债务。 开源？国家在减税。 节流？政府公职人员作为委托代理人肯定要考虑自己的福利。 最后选择地方举债适应国家政策并不难理解。 图源：《减税政策与地方政府债务——来自增值税税率下调的证据》（经济研究，2024）\r","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:2:2","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"司法数据看博弈 地方保护反应在司法判决中，就是法官倾向于作出有利于本地诉讼方的判决等。 《本地偏好与国内统一大市场建设——来自中国交通事故裁判文书的证据》（经济学季刊，2024）\r官员会积极响应上面的决策积累政绩。例如新书记上任后，响应相关政策，破产法案数显著高于旧书记。 《政策导向、官员变更与企业破产——来自裁判文书的证据》（经济学季刊，2024）\r为破除这类司法地方保护，提高司法效率，我国实行了一系列改革。目前比较出名的论文是芝加哥大学王绍达的《Judicial Independence, Local Protectionism, and Economic Integration: Evidence from China 》（NBER,2022） 改革后本地胜诉率显著下降7%左右\r中央设置巡回法庭也显著提升了小企业、民营企业的胜诉率。 Judicial institutions, local protection and market segmentation: Evidence from the establishment of interprovincial circuit tribunals in China （CER , 2022 ）\r","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:2:3","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"司法打击地方保护的扭曲 关键问题来了，虽然前面的论文总是讨论司法改革在地方保护的成功，但这种打击就没有代价吗？ 《Tradeoff between local protection and public sector performance: Lessons from judicial fiscal centralization》（JBOE ,2024）研究的就是这个问题。 长久以来，政府-法院在地方保护方面形成了一个利益共同体。当这种持续的联系被打破，他们必然有适应的过程。正所谓上有政策，下有对策，这才是政策评估中比较容易出现“趣味”的地方。 本地法官利好本地的判决其实可以看作一种政治献金。当这个过程被打断后，如下图的回归分析所言，法院的支出结构逐渐从偏向公共福利转向偏向私人福利，地方的腐败案件也显著增多。 《Tradeoff between local protection and public sector performance: Lessons from judicial fiscal centralization》（JBOE ,2024）\r也就是说，虽然政策打击了地方保护主义，但行政-司法长久合作的信息优势也没有了，最终导致两个主体的行政效率损失了。这就是改革的代价之一。 司法正义是所有人梦寐以求的未来，但改革的利益盘根错节，千万不能忽视改革陷阱。以上就是这篇论文最精彩的思想，也是其叙事中政策的意外性（政策扭曲）。 ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:2:4","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"环境规制与消费者福利 我国注重可持续发展，于是实行了环境规制。 对每个企业实行排污限制和污染收费。有盈余的环保企业可以售卖自己的污染指标，额度不够的污染企业也可以去向其他企业购买指标。 听起来皆大欢喜？ 《企业“被动合谋”现象研究:“双碳”目标下环境规制的福利效应分析》（中国工业经济，2022）通过理论分析了环境规制与社会福利的变化。 关于理论建模 核心方法是库恩塔克条件。角点解和内点解就是企业有无环境规制的决策。 方法论比技巧更重要！ 库恩塔克条件\r结论如图\r简单说下文章的核心结论： 举个例子：石油产业容易形成卡特尔串谋，各大公司联合垄断，降低石油产量，进而抬高价格赚取利润。这种联盟是不稳定的——并非博弈上的均衡解，因为联盟成员容易偷偷增加产量，背叛组织3。 在现实中，政府对高污染企业收税本来是好事。但是，原本各自敌对的企业容易统一减少产量，进而提升价格，达成一种被动的卡特尔。环境规制下，环保企业和污染企业利润都增加了，消费者却反受其害。 外来威胁与社会福利其实是很有味道的历史故事。 三国为何如此持久？一旦一国被灭，另外一方离灭亡也不远了。 外来的威胁能使内部团结，外来的好处也能使内部瓦解。局部最优未必全局最优，个体与整体总处于博弈之下。这是这篇论文核心叙事的政策扭曲（意外）。 ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:3:0","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"农业补贴政策的歪打正着 前面的政策意外都是负面的意外，那有没有正面的意外呢？ 《农业补贴政策效应评估: 激励效应与财富效应》（中国农村经济，2016）评估了农业补贴是否扩大了农业劳动力供给。 结果发现大伙拿了补贴主要是自己不干了，雇佣别人来干，一来一回，劳动力供给不是没有增加吗? 如图\r农业补贴并未激励家庭成员增加自有劳动供给, 但显著提高了农户雇佣劳动力的概率、农业机械的使用以及化肥、种子、农药等要素的投入, 且以影响化肥、种子、农药等要素投入为主。 但是在如今乡村振兴的背景下，规模经营，要素投入显得非常重要。虽然劳动力供给没有增加，但补贴有利于机械化经营，规模化经营。 因此文章才提出建议，既然促进劳动为目的的补贴不是通过劳动力供给促进的产出增加，那么更应该精准些，在实施农业补贴的同时促进农业规模化经营或降低务农机会成本或将补贴向粮食主产区倾斜可提高其政策效果。 以上也是如今乡村振兴，发展农业的主要思路4。 三农问题的套话太多，太杂，大部分人的政策建议总是过程错误，结果正确，这样就很八股文了。上面这篇文章则是从政策扭曲到目标意外实现的角度对补贴政策进行阐述，也是政策的扭曲（意外）。 ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:4:0","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["经济学习"],"content":"意外与反直觉 所以别再说选题反直觉了！所谓科学，需初见不可思议，反复品味后却觉得不得不如此5。不要沉浸在不可思议中，且回头欣赏这个不得不如此。 理性预期是打击经济学预测的重要原因之一。通俗来讲，就像算命把自己算进去了，未来就不一样了（当然也有时有递归强解）。但也是因为这一丝变数，研究中的“意外”才能体现研究者的洞察。 例如《“官出数字”：官员晋升激励下的GDP失真》（中国工业经济，2017） ↩︎ 很多时候我在想中国何时迎来“李嘉图等价”。主基调是降税又举债，这个符号什么时候迎来等号？ ↩︎ 大家熟悉的囚徒困境，松散的联盟无法约束成员背叛。 ↩︎ 所以文章提改进建议要有理有据。 ↩︎ 来源《富种起源》 ↩︎ ","date":"2025-03-19","objectID":"/zh-cn/posts/zcpg/:5:0","tags":["文献阅读","发展经济学","政策评估"],"title":"扭曲 or 意外：让政策评估变得有趣","uri":"/zh-cn/posts/zcpg/"},{"categories":["软件工具","经济学习"],"content":" “一旦你开始思考（经济如何增长）这个问题，就无法再思考其他问题了。\" ——罗伯特•卢卡斯（Robert E. Lucas） ","date":"2025-03-02","objectID":"/zh-cn/posts/solow/:0:0","tags":["Matlab","宏观经济学"],"title":" Solow 模型 matlab 模拟代码","uri":"/zh-cn/posts/solow/"},{"categories":["软件工具","经济学习"],"content":"Solow 模型的思想 1987 年诺贝尔经济学奖获得者罗伯特·默顿·索洛（Robert Merton Solow）于 2023 年 12 月 21 日去世，享年 99 岁。本博客的写作契机是为表达纪念1。 图源：wiki 百科\r虽然索洛模型的假设比较严格2，如今已经让位给后面的模型，但他开创了新古典“经济增长”的分析范式，其结论产生的“全要素生产力”（索洛余值）成为了当代经济体最重要的评价指标（之一）。 其思想框架是， 将经济增长（产出）的贡献分解为几个基本要素：劳动、资本、技术进步、人口增长…… 经济增长的过程就是要素变化的过程，我们可以尝试刻画要素增长的动态过程。 要素的动态变化存在收敛，从没有收敛走向收敛的要素时间变化图，就是一个经济体的平衡增长路径。 $$\\dot{k}=f(k)$$ 例如上面这个式子，简单来说，就是刻画人均资本增长率（$\\dot{k}$）和人均资本存量（${k}$）的关系。 收敛意味着人均资本增长到一定水平后，增长率很难继续增加，反而趋近于 0。表现在式子中就是： $△k=0=\\dot{k}=f(k)$。 就像马尔萨斯人口陷阱，人均收入变高，人们富裕了，更容易生育，人口增多，人均收入就下降；人均收入下降，人们变穷了，会减少生育，人口变少，人均收入又上升。这个拉拉扯扯，让人均收入趋于稳定的过程，就是人均收入和人均收入变化率互相牵制的过程。 Solow 模型在这之上进行了更多的分解。 起点低，进步速度可能更快；起点高，进步速度可能更慢。 Solow 模型想解释的是“低收入国家的发展速度早期大于高收入国家”这个现象。例如二战以后，战后的亚洲国家迎来了发展的黄金时期。战后大家偏好储蓄，这也启发 solow 假设储蓄率外生。 Solow 模型的收敛性后面也启发了学者讨论高收入国家和发展中国家的经济水平是否会趋于一致。可参考另外一篇博文《 收敛：从“算式的极限”到“增长的极限”》 这里主要是介绍其 matlab 绘图代码，就不具体展开数理证明了。 更具体的索洛模型解释可以参考： 索洛模型 (Solow Model) 中级宏观经济学 | 第 3 讲：索洛增长模型 高级宏观经济学笔记（ Romer 版） 做题家的速通 Solow 模型两个核心稳态： 稳态求解： $$ \\dot{k}=sf(k)-(n+\\delta)k=0 $$ 黄金率求解： $$ f^{\\prime}(k_{\\mathrm{gold}})=n+\\delta $$ ","date":"2025-03-02","objectID":"/zh-cn/posts/solow/:1:0","tags":["Matlab","宏观经济学"],"title":" Solow 模型 matlab 模拟代码","uri":"/zh-cn/posts/solow/"},{"categories":["软件工具","经济学习"],"content":"Matlab 收敛图 如图，经济体的人均资本 k 会收敛与图中的交叉点|585\r代码绘图分为四个部分： 1、设置参数：原始人均资本、折旧率、储蓄率、技术进步率、全要素增长率、人口增长率、时间期数、资本投入弹性。 t=100; % 期数 kmax=200; % 每个工人的资本最大值 alpha=0.3; % 资本投入对产出弹性 s=0.5; % 储蓄边际倾向 n=0.02; % 人口增长率 d=0.01; % 资本折旧率 A0=2; % 全要素生产率 K=1:kmax; % 每个工人的资本水平（横轴） 参数争议 很多时候，宏观模型中最富有争议的地方是参数。数学模型的改进、微观数据的实证证据、统计方法、对要素作用的认识都会影响参数值的范围。 2、设置函数： $$f(k)=Ak^\\alpha$$ $$\\dot{k_t}=sf(k_t)-(n+g+d)k_t$$ for k1=1:kmax % 沿着横轴循环计算对应的函数值 y(k1,1)=A0*(k1^alpha); % 总生产函数 sy(k1,1)=s*y(k1,1); % 实际投资 nd(k1,1)=(n+d)*k1; % 所需投资 end 3、收敛条件： 自然就是 $\\dot{k_t}=sf(k_t)-(n+g+d)k_t=0$。所以下面代码的逻辑是比较 sy(k1,1) 和 nd(k1,1)。不相等时，则根据大于小于符号增加或减少人均资本 $k$。 包含人口增长、技术进步且离散的情况 在此处，我们将资本运动方程设置为 $\\dot{k_t}=sf(k_t)-(n+g+d)k_t$ ，根据其正负性设置 k 加一或者减一。 实际上在考虑离散情况时，最精确的表达式子为： $$\\dot{k_t}=\\frac{sf(k_t)-dk_t}{1+g+n}$$ 也就是： $${k_{t+1}}=\\frac{sf(k_t)+(1-d)k_t}{1+n+g}$$ 均衡条件意味着 ${k_{t+1}}={k_{t}}$，代入化简，在均衡收敛时才可以简写成 $0=\\dot{k_t}=sf(k_t)-(n+g+d)k_t$，但在非均衡（$\\dot{k_t} \\neq 0$）时，将运动方程写成 $\\dot{k_t}=sf(k_t)-(n+g+d)k_t$ 是不严谨的。 宏观：python 还是 matlab 对于经济学来说，R 语言和 matlab 都快被 python 打败了。R 语言还有的优势是顶刊的统计学家会优先开发 R 语言包。 Matlab 和 stata 一样，目前尚占据主流是因为大部分论文代码给的文件是 .m 和 .do。随着模型越来越复杂，python 在优化代码，调整算法进行计算方面具有更大优势。我在网上看到不少做宏观模型的新研究者开始从 matlab 转向 python 来优化计算过程。 if sy(k1,1) \u003e nd(k1,1) % 根据微分方程的结果判断 k1=k1+1; elseif sy(k1,1) \u003c nd(k1,1) k1=k1-1; end 4、绘图代码 举例子： scatter(K,y, '.'); %绘制人均资本（横轴）和函数值 完整代码如下 %% solow 新古典增长模型 % 一个 MATLAB 动态仿真 %% 收敛模拟 %% 原代码地址：https://github.com/DiegoCiccia/SolowGrowthModel/blob/main/solow.m % 取消注释下列被注释的部分以比较从两个不同初始位置开始的两个经济体的收敛结果。 %%————————————参数设置部分——————————————%% t=100; % 期数 kmax=200; % 每个工人的资本最大值 alpha=0.3; % 资本投入对产出弹性 s=0.5; % 储蓄边际倾向 n=0.02; % 人口增长率 d=0.01; % 资本折旧率 A0=2; % 全要素生产率 K=1:kmax; % 每个工人的资本水平（横轴） y=zeros(length(K),1); % 产出数组 sy=zeros(length(K),1); % 实际投资数组 nd=zeros(length(K),1); % 所需投资数组 %%————————————式子定义部分——————————————%% for k1=1:kmax y(k1,1)=A0*(k1^alpha); % 总生产函数 sy(k1,1)=s*y(k1,1); % 实际投资 nd(k1,1)=(n+d)*k1; % 所需投资 end %%————————————画图部分——————————————%% scatter(K,y, '.'); text(max(K)-20, max(y)-0.5, 'f(k)') title('solow 新古典增长模型') xlabel('k') ylabel('y') hold on grid on scatter(K,sy,'.') text(max(K)-20, sy(kmax,1)+0.2, 'sf(k)') scatter(K,nd,'.') text(max(K)-20, nd(kmax,1)+0.2, '(n + d)k') k1=50; % 初始资本（第一个经济体） % k2=200; % 初始资本（第二个经济体） for i=1:t u=plot([k1,k1],[0,y(k1,1)], 'k--'); % 绘制当前资本对应的垂直线 drawnow l=plot([k1,0],[y(k1,1), y(k1,1)], 'k--'); % 绘制当前产出对应的水平线 drawnow m=plot([k1,0],[sy(k1,1), sy(k1,1)], 'k--'); % 绘制实际投资对应的水平线 drawnow n=plot([k1,0],[nd(k1,1), nd(k1,1)], 'k--'); % 绘制所需投资对应的水平线 drawnow delete(u); % 删除垂直线 delete(l); % 删除水平线 delete(m); % 删除实际投资水平线 delete(n); % 删除所需投资水平线 o=text(mean(K),mean(y),['t = ', num2str(i)]); % 显示当前周期 drawnow delete(o); % 删除显示的周期文本 % u=plot([k2,k2],[0,y(k2,1)], 'b--'); % 绘制第二个经济体当前资本的垂直线 % drawnow % l=plot([k2,0],[y(k2,1), y(k2,1)], 'b--'); % 绘制第二个经济体当前产出对应的水平线 % drawnow % m=plot([k2,0],[sy(k2,1), sy(k2,1)], 'b--'); % 绘制第二个经济体实际投资对应的水平线 % drawnow % n=plot([k2,0],[nd(k2,1), nd(k2,1)], 'b--'); % 绘制第二个经济体所需投资对应的水平线 % drawnow % delete(u); % 删除垂直线 % delete(l); % 删除水平线 % delete(m); % 删除实际投资水平线 % delete(n); % 删除所需投资水平线 if sy(k1,1) \u003e nd(k1,1) % 根据微分方程的结果判断 k1=k1+1; elseif sy(k1,1) \u003c nd(k1,1) k1=k1-1; end % if sy(k2,1) \u003e nd(k2,1) % 第二个经济体的微分方程结果判断 % k2=k2+1; % elseif sy(k2,1) \u003c nd(k2,1) % k2=k2-1; % end if i==t plot([k1,k1],[0, y(k1,1)], 'k--') % 最后一次绘制第一个经济体的资本垂直线 drawnow plot([k1,0],[y(k1,1), y(k1,1)], 'k--') % 最后一次绘制第一个经济体的产出水平线 drawnow plot([k1,0],[sy(k1,1), sy(k1,1)], 'k--') % 最后一次绘制第一个经济体的实际投资水平线 drawnow plot([k1,0],[nd(k1,1), nd(k1,1)], 'k--') % 最后一次绘制第一个经济体的所需投资水平线 drawnow % plot([k2,k2],[0, y(k2,1)], 'b--') % 最后一次绘制第二个经济体的资本垂直线 % drawnow % plot([k2,0],[y(k2,1), y(k2,1)], 'b--') % 最后一次绘制第二个经济体的产出水平线 % drawnow % plot([k2,0],[sy(k2,1), sy(k2,1)], 'b--') % 最后一次绘制第二个经济体的实际投资水平线 % drawnow % plot([k2,0],[nd(k2,1), nd(k2,1)], 'b--') % 最后一次绘制第二个经济体的所需投资水平线 % drawnow end end text(mean(K),mean(y),['t = ', num2str(t)]) % 显示最终周期 ","date":"2025-03-02","objectID":"/zh-cn/posts/solow/:2:0","tags":["Matlab","宏观经济学"],"title":" Solow 模型 matlab 模拟代码","uri":"/zh-cn/posts/solow/"},{"categories":["软件工具","经济学习"],"content":"Matlab 相图：不同初始资本 比较两个经济体，其他参数都相同，只有初始人均资本 $k_1$ 不同（收敛方向不同）。 在给定的参数中， solow 模型的人均资本会收敛于 149.8 的水平。因此一个国家的处初始人均资本高于这个值，就会下降；低于这个值，就会上升。 如图\r%% Solow 新古典增长模型示例 % 1. 两个初始值的资本收敛曲线 % 2. 相图：\\dot{k} 与 k 的关系 (含箭头标识方向) % 此处我沿用上一个章节代码设定的参数 clear; clc; close all; %% =============== 参数设置 =============== t = 400; % 模拟总期数 alpha = 0.3; % 资本产出弹性 s = 0.5; % 储蓄率 n = 0.02; % 人口增长率 d = 0.01; % 折旧率 A0 = 2; % 全要素生产率 kmax = 250; % 资本显示范围（根据模拟结果动态调整） %% =============== 不同初始值的收敛模拟 =============== k1_init = 100; % 经济体1初始资本 k2_init = 200; % 经济体2初始资本 % 预分配 k1 = zeros(t+1,1); k2 = zeros(t+1,1); k1(1) = k1_init; k2(1) = k2_init; % 迭代更新资本水平 for i = 1:t k1(i+1) = k1(i) + s*A0*(k1(i)^alpha) - (n+d)*k1(i); k2(i+1) = k2(i) + s*A0*(k2(i)^alpha) - (n+d)*k2(i); end % 动态调整显示范围 kmax = max([k1; k2]) * 1.1; %% =============== 1) 绘制收敛图 =============== figure(1); plot(0:t, k1, 'r-', 'LineWidth', 2); hold on; plot(0:t, k2, 'b-', 'LineWidth', 2); xlabel('时间', 'FontSize', 12); ylabel('人均资本 k', 'FontSize', 12); title('资本收敛过程', 'FontSize', 14); legend(sprintf('初始k=%.0f', k1_init), sprintf('初始k=%.0f', k2_init), ... 'Location','best'); grid on; set(gca, 'FontSize', 10) %% =============== 2) 绘制相图 ( \\dot{k} vs k ) =============== % 准备相图数据 k_cont = linspace(0, kmax); % 连续资本值 f_k = A0 * k_cont.^alpha; % 生产函数 sy = s * f_k; % 实际投资 nd = (n + d) * k_cont; % 所需投资 dotk = sy - nd; % 资本变化率 % 计算轨迹数据 dotk1 = s*A0*k1.^alpha - (n+d)*k1; dotk2 = s*A0*k2.^alpha - (n+d)*k2; % 计算稳态值 k_star = (s*A0/(n+d))^(1/(1-alpha)); figure(2); % 1) 绘制相图主曲线 plot(k_cont, dotk, 'k-', 'LineWidth', 2); hold on; % 2) 绘制稳态线 plot([0 kmax], [0 0], 'k--', 'LineWidth', 1); % 3) 绘制稳态标记 plot(k_star, 0, 'mo', 'MarkerSize', 10, 'MarkerFaceColor', 'm') % 4) 绘制轨迹点 plot(k1, dotk1, 'r.-', 'MarkerSize', 12, 'LineWidth', 2); plot(k2, dotk2, 'b.-', 'MarkerSize', 12, 'LineWidth', 2); % 5) 添加轨迹箭头 arrow_step = 20; % 箭头间隔步长 % 经济体1箭头 for i = 1:arrow_step:length(k1)-1 quiver(k1(i), dotk1(i),... k1(i+1)-k1(i), dotk1(i+1)-dotk1(i),... 0, 'Color', 'r', 'MaxHeadSize', 1.5, 'LineWidth', 2) end % 经济体2箭头 for i = 1:arrow_step:length(k2)-1 quiver(k2(i), dotk2(i),... k2(i+1)-k2(i), dotk2(i+1)-dotk2(i),... 0, 'Color', 'b', 'MaxHeadSize', 1.5, 'LineWidth', 2) end % 6) 图形标注 title('相图: 资本动态变化', 'FontSize', 14); xlabel('人均资本 k', 'FontSize', 12); ylabel('资本变化率 $\\dot{k}$', 'Interpreter', 'latex', 'FontSize', 12); legend('$\\dot{k} = s f(k) - (n + \\delta)k$',... '稳态线 ($\\dot{k}=0$)',... sprintf('稳态 k* = %.1f', k_star),... '经济体1：k初始值100',... '经济体2：k初始值200',... 'Location','best', 'Interpreter', 'latex'); grid on; set(gca, 'FontSize', 10) xlim([0 kmax]) ","date":"2025-03-02","objectID":"/zh-cn/posts/solow/:3:0","tags":["Matlab","宏观经济学"],"title":" Solow 模型 matlab 模拟代码","uri":"/zh-cn/posts/solow/"},{"categories":["软件工具","经济学习"],"content":"Matlab 冲击图：不同储蓄率 当代宏观的 DSGE 核心图是展示要素受到冲击后的变化图。 Solow 模型假设储蓄率是外生的，下面这个代码是假设初始储蓄率是 0.4。在初始人均资本为 6 的情况下，后面储蓄率被调整为了 0.5。 最后计算的分别是人均资本、人均产出、人均产出增长率（产出取对数然后一阶差分 $\\log y_t-\\log y_{t-1}\\approx\\frac{y_t-y_{t-1}}{y_{t-1}}$）、人均消费。 第10期时储蓄率进行了调整\rclear all clc %%————————————参数设置部分——————————————%% alpha=0.5; % 资本产出弹性 delta=0.1; % 折旧率 g=0.05; % 技术进步率 n=0.02; % 人口增长率 s=0.5; % 储蓄率（外生） k_ss=(s/(delta+g+n))^(1/(1-alpha)); % 稳态求解 T=1000; kt(1)=6; % k人均资本初始值 yt(1)=kt(1)^alpha; % y人均产出初始值 ct(1)=(1-0.4)*yt(1); % c消费初始值,solow 模型假设储蓄外生，这里是一开始的储蓄率0.4 %%————————————函数设置部分——————————————%% for j = 2:T kt(j) = (s * kt(j-1)^alpha + (1 - delta) * kt(j-1)) / (1 + g + n); yt(j)=kt(j-1)^alpha; ct(j)=(1-s)*yt(j); end %%————————————画图部分——————————————%% tt=120; t=1:tt+10; subplot(4,1,1) % 划分四行一列，在第一行画图 plot(t,[kt(1)*ones(1,10) kt(1:tt)],'-','LineWidth',2); % kt(1)*ones(1,10) 是认人为使用初始数据填充了前10个点 hold on % 保存当前图像并继续绘图添加绘图 plot(t,k_ss*ones(1,tt+10),'--','LineWidth',2) grid on % 打开网格 xlabel('k_{t}') axis([1 130 5 9]) % 分别对应x和y轴的最小值和最大值范围 subplot(4,1,2) plot(t,[yt(1)*ones(1,10) yt(1:tt)],'-','LineWidth',2); hold on ; grid on plot(t,k_ss^alpha*ones(1,tt+10),'--','LineWidth',2) xlabel('y_{t}') axis([1 130 2 3]) subplot(4,1,3) gy=diff(log(yt(1:tt+1))); % 取对数的然后一阶差分 plot(t,[zeros(1)*ones(1,10) gy],'-','LineWidth',2); hold on ; grid on plot(t,zeros(1,tt+10),'--','LineWidth',2) xlabel('gy_{t}') axis([1 130 -0.01 0.025]) subplot(4,1,4) plot(t,[ct(1)*ones(1,10) ct(1:tt)],'-','LineWidth',2); hold on ; grid on plot(t,(1-s)*k_ss^alpha*ones(1,tt+10),'--','LineWidth',2) xlabel('c_{t}') axis([1 130 1 1.6]) 博客标签已经有 stata、python、R 了，这里添加一个 matlab。 ↩︎ solow 模型假设储蓄外生，且是单部门模型，这些成为后来模型的优化点。 ↩︎ ","date":"2025-03-02","objectID":"/zh-cn/posts/solow/:4:0","tags":["Matlab","宏观经济学"],"title":" Solow 模型 matlab 模拟代码","uri":"/zh-cn/posts/solow/"},{"categories":["阅读"],"content":" 隐藏树叶，就在森林里； 隐藏尸体，就在战争里； 隐藏传奇，就在日常之中。 ————《推理大无限》 我一直很喜欢奇幻、科幻、推理1作品。通俗作品的叙事技巧也能启发论文写作。例如科幻，伟大的科幻作品都在思考特别的物质、制度条件与人的反应，这和经济论文的思考并无不同。未来世界是极端的垄断还是极端的平均？安全可控的一厘米虫洞会如何影响产业布局？太空贸易需要怎样的货币贸易体系？虚构的制度加上真实的人性，这之中便产生了伟大的洞见。 推理，在我们的论文、说话中更加重要，如何设置悬念、如何抛出证据？一个优秀的论文一定有引出问题（重要性），解答问题（严谨性、趣味性）的过程。享受推理，并不意味着要把百科全书背下来，记住千百种稀奇古怪的物理化学反应，而是认识这种叙事技巧，分析技巧。人的大脑是怎么进行思考的？例如最近 ai 很火的思维链，就是对推理进行一种模拟。人的分析究竟是如贝叶斯学派那样还是频率学派那样？ 星际太空贸易模型 诺奖得主克鲁格曼（PAUL KRUGMAN）确实就太空贸易写了一篇国际贸易的论文。 飞船接近光速，飞船上的人和星球上的人时间流逝不同，因此生意资金的周转周期是不同的。每个人会考虑和本地星球的人做生意还是和外星人做生意，最终根据不同时间状态下的收益形成均衡。 如图\r推理叙事 个人推荐《经济学大侦探》，很好地展现了顶刊经济论文，如何通过因果识别，实证分析抛出悬念，进行解答的过程。 经典社科网红作品《叫魂》则是站在乾隆的视角展开悬疑，揭露剪发案的来龙去脉，进而剖析清朝的通信系统及其影响。 本文想要总结的是《推理大无限》这本书的部分内容。作者的本意是想让读者感受到阅读推理小说的魅力，也算是对侦探小说的一些文学批评。我感兴趣的是其中对于侦探小说现代性的探讨。 需要声明的是，这部分内容不是这本书的主旨，只是我更感兴趣一点，所以在此记录。 ","date":"2025-02-22","objectID":"/zh-cn/posts/ztxs/:0:0","tags":["文学","微观历史","阅读"],"title":"侦探小说的现代性","uri":"/zh-cn/posts/ztxs/"},{"categories":["阅读"],"content":"侦探小说的范畴 侦探小说关键要素为两个，一是侦探主体，二是推理过程。 只从推理过程来看，侦探小说是一种设置悬疑的写作技巧。我们对记忆的阐述本身就是模糊而有缺失的，就像月的阴晴圆缺，而优秀论文的写作也一定会巧妙地抛出疑问然后解答疑惑。 ","date":"2025-02-22","objectID":"/zh-cn/posts/ztxs/:1:0","tags":["文学","微观历史","阅读"],"title":"侦探小说的现代性","uri":"/zh-cn/posts/ztxs/"},{"categories":["阅读"],"content":"侦探小说的发展史 侦探小说起源于美国作家，诗人爱伦坡（Edgar Allan Poe）的《莫格街凶杀案》，但侦探小说的辉煌却发生在英国。 当时英国正处在工业革命时期，侦探小说有几点适应了英国的发展背景。 其一是科学精神，推理是一种科学精神与实证主义的弘扬。 其二是侦探的故事背景都发生在日常，且主要是都市的日常。 一些文学家，社区学家把侦探小说看作现代性生活的一种辩护。侦探推理能让日常生活变得更有诗意。侦探故事的主要凶手总是城市富翁、庄园主、地方权贵这些资产阶级角色。犯罪的舞台往往是城市郊区。金钱纠纷、情感纠纷、长辈对子女的人生控制成为凶杀案的主要背景。私家侦探和城市治理的冲突成为矛盾的主要阐述点。这些都可以看作城市生活的一种阐释。解密能让这些城市日常变得富有魅力，建魅，祛魅成为侦探小说的化日常为神奇的利器。 ","date":"2025-02-22","objectID":"/zh-cn/posts/ztxs/:2:0","tags":["文学","微观历史","阅读"],"title":"侦探小说的现代性","uri":"/zh-cn/posts/ztxs/"},{"categories":["阅读"],"content":"侦探小说的流派 推理解密的叙事方法有很多，创作者的核心卖点不同，创作派别则不同： 本格：重在推理案件的趣味性。推理逻辑的严谨性、趣味性追求远远大于大于犯罪背景，伦理社会关怀。 本格之外，各有不同， 写实派有如下三个分类： 法庭派：正与邪，罪与罚，法与情的较量。 硬汉派：人物塑造，独特的破案方式是关键。 社会派：核心买点是社会背景。 变格：推理只是幌子，借推理引发的思考才是关键。 对于本格派来说，侦探和读者的线索应该是完全一致的，这样才能让读者感受到和主角进行智力竞赛的快感。变格派不以推理为主要卖点，更容易使用叙述性诡计、临时加设定、强制转折、机械降神的方式完成叙事。 ","date":"2025-02-22","objectID":"/zh-cn/posts/ztxs/:3:0","tags":["文学","微观历史","阅读"],"title":"侦探小说的现代性","uri":"/zh-cn/posts/ztxs/"},{"categories":["阅读"],"content":"不同国家的推理小说 美国流行硬汉性侦探小说：侦探探案过程的经历更重要。 日本流行日常侦探小说2：将推理用于日常，或者恶意总来自日常，具有浓厚的轻小说和二次元要素。 中国的侦探小说一般依赖民间杂谈3，神话故事。 值得注意的是，无论是英国，美国还是日本的侦探小说，都是在资本主义改革后迎来了发展高潮。加速的城市化和人口流动带来了适合侦探登场的社会背景。 在这个时代，家庭代替了家族，晨报代替了晨祷4。 中国的侦探题材有所不同。虽然中国古代官员任免也有流动性，但他们代表的是一种公权力，主角多为朝廷官员，国家秘密间谍，公安人员。 可以从几个方面尝试解释这种不同： 个体性角色是侦探小说作为闲暇读物的一种对特征。咖啡馆是这一时期侦探小说中相对频繁的意向，人们也将侦探小说作为一种闲暇读物。只有当人们有足够的闲暇，才会进行并欣赏推理。 同一时间，中国尚在救亡图存之中，并没有滋生这种闲情逸致的土壤。例如中国主流的推理要素，除去历史人物神话杂谈外，就剩下家国谍战5。即便到了现代，主流的推理作品依旧以公安为主。 为什么中国的推理观众没有日本、美国这么多？作者给出的一种可能的解释是：在中国，儒家的礼直接给出了规范，而不需要人们去推理过程和理由。中国的东方哲学强调悟道，向内探寻的一种境界的升华，而非西方哲学的层层推理。 消费之问 同理还可以提问，中国的科幻消费在全球属于什么水平？什么样的土壤带来了科幻的消费欲望？ 之前北京国图有福尔摩斯 ip 展，于是在去之前把福尔摩斯探案集看完了，但我的最终感受是别花钱去 ip 展。 ↩︎ 绕不开日本经典的小说与动漫《冰菓》 ↩︎ 冷知识：“神探狄仁杰\"原著作者为荷兰人高罗佩 ↩︎ 个人找到的这句话的源为一篇知乎文章，但不能确认到底是否为源头。 ↩︎ 怀恋高中看《风声》的时光。 ↩︎ ","date":"2025-02-22","objectID":"/zh-cn/posts/ztxs/:4:0","tags":["文学","微观历史","阅读"],"title":"侦探小说的现代性","uri":"/zh-cn/posts/ztxs/"},{"categories":["经济学习"],"content":" 在 AI 冲击下，社科精神何在？个人认为是培养生活的一种韧性，就像《老人与海》中的渔夫圣地亚哥一般。当代人总在问怎样活得更好？但当一个人生活在经济增长停滞、人工智能高速发展的时代，活得不好又如何呢？此时， 为什么要活 成为了比 怎样活着 更靠前的问题。这让我将存在主义和社会科学的作用联系到了一起。 请设想这样一个世界：在这个世界，“因果”作为一种冷峻而客观的规律，远比人们常说的“因果报应”更为裸露。恶因必然孕育恶果，但恶果却未必降临在恶人身上1。正义的意志并不像空气般充盈在世间的每一个角落。当一个人虔诚地祈愿，渴望理所当然的幸福时，他所追寻的，不过是因果报应的幻影，而非因果本身。 因果凌驾于因果报应之上便是荒诞。“天赋人权”来自虚空，一切“我只想 xxx 有什么错”的抱怨只是发泄的借口。唯一可信的便是人生来没有目的，且一无所有。 我们从小就接受了 是什么、为什么、怎么样 的思维训练，但许多时候我们极容易陷入 这个世界应当怎样 的幻觉中，而不是接受 这个世界是怎样的。请让我引用杨小凯的一段话： 坐牢以后，我的政治哲学已经和写《中国向何处去？》时非常不同。写那篇文章时，我有对理想主义的追求，我认为民主政体应该是民选的，而坐牢的时候我已完全没有理想主义了。我相信人判断自己所追求的价值标准会随历史而变化，所以历史会怎么发展远比理想的目标更重要。以前我关心的问题是“什么是好的，什么是坏的，这个世界应该怎样”，在监狱里我问的却是：“这个世界会怎样发展”。最坏的事也许就发生在我们一生的时间内，因此关于好坏是非的主观判断没有任何意义，如何适应环境生存下去才是重要的事情。 放弃幻想，承认不合理的因果就是存在主义 是什么 的第一步。知道这就是世界的真实面貌后，人们会手足无措，感到痛苦。也就陷入到了虚无之中。 例如以下问题： 宇宙的目的是什么？2一切存在注定会消逝，我们所做的有什么意义？ 人生最大分水岭似乎是羊水，我们努力追求一辈子的东西可能是别人日常嫌弃的东西。命运存在公道吗？ 好人一定有好报是世界的普遍规律吗？ 付出了努力就一定有回报吗？ 天赋和努力的配比如何左右一个人的选择？ 这些问题实际上会让人走向虚无？在现代社会，大家应该有两种方法克服这些思考： 回避这些思考 相信某些信念：在古代是宗教教义、儒学规范，在当代便是道德规范，或者自己培养出的一种信念。 而后者便是社会学科在构建的未来社会3。 当传承积累到一定程度，我们便不会关注我们脚下的立场基石。就像我们的每一个思考，寻找下去，其实都有一个无法自证的基本逻辑。这些观念通过影视文艺作品渗透我们的生活，成为我们的价值底座。这个现象实在有趣，我认为这才是人文社会发展至今的沉淀——观念的传递在传播中日渐牢固，完成了从 0 到无穷的搭建。 世界大流感之后宗教被质疑，二战之后哲学迎来黄金时期，似乎只有当人类存在的本质被挑战时，文科才展露出它坚韧的一面。当构建的信仰真正融入到日常中时，人们已经不再对脚下站立的大地感到疑惑。 例如《了不起的盖茨比》这段话： 每逢你想要对别人评头论足的时候，要记住，世上并非所有的人，都有你那样的条件。 保留判断表示怀有无限的希望。我现在仍然唯恐错过什么东西，如果我忘记基本的道德观念是在人出世的时候就分配不均的。 在这样夸耀我的宽容之后，我得承认宽容也有个限度。人的行为可能建立在坚固的岩石上面，也可能建立在潮湿的沼泽之中，但是一过某种程度，我就不管它是建立在什么上面的了。 ——《了不起的盖茨比》（第一章） 社会科学，在人类文明发展之路上，或许更重要地是培养一种生命的韧性，让我们理解我们自己，理解自己为什么要活下去，这甚至比怎样地活下去更靠前。 故加缪才说： 真正严肃的哲学问题只有一个：自杀。自杀意味着，生活是不值得过的，任何人必须活着的深刻意义是不存在的。 同样的话，苏格拉底说的更加巧妙： 未经审视的生活是不值得过的 社会科学理论的自相矛盾，却恰恰体现了一种包容的价值。在经济学中，各种理论更是混沌，尽管各种理论流派吵了一千年连 是什么 都弄不清楚，但他们做到了一件事——让人们能够直面不合理的 是什么。这是束缚，也是自由。人们只会念叨着罗曼罗兰的英雄主义而快速逃离悲剧的现场，不去追问苦难的源头，避免讨论死亡的哲学。 道德、仪式感、意义的追寻不正是这样的产物？人们长久地沉浸在道德的理所当然中，却忘记了这份秩序的可贵和来之不易。我甚至认为这份追寻诞生自虚无之中。 举个例子，什么是公平？当你看到出生就在罗马的人时？当你看到运气总是好到爆棚的人时4？你用什么来量化公平的合理性？理论的包容会带来平静，但这并不意味着这就是理所应当的。 很多人抱怨经济做不到预测，社会科学应用价值低下，但包容性的解释自有其魔力。举一个例子——古代的贵族会抱怨穷人素养低下。但是如果一个人接受了足够的因果识别教育，他其实会发现——仓廪实而知礼节，衣食足而知荣辱。是有钱带来的礼节，还是礼节让人变得有钱？鸡生蛋，蛋生鸡的交互问题永远没有答案，但这个理论本身会让学者对穷人保持足够多的理解。 社会科学并不会为人带来财富，就像那个经济学笑话，学习经济学并不会让人变得富有，但至少你可以知道自己为什么这么穷。经济学家中的富翁并不多，最著名的李嘉图是先成为了富翁再成为了经济学家。最大的人生智慧实乃包容之心，包容各种矛盾的理论，然后包容别人，最后包容自己的人生5。如此，学习之路才不至于和生活之路背道而驰。 我见过很多人争吵情商还是智商重要，社交重要还是能力重要，然后抱怨身边的人。但只要我们进行分门别类，就会发现是一个人自己某方面强就会在意某方面，形成自己的评价立场。这时候，会怎样远远比该怎样更重要。 当理论的解释能够带来内心的平静，它所散发的力量便远超越了单纯的应用。对我而言，这正是人文主义的真实写照。学习社会科学不应只有对世界的批判，还应解释并理解世界，即便是它艰难晦涩的一面。长远的历史河流中，道德、公平、正义概念的出现是否是必然？我不知道，但我知道这些词汇具有强大的包容性，他们让每个人心存希望，心怀信念，即便这些追求从来不是世界运转的原始规律——他们就像虚无中诞生的花朵一般。 当包容性的理论成为人们的信念，明天的种子就在今天埋下。 不充分的寓言也可变成预言。 寓言也可变成预言。\r请让我用一点抒情结尾： 想要叩问生活真实的人啊，荒诞的承认者，要么陷入疯狂，要么加入这一场永无休止，注定徒劳的滚石之旅吧。承认道德之虚无，却赞颂道德构建之伟大；承认因果凌驾于因果报应之上，却为因果报应的秩序构建点燃自己渺小的一生。穿过沉默的低谷，承认一切毫无意义，却仍不低头，这是一个人能做的最小的，唯一的，也是最本质的反抗。 这句话来源于电影《大块头有大智慧》 ↩︎ 刘慈欣《朝闻道》 ↩︎ 所谓的前瞻的道德观 ↩︎ 就我个人的看法而言，偶然性中总是存在一些必然性——总有人会中彩票，只是那个人不一定是你罢了。 ↩︎ 人，千万别过度为难自己 ↩︎ ","date":"2025-02-21","objectID":"/zh-cn/posts/fs4/:0:0","tags":["反思"],"title":" 存在主义与社会科学：绽放虚无之花","uri":"/zh-cn/posts/fs4/"},{"categories":["阅读"],"content":" 给岁月以文明,而不是给文明以岁月1 —— 《三体：黑暗森林》 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:0:0","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"推荐理由 ： 《富种起源》通过两部门马尔萨斯模型加竞择理论重构了一种经济增长史。 《自私的基因》启发了作者从进化论的角度去理解经济史，《三体》启发了作者从科幻和模型的角度去寻找反事实。两者共性是都运用了博弈论和进化论： 我觉得赵鼎新《赵鼎新 ｜ 结构机制解释和宇宙大爆炸后结构机制关系的发展》对马尔萨斯的不足概括的很好： 马尔萨斯方程刻画的是生物种群的个体繁殖率和整个种群增长之间所呈现的指数关系。但这一方程是在食物永不短缺、没有种内和种间竞争、没有捕食者、没有密度制约疾病和没有迁徙的条件下才完全成立的固定性因果关系。 《富种起源》就是从种内和种间竞争的角度对马尔萨斯定理进行改进。 在竞择机制的理解框架下，技术爆发与财富增长的拐点，历史反复性的繁荣和毁灭，都有了一套包容性的解释。 反驳学界主流无疑是一个艰难的过程。本书在谈论理论模型之余，还包含了对科学概念和方法论点思考。我一向认为——最顶级的社会科学学者在售卖的是世界观。 《富种起源》在境界上达到了这种地步，结合进化论、经济现象、历史背景完成一种史观的构建。由于作者钟爱科幻小说、自然科学的科普著作，《富种起源》这本书也写得趣味盎然。 本书和《自私的基因》类似——更像生物经济学的建模手册，作者介绍了他曾走过的岔路口，论文逻辑的构建过程。既有反对主流的勇气，又有严谨的逻辑体系和学术训练，实在是吾辈楷模。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:1:0","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"传统马尔萨斯框架下的经济史 马尔萨斯造就的不只是一个学科，还有一种历史叙事。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:2:0","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"马尔萨斯陷阱 马尔萨斯人口论造就了人资环这个学科。 社会富有了，人就会增加生育； 社会贫穷了，人就会减少生育。 最终人均收入就会稳定在一个水平上。 同理，生产增长的速度无法追赶人口增长的速度就会带来灾难。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:2:1","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"经济增长史 人资环是从自然资源利用，人口控制的角度理解马尔萨斯陷阱，但在经济增长、经济史的研究领域，我们会得到其他有意思的数据图。 在工业革命以前，世界人均收入几乎不变，而工业革命后，发展迎来了指数级别的爆发。 在漫长的经济增长史中，似乎只发生了一件事——工业革命。 ——格里高利·克拉格（经济学家）（Gregory Clark） 如图,世界人均收入，人们一般划分两个时期，马尔萨斯前和马尔萨斯后\r如图,身高数据似乎也是同步的\r","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:2:2","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"有趣的问题 看到这种历史趋势图，我们难免会冒出以下疑问： 图源 wiki 百科。麦迪逊对1500年至1950年间选定的欧洲和亚洲国家以1990年国际美元购买力平价计算的人均GDP的估计 。显示了19世纪西欧和日本的爆炸性增长。\r明朝的人均实际收入和宋朝的实际收入难道一样? 繁荣如果完美，为何不能持续？ 为何历史总在民主和不民主间摇摆。 民主的雅典被独裁的斯巴达打倒，西罗马之后是黑暗的中世纪。 为何工业革命能破坏马尔萨斯陷阱？ 能不能用一个大一统模型描述整个经济增长史？ 大一统经济增长模型的延伸讨论很有意思，我一开始觉得最有意思的议题就是李约瑟之问，这源于高中历史老师送的《历代经济变革得失》2。对于进化论的了解要感谢 z 学长送的《自私的基因》😍。 个人对《自私的基因》的读书笔记可参见《自私的基因》：利他道德之问。 相关议题：李约瑟之问3、韦伯之问4、大分流5…… 顺便记录下过去本科时关于方法论的作业\r需要解释同时三个事情： 为什么穷？ 转折点发生了什么？ 为什么富？ 思考 正是因为这种主流叙事，现在的发展经济学成为劳动经济学和经济史的天下。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:2:3","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"竞择 这里只简单举例《富种起源》的解答角度。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:3:0","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"两部门马尔萨斯模型与效用品 传统的马尔萨斯理论是单部门的，只会比较生育和生存（生产资料部门看作一个整体）。 本书使用两部门来分析，人们会在效用品和生存品中做出抉择。在此基础还有马尔萨斯人口平衡线发挥作用。 添加的均衡是：均衡会回归人口平衡线。人口增长超越平衡线时，人均资源下降，体现为生产可能性曲线等比例萎缩。 下图是其中一个场景分析: 人们对效用品偏好增加(无差异曲线变得平坦)。 此时均衡低于人口平衡线（生产可能性曲线扩展）。 最终形成新的均衡。 这个定理从经济含义来看简直不可思议：社会偏好改变，更加偏好效用品，于是社会福利就莫名其妙地提升了！代价则是过渡时期偏离人口平衡线。 如图\r我个人很欣赏这个两部门的改进。其结论也符合历史趋势，随着历史发展，艺术、美、精神的追求都可以看作效用品，实际上人类文明对生存以外的效用品重视程度一直在增加。 与此同时，对效用品的追求可能与文明的繁衍自相矛盾。例如追求梦想而放弃婚姻，为了天上的月亮而放弃生存的五便士，为了容貌而亏待自己的身体。 《富种起源》对繁衍的假设是：基因会促使我们关心基因的延续，但我们并不会特意去计算繁衍的概率。 这也能解释财富大爆炸与生育率下降如影随形，实际上我们的生活水平又确实在提升 6。很多人把原因归结为养育成本，但《富种起源》的框架能包容这一点——教育、住房、医疗这一类生存品在今天被消费主义转换为了效用品。生存品转化为效用品对社会福利提升的作用是巨大的，代价则是整体的生育意愿7。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:3:1","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"人口漏斗 作者模型计算的平衡增长路径为： $$ g_{社会福利}=\\beta(g_{效应品}-g_{生存品}) $$ 在经济增长（宏观经济学）的相关研究中， $g$ 一般代表增长率。平衡增长路径就是基于模型解出增长率的变化过程。 马尔萨斯时期，人均收入没有变化，体现在式子中，意味着效用部门的进步率和生存部门的进步率应是一样的。 最大的难题是，商业工业这类部门天然就比农业更容易进步 。 也是从这里开始，我并不能被作者真正说服。这里也是连接经济分析和进化论博弈分析的过渡部分。 作者使用的人口迁移与区域贸易作为解释： 前面的两部门模型提到了：效用品偏好增加，社会福利也会增加。 此时自然就有人口流入，生产可能性曲线又会萎缩。 最终回到一种均衡。 如图\r感觉这里也能包容刘易斯拐点。也能解释人们总是会从民风朴实的地方跑到骄奢淫逸的地方。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:3:2","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"族群竞择 主流认为的马尔萨斯机制是“资源有限”，而《富种起源》给出的主要原因是族群竞择（结构性的特征淘汰）。 从进化论的角度讲，个体和集体的竞争可能是存在矛盾的。 下面这个式子是非线性的伏尔特拉方程组。最开始是描述的湖底生态系统，大鱼吃小鱼，但小鱼被吃干净了，大鱼也会变得生存艰难，最终达到一种均衡。 $$ \\begin{cases} \\dot{\\varepsilon}=-{\\varepsilon }h\\left( \\theta \\right)\\\\ \\dot{\\theta}=-{\\theta }g\\left( \\varepsilon \\right) \\end{cases} $$ 因此新剑桥学派认为这个式子就像阶级斗争，他们赋予的含义是工资产量-产出比和就业率的关系 但其解释意义其实更加深远，此消彼长的自然哲学在这个式子里体现地淋漓尽致。 例如今天的经济，所有人都认为公务员才是铁饭碗，是最稳妥的选择，但如果大部分人都这么想了，社会就会失去财富创造的动力，进而崩溃。凯恩斯流动陷阱同理。 《自私的基因》认为基因竞争才是进化论的最好诠释。但这个式子能反驳这一点，事实上，主流生物学界也认为种族竞争也在进化论中发挥了巨大作用。 例如对于一个种族来说，每一个个体通过强化自己的生殖器或者其他炫耀性求偶的功能来实现基因的传承。 但种群内部的竞争，放在族群间竞争中来看是内耗。 白垩纪介形虫的化石证据表明——只有生殖器长度适中的种群能够延续。生殖器越长反而延续概率越低8。 举一个例子，雅典的文明高度发达，实施民主制度，他们却没能抵御独裁制的斯巴达城邦的袭击。原因在于，雅典的民主制度带来了效用品的增加——艺术、演讲、民主、文学；却没有增加生存品的进步——军事、农业、建筑。因此这种繁荣吸引力敌人的觊觎，却没能增加反抗的手段。 从这个角度讲，我认为《富种起源》包容了《国家为什么会失败》，甚至能解释为什么包容性制度会在早期失效。 也说明了时间穿越者无用论😄（ 综上，效用品部门如果大大超越生存品部门的增长速度，则容易被攻击。同理的还有中国的宋朝。 这也是为何进化没让每个人道德高尚。就像《三体》中的黑暗森林9，恶意成为了种群竞择博弈中的一种生存品。 于是我们可以得到一个结论——全球范围内，生存品和效用品的增长速度是几乎一致的。 计算机模拟结果图\r","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:3:3","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"大一统理论 前面解释了马尔萨斯时期为什么人均收入总是停滞。这里则解释为什么工业革命后就开始富有了。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:4:0","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"目前的大一统理论 一般认为，工业革命前是马尔萨斯陷阱导致的，后面的内生增长技术进步导致的。大部分大一统模型都是从人口结构或者要素稀缺的角度进行解释。 琼斯（2001）的理论模型基于人口结构作为桥梁。马尔萨斯陷阱假设人富就生，但现实表明社会富有到一定程度就会减少生育。技术会强化这个趋势，而工业革命就是那个转折点10。 盖勒和韦尔（2000）的模型存在两个权衡：1.享乐和养育，养育孩子会牺牲自己的享乐。2.生育和养育。生育回报和养育成本之间存在一个均衡11。 盖勒和阿莫夫（2002）在前面的基础上强化了教育积累的作用。把工业革命，教育，基因选择论积累联系在一起12。 这篇是 2002 年的 QJE。看来进化论和经济学早就被联系在一起了。当然，追溯到更早，马尔萨斯的《人口论》本身就是启发达尔文的一个重要文献。马尔萨斯的《人口论》和达尔文的《进化论》也启发了马克思的《资本论》。 汉森和普雷斯科特（2002）尝试用技术转型解释。前期生产力匮乏，人们依赖土地作为生产要素，而工业革命后，技术进步替代了土地利用的开发，因此实现了财富的爆炸增长13。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:4:1","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"《富种起源》的解释： 乌云散了，太阳就出来了，大部分人会尝试去解释太阳从无到有的过程。 可如果太阳一直存在呢？ 举个例子——就像刘慈欣的《球状闪电》，不是球状闪电从无到有，而是它的伪装从有到无14。不是太阳在动，而是地球在动。许多人认为幸福是从无到有，但是幸福或许是痛苦得到缓解。 不是太阳从无到有，而是乌云从有到无。 三个因素把遮挡在经济增长上的乌云拨开了。 贸易替代了移民 知识媒介的革新 效用品大爆炸 如图\r也就是说，经济增长，效用品的追求，福利的提升从未停止。但在工业革命那个点以前，谁强谁死。例如发达的宋朝、雅典、罗马帝国。他们发展的只是生物炫耀性特征——内部个体竞争的优势，而不是种群竞争的优势。 在今天，竞争是多层次的。生存品和效用品可以同步转化，制造业和国防紧密联系。在过去，效用品的过度发展是种阻碍，在今天，效用品的发展却是一种助推力。正如中国古代的封建制度领先于奴隶制，但终究拖了现代化的后腿。以往大家只会基于生命周期理论点到为止，本书则从效用品进行了更细致的剖析。 一个思想实验 一个水坝的洞被堵上了，两边的物种产生了变异，洞又开放了，两边又结合在一起，产生了第三种物种。一个物种变出了三个物种。如果没有这个洞口，似乎物种永远只有一个。这个变化应该归结到哪个原因？ 从何种角度审视一个从无到有的过程是非常关键的。 在世界繁荣中，竟择指数就是那个洞口。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:4:2","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"市场的脆弱和韧性 继续质疑：那工业革命以后的苏联为何依旧会灭亡？ 竞争是多层次的，长时期的。 农村的生存品可能成为城市的效用品。例如草原奶场、农村的绿色瓜果。 今天的效用品也可能成为明天的生存品。就像历史上的铝和铜，随着技术的发展，他们和金的交换价值也在发生改变。 美国和苏联处于同一层次的竞争；法西斯和非法西斯的竞争也处于一个层次。当经济越发达，竞争胜利的影响也会越大。因此，如果落后的一方压到了另外一方，黑暗统治也会更加长久。悲伤的结论便是，永恒的繁荣并不存在，但始终有新的繁荣。 沉舟侧畔千帆过，病树前头万木春。 繁荣始终存在——这是市场的坚韧。 繁荣没有永恒——这是市场的脆弱。 国内历史教材也如此形容古代的小农经济。 计算机模拟结果\r换而言之，繁荣的发展一直存在，但是他们的扩散一直在被压抑。直到世界的经济整体发展到一定地步，一个优秀的制度才有了扩散到可能。地理大发现不正是开启工业革命的关键钥匙吗？ ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:4:3","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"经济史的可解释性 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:5:0","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"历史观 我赞同作者在书中对于科学的看法——初见不可思议，分析完后却觉得不得不如此。这个不得不如此可谓“科学”。 这也是我觉得经济增长简直无敌了的原因，模型数学，经济直觉，历史积累全部缝完了。宏观跳大神确实是跳大神。牵扯国家，所有人都在追求一种“大一统”——用一个理论兼容千奇百怪的发展史。从这个层面讲，经济增长甚至比计量还在意拟合优度🤧。 微观求最优化，计量求可信度，宏观求啥呢？我只能想到用“大局观”去概括这种感受。 当我们发现经济增长才是历史长河中的昙花一现，停滞的均衡才是历史的大部分面貌时，我们就会减轻在现实中的焦虑。静谧常在，寂灭注定是宇宙的尽头，但生命轮回不止，生生不息，到最后，此书的哲学和《狮子王》、《今日简史》、《紫藤萝瀑布》15便别无二致。 亚当斯密《道德情操论》曾言“人在追求内心的平静和愉悦”。一旦放弃当快乐的猪，成为痛苦的人，就会踏足这趟追求内心平静的旅程。这何尝不也是一种追求效用品的体现？👨‍🎓 在我个人看来，对一个求知者而言，历史可解释性带来的平静感和包容性，比经济学的预测性和实用性更难能可贵。 孟子曰：吾善养吾浩然之气。有所知，方包容万象，自强不息。泰山崩于前而色不变，麋鹿兴于左而目不瞬。我想——在学术精神气养起来前，人的精神气早该养养啦！这关乎本末之争——须知君子不器。 最近看了《剑来》，所以这方面的感触颇深\r","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:5:1","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"弊端 正如《人类简史》、《自私的基因》通过演化来理解世界，可以看作广义的进化论——与哈耶克的自发秩序有相通之处。同样，作为演化论的视角延伸，《富种起源》和上述书一样，具有一种“去人类中心化”的角度。也是因为如此，个人认为本书还有以下问题： 两部门模型与单部门之争。正是因为人口结构变化缓慢16，且具有长期惯性，马尔萨斯的单部门分析才比较符合直觉。效用品和生存品既然容易相互转化，具体的刻画分析其实是一个难题。本书只是从感觉上分对效用品进行了描述。而效用品和基因生存的具体关联为何呢？既然与竞择相关，转化又岂能如此容易？ 模型假设。模型在生产函数上使用的科夫道格拉斯函数，不知如果使用规模报酬递增的函数，增长路径是否会有所变化？毕竟这是主流认为的国际贸易的动机之一。 实证方法。作者也分析了竟择理论是一个套套逻辑17不同于主流的同对象的反事实，本书的方法是计算机模拟增长情况和寻找非生物的反事实，无疑和当代经济学的主流方法完全不同。效用部门的经济增速和生存部门的经济增速，还缺乏一种主流计量的估计策略18。 作者认为套套逻辑这种定义演绎可以看作一种公理讨论，无法自证也无需自证。 组织主体的能动性：《自私的基因》单独设置了模因（meme），将自然社会和人文社会区分开来。将演化论用于社会分析是崭新的视角，但必须面对主体性的讨论，例如政府的结构与演化是否互为因果，那么就绝不是单方面的演化问题了。一个组织的构建对于效用品和生存品的发展又意味着什么呢？在长久的人文社会发展史中，似乎只有道德、国家两个要素成为形式上的必然。 不过个人还挺喜欢这种演化史观的，大势去，有壮士，无英雄登台；大势在，时而英雄辈出，时而也存在竖子登台，万类霜天竞自由。偶然，必然，皆可兼容。 ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:5:2","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["阅读"],"content":"总结 回过头说，《富种起源》基于种群竞争和马尔萨斯两部门模型构建了一个宏观经济史的理解框架。作者使用了星火燎原来形容经济演化从沉寂到起伏的过程。文明的繁荣机会从未停止，缺的只是适当的外在条件。 不过作者也没有真正解释为何工业革命后时代，也存在落后文明打倒先进文明的现象。后半段的逻辑阐述没有前半段丝滑。不过这种框架还是很具有包容性的。 我想用三句话概括这种史观： 马尔萨斯前：木秀于林，风必摧之。 马尔萨斯中：千年暗室，一灯即明。 马尔萨斯后：东风借势，星火燎原。 如图\r这句话出处是《三体》（黑暗森林）。在《三体》里，这句话被描述成来自 Blaise Pascal 。不过个人看了下网上的讨论，帕斯卡的文章只有相近意思的段落或长句。一般都认为是刘慈欣半编了这句话。 ↩︎ 这本书是经济周期论，同时认为现代中国经济是古代思想的一种延续。当时国民进退论比较火，这本书基本上也是这个基调。 ↩︎ 尽管中国古代对人类科技发展做出了很多重要贡献，但为什么科学和工业革命没有在近代的中国发生？ ↩︎ 为何中国、印度这样的东方社会，没能在政治、经济、科学乃至艺术领域走上独立于西方之外的理性化道路？ ↩︎ 西方世界在19世纪克服了增长限制，超越了以前占主导地位或类似的中东和亚洲文明 ↩︎ 这是否也在讽刺赛博朋克的内核站不住脚？在马政经中，这个话题叫做人的异化。 ↩︎ 或许可以看作一种代际的代价 ↩︎ Höglund J, Sheldon B C. The cost of reproduction and sexual selection[J]. Oikos, 1998: 478-483. ↩︎ 假设一个高等文明发现了一个低等文明，为了防止自己率先被对方攻击，最优的博弈策略是自己先攻击对方 ↩︎ Jones C I. Was an industrial revolution inevitable? Economic growth over the very long run[J]. The BE Journal of Macroeconomics, 2001, 1(2): 153460131028. ↩︎ Galor O, Weil D N. Population, technology, and growth: From Malthusian stagnation to the demographic transition and beyond[J]. American economic review, 2000, 90(4): 806-828. ↩︎ Galor O, Moav O. Natural selection and the origin of economic growth[J]. The Quarterly Journal of Economics, 2002, 117(4): 1133-1191. ↩︎ Hansen G D, Prescott E C. Malthus to solow[J]. American economic review, 2002, 92(4): 1205-1217. ↩︎ 在刘慈欣的这个小说中，球状闪电是一种难以肉眼观测到的宏原子，只是和闪电发生反应时容易被注意到。 ↩︎ 初中课文。我印象深刻还是因为上课老师问《紫藤萝瀑布》主题是什么，我刚好有印象，就回答上了，于是印象更深刻了。 ↩︎ 例如龙年婴儿潮，是长期迷信和人口结构的共同作用，周期循环，惯性力量巨大。 ↩︎ 来自张五常，一些依赖描述无法自证的定义，例如四足虫是长着四条腿都虫。 ↩︎ 《富种起源》的方法范式更像生物、卫生、计算社会的统计范式，仿真模拟。 ↩︎ ","date":"2025-01-18","objectID":"/zh-cn/posts/fzqy/:5:3","tags":["阅读","微观历史","宏观经济学"],"title":"《富种起源》：千年暗室，一灯即明","uri":"/zh-cn/posts/fzqy/"},{"categories":["经济学习"],"content":"+++ Title = ’ 标题名' Slug = ‘链接名’ date = 2024-10-29T18:52:19+08:00 Draft = true Math= false OutdatedInfoWarning = false Lightgallery = true FeaturedImage=\"/img/pythonGIS.zh-cn-20250524111143536.webp\" Tags = [“标签”,“ass” ] Categories= [“Movies”,“test”] Summary=’ 总结' +++ This is a tip 类型：tip note bug abstract info success question warning failure danger example quote 裁判文书清洗手册 作者：滑翔闪 这个文档既是目前工作的汇报，也是一些经验的总结。 或许能方便后面的同学更快上手裁判文书的清洗工作。 希望未来的同学能重视工程技巧的优化总结与文档分享。 思考如何优化工程，优化团队协作，让积累和输出成为一种能力。 世界不但需要输入，也需要输出，知识的分享与传递才是人类文明不断进步的纽带。 关于 AI 工具的推荐： 通义千问：上下文记忆能力长，能让它改善长代码。 GPT ：更了解 stata 的函数。在我处理字符串变量时，通义千问经常用复杂的命令处理，通常还报错，而 GPT 知道很多 stata 的不常用函数，一行代码就可以轻松搞定。 deepseek :国内新秀。语言表达很不错。能很快理解使用者的意思。虽然 GPT 的代码能力更加优秀，但 deepseek 更能听懂要求，建议 deepseek 生产基础代码，gpt 进行优化。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:0:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"关于裁判文书的网站 不建议去裁判文书网查询案例，反应卡顿，验证频繁 推荐北大法宝和威科先行（自带可视化和便捷查询） 💬 备注：裁判文书的清洗需要交替处理中文和数字。本文档会多提一些 python 和 stata 的常用正则表达式。 AI 虽然掌握了很多函数，但它不知道怎么组合。 谋篇布局的算法理解才是我们的最大优势。 提问时要替 AI 理顺代码的算法。 有了 AI 后——知道什么包能实现什么功能，在算法下有什么作用，比掌握细节更重要。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:1:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"裁判文书资源 原始文本数据：一堆 txt 文件。每一行是一条裁判文书信息，Txt 文件以 “万”作为文件名，因此下面使用整数部分的数字代表每个 txt 文件。 配套的文档是压缩包、文书字典、变量含义表格。 ​ 例子\r提示😍：每个 txt 文件都很大，一般软件打不开。个人推荐使用 EmEditor 软件查看。积极使用 EmEditor 软件查看例子，能让我们更好地了解乱码情况和裁判文书的书写规则，以便改进我们的文本处理代码。 Dta 数据：前辈们清洗好的 stata 文件。拆分为了 ans 1—ans 83。格式刷 stata 的 .dta格式 例子\r一套完整的清洗流程就是： 从原始的 txt 中筛选提取我们需要的信息，最终成为能导入 stata 使用的数据。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:2:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"txt 文件的处理 Txt 的裁判文书大部分已经处理为了 json格式，python 读取其实较为方便。 其中，大部分裁判文书 txt 文件是下方的 s 系列命名结构： 重要的信息都在第三列，s*系列包含的数据结构当中\r重要的信息都在第三列，s*系列包含的数据结构当中 但跑通了一到三份 txt 文件不等于能跑通所有。 ⛔ Txt 的裁判文书还存在一些其他格式： 有些 txt 文件格式为 DocInfoVo 开头的。 有些 txt 文件格式为 title 开头的。 有些 txt 文件格式夹杂着 HTML 语言。 有些 txt 文件格式是纯粹的乱码。 有些格式中 s 系列和 DocInfoVo 格式混在一起，导致循环代码被打断。 因此处理时得考虑代码的兼容性和全面性，分开写处理代码，然后对这种 txt 文件处理两次。 例子\r例子\r","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:3:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"一些建议 由于循环容易被打断，用 txt 进行处理处理时，建议参考如下逻辑： 1、将乱码的 txt（附在后文）和 s 系列的 txt 分开处理 2、原始文件为 txt，清洗处理后生成新的 cleaned_txt。 3、由于清洗循环命令容易被打断，最好多写一个命令：对比 txt 和 cleaned_txt 的文件名。 4、多写一个步骤：将处理完成的 txt 文档移动到另一个文件夹，修改报错代码后继续循环。 Python 默认读取文件的顺序是 txt 1 txt 10 text 111… 而不是 1、2、3… ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:3:1","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"乱码文档 不只是 s 系列格式的 txt 文件有： 例子\r","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:3:2","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"Python 例子 ：提取案件号序列 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:4:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"思路 python 读取 txt 的 json 格式。 提取第三列 CourtInfo 数据。 例子\rs 23 变量所有案件号，以此追踪一审二审再审终审。 例如 （2016）沪0104民初33043号 ，其实就是一个裁判文书案件的身份证号。 正则表达式筛选：按照 （年份）初\\终\\再 号 的规则提取满足要求的字符串 pattern = r\"[（(]\\d{4}[)）][^号]*?(?:初|终|再)[^号]*?号\" 提取后去除重、排除包含“['X', 'x', 'Ｘ', '执', '不动产', '-', '第']”的案件号。 如果继续使用这种方法提取，排除时最好加入 辖。 这种案号也有辖初、辖再、辖终，但只表示法院在管理权上的划分。 （或许以后还有人能想到用这个特征做研究？👍） exclusions = ['X', 'x', 'Ｘ', '执', '不动产', '-', '第'] 排序，优先按照案号中的 (年份) 进行排序。 删除案号数量大于等于 5 的所有行。 一个案子最多是如下的顺序： 初审，不服申请上诉，再审，终审，不服再进行上诉，终审。 可以直接从初审跳到终审，终审后还有最后一次再审机会，再审结束后一般就不会更改了。 个人的排序逻辑：（此处最大的漏洞是我想不到怎么完美识别“再”案号的位置） 生成 m 1——m 4 四个变量 带有初的案号归类到 m 1，带有终的案号归类到 m 3。 带有再的情况： 如果只有初和再，再归类到 m 2 如果只再，我默认放在 m 4 如果同时有终、再，根据相对位置判断再是 m 2 还是 m 4。 后面发现：【辖终】会干扰顺序，所以先将包含辖的案号清除，然后和被其挤到 m 4 的【终】案号交换顺序。 这就是大数据最麻烦的点： 如果前面工作没有完美做好，后面返工成本会越来越高。 最糟糕的是——大数据总是很难穷尽所有乱码可能。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:4:1","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"单个 txt 的处理 以下代码只针对 s 系列命名的文档。 import pandas as pd from collections import OrderedDict import json import re import os ​ # 读取数据 data = pd.read_csv(\"F:/桌面/裁判文书数据库/test/test.txt\", delimiter='\\t') ​ # 查看前几行数据 print(data.head(3)) ​ # 假设 CourtInfo 列中包含 JSON 字符串 json_data = data['CourtInfo'] ​ # 解析 JSON 数据 def parse_json(json_str): try: return json.loads(json_str) except json.JSONDecodeError: return None ​ # 应用解析函数 parsed_prac_c = json_data.apply(parse_json) ​ ​ ​ # 将 JSON 字典转换为 DataFrame，并处理缺失值 json_df = pd.json_normalize(parsed_prac_c.dropna(how='all')) ​ # 查看转换后的 DataFrame print(json_df.head(20)) ​ # 正则表达式模式 pattern = r\"[（(]\\d{4}[）)]\\s*.*?号\" ​ # 使用findall提取所有匹配项 matches = json_df['s23'].apply(lambda x: re.findall(pattern, x) if isinstance(x, str) else []) ​ # 查看转换后的 DataFrame print(matches.head(3)) print(matches) ​ ​ # 创建新的 DataFrame，将更新后的 's23' 列保存 matches_df = pd.DataFrame({ 's23': matches }) ​ # 查看转换后的 DataFrame print(matches_df.head(10)) # print(matches_df) ​ # 选择要合并的列 selected_data_columns = [] selected_json_df_columns = [] ​ # 合并选择的列 combined_df = pd.concat([data[selected_data_columns], json_df[selected_json_df_columns],matches_df], axis=1) ​ def clean_text(text): if isinstance(text, list): text = ', '.join(text) # 将列表转换为字符串，元素之间用逗号和空格分隔 if isinstance(text, str): if text == \"[]\": return '' cleaned_text = text.replace('[', '').replace(']', '').strip() return cleaned_text return '' ​ # 切割并生成列名 def split_and_rename(content): content = clean_text(content) split_content = content.split(', ') result = {f'm{i+1}': split_content[i].strip() for i in range(len(split_content)) if split_content[i].strip()} return result ​ # 应用函数 expanded_df = combined_df['s23'].apply(split_and_rename).apply(pd.Series) ​ # 查看结果 # print(\"Expanded DataFrame:\") ​ # 提取年份的函数 def extract_year(text): match = re.search(r'[（(](\\d{4})[）)]', text) return int(match.group(1)) if match else float('inf') ​ # 清洗和排序函数 def clean_and_sort(row): # 过滤掉非字符串类型的值 filtered = [item for item in row if isinstance(item, str) and not any(keyword in item for keyword in exclusions)] # 去除重复项并保持顺序 unique_items = list(OrderedDict.fromkeys(filtered)) # 按年份排序 sorted_items = sorted(unique_items, key=lambda x: extract_year(x)) return sorted_items ​ # 需要排除的关键字列表 exclusions = ['X', 'x', 'Ｘ', '执', '不动产', '-', '第'] ​ # 筛选所有 m* 列 m_columns = [col for col in expanded_df.columns if col.startswith('m')] ​ # 对每一行应用清洗和排序函数 def process_row(row): # 获取 m* 列的内容 row_values = [row[col] for col in m_columns] # 扁平化列表 flattened = [item for sublist in row_values for item in (sublist if isinstance(sublist, list) else [sublist])] # 处理并排序 sorted_items = clean_and_sort(flattened) return sorted_items ​ # 应用到数据框的每一行 sorted_results = expanded_df.apply(process_row, axis=1) ​ # 创建新的数据框 max_length = max(sorted_results.apply(len)) sorted_df = pd.DataFrame(sorted_results.tolist(), columns=[f'm_sorted_{i+1}' for i in range(max_length)]) ​ # 打印结果 print(sorted_df.head(10)) ​ # 合并到原数据 combined_df2 = pd.concat([combined_df, sorted_df], axis=1) ​ # 查看结果 print(combined_df.head(10)) # 检查 'm_sorted_5' 列是否存在，并删除非空行 if 'm_sorted_5' in combined_df2.columns: combined_df2_cleaned = combined_df2[combined_df2['m_sorted_5'].isna() | (combined_df2['m_sorted_5'] == '')] else: # 如果列不存在，则保留原数据框 combined_df2_cleaned = combined_df2.copy() ​ # 打印结果 print(combined_df2_cleaned.head(10)) ​ # 获取所有 m_sorted_* 列的名称 m_sorted_columns = [col for col in combined_df2_cleaned.columns if col.startswith('m_sorted_')] ​ # 过滤出索引大于等于 5 的列 columns_to_drop = [col for col in m_sorted_columns if int(col.split('_')[2]) \u003e= 5] ​ # 删除指定的列 combined_df2_cleaned = combined_df2_cleaned.drop(columns=columns_to_drop, errors='ignore') ​ # 打印结果以检查清理后的数据框 print(combined_df2_cleaned.head()) ​ combined_df2.to_csv('F:/桌面/combined_df.txt', sep='\\t', index=False, quoting=1, quotechar='\"') ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:4:2","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"批量处理 个人选择的批量处理思路是循环处理一个文件夹下面的所有文档。 循环容易被打断，建议写一个报错记录，和处理完一个文档便移动的命令。 import pandas as pd from collections import OrderedDict import json import re import os ​ # 定义输入和输出文件夹路径 # 定义输入和输出文件夹路径 input_folder_path = \"C:/Users/PC/Desktop/hzp_project/二审和一审/数据/\" output_folder_path = \"C:/Users/PC/Desktop/hzp_project/二审和一审/清洗结果/\" ​ # 如果输出文件夹不存在，则创建它 if not os.path.exists(output_folder_path): os.makedirs(output_folder_path) ​ # 遍历输入文件夹中的所有 .txt 文件 for filename in os.listdir(input_folder_path): if filename.endswith('.txt'): input_file_path = os.path.join(input_folder_path, filename) output_file_path = os.path.join(output_folder_path, filename) ​ # 读取数据 data = pd.read_csv(input_file_path, delimiter='\\t') ​ # 打印前3行数据以检查 print(f\"Processing file: {filename}\") print(data.head(3)) ​ # 解析JSON字段 json_data = data['CourtInfo'] ​ def parse_json(json_str): try: return json.loads(json_str) except json.JSONDecodeError: return None ​ parsed_prac_c = json_data.apply(parse_json) ​ # 将解析后的JSON转换为DataFrame json_df = pd.json_normalize(parsed_prac_c.dropna(how='all')) ​ # 打印前20行以检查 print(json_df.head(20)) ​ # 定义匹配模式 pattern = r\"[（(]\\d{4}[）)]\\s*.*?号\" ​ # 查找匹配项 matches = json_df['s23'].apply(lambda x: re.findall(pattern, x) if isinstance(x, str) else []) ​ # 打印前3行匹配结果以检查 print(matches.head(3)) print(matches) ​ # 将匹配结果转换为DataFrame matches_df = pd.DataFrame({'s23': matches}) ​ # 打印前10行匹配结果DataFrame以检查 print(matches_df.head(10)) ​ # 选择要保留的数据列 selected_data_columns = [] selected_json_df_columns = [] ​ # 合并原始数据、解析后的JSON数据以及匹配结果 combined_df = pd.concat([data[selected_data_columns], json_df[selected_json_df_columns], matches_df], axis=1) ​ # 清洗文本函数 def clean_text(text): if isinstance(text, list): text = ', '.join(text) if isinstance(text, str): if text == \"[]\": return '' cleaned_text = text.replace('[', '').replace(']', '').strip() return cleaned_text return '' ​ # 分割并重命名函数 def split_and_rename(content): content = clean_text(content) split_content = content.split(', ') result = {f'm{i+1}': split_content[i].strip() for i in range(len(split_content)) if split_content[i].strip()} return result ​ # 展开匹配结果 expanded_df = combined_df['s23'].apply(split_and_rename).apply(pd.Series) ​ # 提取年份函数 def extract_year(text): match = re.search(r'[（(](\\d{4})[）)]', text) return int(match.group(1)) if match else float('inf') ​ # 清洗并排序函数 def clean_and_sort(row): filtered = [item for item in row if isinstance(item, str) and not any(keyword in item for keyword in exclusions)] unique_items = list(OrderedDict.fromkeys(filtered)) sorted_items = sorted(unique_items, key=lambda x: extract_year(x)) return sorted_items ​ # 排除关键词列表 exclusions = ['X', 'x', 'Ｘ', '执', '不动产', '-', '第'] ​ # 获取所有m开头的列名 m_columns = [col for col in expanded_df.columns if col.startswith('m')] ​ # 处理每一行 def process_row(row): row_values = [row[col] for col in m_columns] flattened = [item for sublist in row_values for item in (sublist if isinstance(sublist, list) else [sublist])] sorted_items = clean_and_sort(flattened) return sorted_items ​ sorted_results = expanded_df.apply(process_row, axis=1) ​ # 计算最大长度，并创建新的排序后的DataFrame max_length = max(sorted_results.apply(len)) sorted_df = pd.DataFrame(sorted_results.tolist(), columns=[f'm_sorted_{i+1}' for i in range(max_length)]) ​ # 再次合并数据 combined_df2 = pd.concat([combined_df, sorted_df], axis=1) ​ # 过滤条件 if 'm_sorted_5' in combined_df2.columns: combined_df2_cleaned = combined_df2[combined_df2['m_sorted_5'].isna() | (combined_df2['m_sorted_5'] == '')] else: combined_df2_cleaned = combined_df2.copy() ​ # 打印清理后的前10行数据以检查 print(combined_df2_cleaned.head(10)) ​ # 获取所有m_sorted开头的列名 m_sorted_columns = [col for col in combined_df2_cleaned.columns if col.startswith('m_sorted_')] ​ # 要删除的列名 columns_to_drop = [col for col in m_sorted_columns if int(col.split('_')[2]) \u003e= 5] ​ # 删除不需要的列 combined_df2_cleaned = combined_df2_cleaned.drop(columns=columns_to_drop, errors='ignore') ​ # 打印最终前几行数据以检查 print(combined_df2_cleaned.head()) ​ # 保存到文件 combined_df2_cleaned.to_csv(output_file_path, sep='\\t', inde","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:4:3","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"Python 例子 ：提取法条和移动文件夹 法条数量可以衡量案件复杂度，法条本身也衡量了案件类型。 Txt 文档的 s 47 系列对应着文书的法条，里面是第二层 json 格式： for clause in data: fgmc = clause.get('fgmc', '') tkx = clause.get('tkx', '') match = re.search(r'(第.*?条)', tkx) ['s23', 's25', 's26', 's27'] 的中文字符加总就是裁判文书的正文字数。 “s7”: “案件号”,“s23”: “诉讼记录”,“s24”: “诉控辩”,“s25”: “事实”,“s26”: “理由”,“s27”: “判决结果”。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:5:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"多个 txt import pandas as pd import json import re import os import glob import logging ​ # 配置日志记录 logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s') ​ # 明确指定输入文件夹和输出文件夹的路径 input_folder_path = \"C:/Users/PC/Desktop/hzp_project/二审和一审/数据/\" output_folder_path = \"C:/Users/PC/Desktop/hzp_project/二审和一审/清洗结果/\" log_folder_path = \"C:/Users/PC/Desktop/hzp_project/二审和一审/日志/\" ​ # 确保输出文件夹和日志文件夹存在 os.makedirs(output_folder_path, exist_ok=True) os.makedirs(log_folder_path, exist_ok=True) ​ # 解析 JSON 数据 def parse_json(json_str): try: if isinstance(json_str, str): return json.loads(json_str) elif isinstance(json_str, list): return json_str else: logging.warning(f\"未知数据类型: {type(json_str)}\") return None except json.JSONDecodeError: logging.warning(f\"JSON 解析失败: {json_str}\") return None ​ # 计算中文字符数 def count_chinese_chars(text): if pd.isnull(text): return 0 return len(re.findall(r'[\\u4e00-\\u9fff\\u0030-\\u0039\\u3000-\\u303f\\uff00-\\uffef]', str(text))) ​ # 提取和格式化条款 def extract_clauses(s47_data): formatted_clauses = [] for item in s47_data.dropna(): data = parse_json(item) if data is not None: clauses = set() # 使用集合去重 for clause in data: fgmc = clause.get('fgmc', '') tkx = clause.get('tkx', '') match = re.search(r'(第.*?条)', tkx) if match: clauses.add(f\"{fgmc}{match.group(1)}\") formatted_clauses.append(list(clauses)) # 保存每行提取的条款 else: formatted_clauses.append([]) # 如果解析失败，则添加空列表 return formatted_clauses ​ # 处理单个文件 def process_file(input_file, output_folder, log_folder, total_rows): # 初始化一个空的列表来存储错误信息 error_logs = [] def bad_line_handler(bad_line): error_logs.append((input_file, bad_line.line_num, bad_line.line)) # 读取数据 try: data = pd.read_csv(input_file, delimiter='\\t', on_bad_lines=bad_line_handler, engine='python') logging.info(f\"Read {len(data)} rows from file: {input_file}\") except Exception as e: logging.error(f\"Error reading file: {input_file}\") logging.error(f\"Error message: {e}\") return # 过滤掉 CourtInfo 列以 \"DocInfoVo\" 开头或无法解析为 JSON 的行 data = data[data['CourtInfo'].apply(lambda x: x.startswith('{\"s1\":') if pd.notnull(x) else False)] data = data[data['CourtInfo'].apply(lambda x: isinstance(parse_json(x), dict))] ​ logging.info(f\"Filtered out invalid rows from file: {input_file}\") # 提取 JSON 数据 json_data = data['CourtInfo'] # 应用解析函数 parsed_prac_c = json_data.apply(parse_json) logging.info(f\"Parsed JSON data from file: {input_file}\") # 将 JSON 字典转换为 DataFrame，并处理缺失值 json_df = pd.json_normalize(parsed_prac_c.dropna(how='all')) logging.info(f\"Normalized JSON data from file: {input_file}\") # 选取特定列 selected_columns = json_df[['s7', 's23', 's25', 's26', 's27', 's47']].copy() # 使用 .copy() 创建副本 # 计算 s26 列中“条”字的出现次数 selected_columns['count_tiao'] = selected_columns['s26'].apply(lambda x: x.count('条') if pd.notnull(x) else 0) logging.info(f\"Calculated 'count_tiao' from file: {input_file}\") # 计算 s23, s25, s26, s27 列的总字数 selected_columns['total_chars'] = selected_columns[['s23', 's25', 's26', 's27']].apply( lambda row: sum(count_chinese_chars(x) for x in row), axis=1 ) logging.info(f\"Calculated 'total_chars' from file: {input_file}\") # 提取和格式化条款 unique_clauses = extract_clauses(selected_columns['s47']) selected_columns['unique_clauses'] = unique_clauses # 使用 .loc 进行安全赋值 selected_columns['clause_count'] = [len(clauses) for clauses in unique_clauses] # 每行的条款数量 logging.info(f\"Extracted and formatted clauses from file: {input_file}\") # 生成输出文件名 base_name = os.path.basename(input_file) output_file = os.path.join(output_folder, f\"cleaned_{base_name}\") # 将结果保存为 txt 文件 selected_columns[['s7', 'count_tiao', 'total_chars', 'unique_clauses', 'clause_count']].to_csv(output_file, sep='\\t', index=False, quoting=1, quotechar='\"') logging.info(f\"Processed and saved to: {output_file}\") # 汇报进度 processed_rows = len(data) logging.info(f\"已完成处理文件: {base_name}, 条目数: {processed_rows}/{total_rows}\") ​ # 保存错误日志 if error_logs: log_file = os.path.join(log_folder, f\"error_log_{base_name}.txt\") with open(log_file, 'w', encoding='utf-8') as f: for log in err","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:5:1","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"移动 txt 因为代码循环非常容易被打断，我建议设置三个文件夹： 原始文件夹存放原始数据， 结果文件夹存放处理完成的数据，统一改为 cleaned_* 的 txt 名字， 清洗完成的文件夹：把清洗完成的原始数据放到这里，便于循环打断后继续开始， 因此本代码的逻辑就是对照清洗完成的文件夹和原始文件夹，将名字有对应的 txt 文档进行移动。 import os import shutil ​ # 定义文件夹路径 source_folder = r'F:/桌面/测试/清洗结果' data_folder = r'F:/桌面/测试/数据' cleaned_folder = r'F:/桌面/测试/完成提取' ​ # 获取源文件夹中的所有.txt文件名（不含路径），并去除前缀 \"cleaned_\"，同时去除所有多余空格并转换为小写 def standardize_filename(filename): return ''.join(filename.split()).lower() ​ # 获取源文件夹中的文件名 source_files = [f for f in os.listdir(source_folder) if f.startswith('cleaned_') and f.endswith('.txt')] standardized_source_files = {standardize_filename(f[8:]): f for f in source_files} ​ # 获取数据文件夹中的文件名 data_files = [f for f in os.listdir(data_folder) if f.endswith('.txt')] standardized_data_files = set(standardize_filename(f) for f in data_files) ​ # 找出数据文件夹中与源文件夹中相同的文件 common_files = standardized_source_files.keys() \u0026 standardized_data_files ​ # 移动相同的文件到清洗完成文件夹 for filename in common_files: original_filename = standardized_source_files[filename] source_path = os.path.join(data_folder, original_filename.replace('cleaned_', '')) destination_path = os.path.join(cleaned_folder, original_filename.replace('cleaned_', '')) # 确保目标文件夹存在 os.makedirs(os.path.dirname(destination_path), exist_ok=True) shutil.move(source_path, destination_path) print(f\"Moved: {source_path} -\u003e {destination_path}\") ​ print(\"Process completed.\") ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:5:2","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"例子 ： 裁判文书索引重新排序 初审案号最早的排在前（m_sorted_1） 终审案号最晚的排在后（m_sorted_3） 再审案件按照“终审前最早、终审后最晚”安排（m_sorted_2, m_sorted_4） 其余案号按时间顺序补充空位（m_sorted_5） import pandas as pd from datetime import datetime def parse_date(year_str, month_str): \"\"\"将年份、月份字符串转换为日期对象，若转换失败返回 None\"\"\" try: year = int(year_str) month = int(month_str) if month_str and month_str.strip() != \"\" else 1 return datetime(year, month, 1) except Exception: return None def reorder_row(row): # 要一起移动的额外字段列表（除了 m_sorted_i 之外的其它关联变量） extra_fields = ['court', 'court_name', 'jud_year', 'jud_month', 'win', 'judge_am', 'judge_fin'] entries = [] # 遍历原有 5 组数据，构造每组条目（只有当 m*_judge_am 和 m*_jud_year 均有值时认为该组有效） for i in range(1, 6): judge_am = row.get(f\"m{i}_judge_am\") jud_year = row.get(f\"m{i}_jud_year\") if pd.isna(judge_am) or pd.isna(jud_year) or judge_am == \"\" or jud_year == \"\": continue case_str = row.get(f\"m_sorted_{i}\") if not case_str or pd.isna(case_str): continue jud_month = row.get(f\"m{i}_jud_month\") dt = parse_date(jud_year, jud_month) # 判断案号类型 if \"初\" in case_str: typ = \"chu\" elif \"终\" in case_str: typ = \"zhong\" elif \"再\" in case_str: typ = \"zai\" else: typ = \"other\" # 收集其它相关字段 fields_data = {} for field in extra_fields: col_name = f\"m{i}_{field}\" fields_data[field] = row.get(col_name, \"\") entry = { \"orig_index\": i, # 原来的组号 \"case\": case_str, # 案号字符串 \"date\": dt, # 转换后的日期（可能为 None） \"type\": typ, # 案号类型：chu / zhong / zai / other \"fields\": fields_data } entries.append(entry) # 若没有有效条目，则返回所有新组为空 if not entries: return pd.Series({f\"m_sorted_{i}\": \"\" for i in range(1, 6)}) # 定位“初”：从所有包含“初”的条目中取日期最早的 chu_entries = [e for e in entries if e[\"type\"] == \"chu\" and e[\"date\"] is not None] initial_entry = min(chu_entries, key=lambda e: e[\"date\"]) if chu_entries else None # 定位“终”：从所有包含“终”的条目中取日期最大的 zhong_entries = [e for e in entries if e[\"type\"] == \"zhong\" and e[\"date\"] is not None] terminal_entry = max(zhong_entries, key=lambda e: e[\"date\"]) if zhong_entries else None # 获取所有“再”的条目 zai_entries = [e for e in entries if e[\"type\"] == \"zai\" and e[\"date\"] is not None] # 初始化新排序位置字典，表示最终放置在 m_sorted_1～m_sorted_5 中的条目 new_positions = {1: None, 2: None, 3: None, 4: None, 5: None} # m_sorted_1 始终放“初”案 if initial_entry: new_positions[1] = initial_entry if terminal_entry: # 如果存在终案，则 m_sorted_3 固定放终案 new_positions[3] = terminal_entry # 分组：终案之前的“再” re_before = [e for e in zai_entries if e[\"date\"] \u003c terminal_entry[\"date\"]] # 分组：终案之后的“再” re_after = [e for e in zai_entries if e[\"date\"] \u003e terminal_entry[\"date\"]] # 日期早于终案的“再”中取最早的放入 m_sorted_2 if re_before: new_positions[2] = min(re_before, key=lambda e: e[\"date\"]) # 日期晚于终案的“再”中取最晚的放入 m_sorted_4 if re_after: new_positions[4] = max(re_after, key=lambda e: e[\"date\"]) else: # 如果不存在终案，即只有“初”与“再” zai_sorted = sorted(zai_entries, key=lambda e: e[\"date\"]) if len(zai_sorted) == 1: new_positions[2] = zai_sorted[0] elif len(zai_sorted) \u003e= 2: # 最早的放入 m_sorted_2，最晚的放入 m_sorted_4 new_positions[2] = zai_sorted[0] new_positions[4] = zai_sorted[-1] # 将剩余未分配的条目（包括类型为 other 或未被选中的其他）按日期排序后填入剩余空位（例如 m_sorted_5） assigned_indices = {e[\"orig_index\"] for e in new_positions.values() if e is not None} remaining = [e for e in entries if e[\"orig_index\"] not in assigned_indices] remaining_sorted = sorted(remaining, key=lambda e: e[\"date\"] if e[\"date\"] is not None else datetime.max) for pos in [2, 5]: if new_positions[pos] is None and remaining_sorted: new_positions[pos] = remaining_sorted.pop(0) # 构造返回的 Series：按新的组号 1～5 写入 m_sorted_i 与对应的关联字段 result = {} for new_group in range(1, 6): if new_positions[new_group]: entry = new_positions[new_group] result[f\"m_sorted_{new_group}\"] = entry[\"case\"] for field in extra_fields: result[f\"m{new_group}_{field}\"] = entry[\"fields\"].get(field, \"\") else: result[f\"m_sorted_{new_group}\"] = \"\" for field in extra_fields: result[f\"m{new_group}_{field}\"] = \"\" return pd.Series(result) # 读取数据（注意路径中使用原始字符串防止反斜杠转义问题） df = pd.read_csv(r\"C:\\Users\\PC\\Desktop\\案号排序.txt\", sep=\",\", dtype=str) # 对每一行调用 reorder_row，得到重新排序后的 m* 系列数据 df_new = df.apply(reorder_row, axis=1) # 将重新排序后的变量更新回原 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:6:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"dta 数据的匹配 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"关于案号 裁判文书的案号分为裁定文书、判决文书、其他文书（监督、执行、保证….） 裁定文书是审判程序上的问题，例如这个问题不该xx法院管，移交到xx法院去。 判决文书是实体问题，也就是判决的最终结果。 注意！判决文书和裁判文书是可能共享一个案号的！ 同时在这里分享一些个人看到的奇葩裁判文书案号，有一些奇怪的符号可能是别人用过了然后再加符号作为区分。 2018（）皖02民终1098号 2016湘06民终2392号 （（2017）豫0481民再10号 一（2017）粤0605民初10499号 (2015)芙民初字第7479、7601号 （2015）芙民初字第7478.7603号 （2019）粤0305民初1382号-1429号 （2019）鲁1724民初195号- 018） 苏0509民初6820号 ｌｏｚ2016ｌｏｚ赣1030民初220号 一亿二千三百四十五万（2016）粤0605民初14359号 （2018）土地承包经营权转让浙0523民初2386号 2016闽0525民初3798号2016闽0525民初3798号 （空一行行距15磅）（2014）滨港民初字第307号 由于中英文括号的问题，建议可以去除括号，但是不建议采用只保留中文和数字的筛选方式，很多时候短横线神秘字符也有标识作用。 个人匹配的筛选如下： sort case_wid drop if case_wid ==\"\" foreach var of varlist case_wid { * 去除空格变量、括号、其他符号 replace `var' = ustrregexra(`var',\"[^\\p{L}\\p{N}]\", \"\") } sort case_wid gen case_length = strlen(case_wid) summarize case_length drop if case_length \u003e 66 drop case_length ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:1","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"标识的去重 Txt 提取完成后，就是转化为 .dta 匹配到 ans*.dta 中。 案号是理论上的唯一标识，但实际上可能出现重复的情况。 这时候建议使用以下逻辑，先历遍所有变量，生成非空数值总数，去重，在案号的重复行间保留非空数值最多的一行： * 标记重复的 case_wid，并计算每组的数量 bysort case_wid: gen dup_count = _N replace dup_count = . if _n \u003e 1 // 可选：只保留第一次出现的计数 * 创建一个包含所有要检查的变量的局部宏 local varlist var1 var2 * 使用循环创建标志变量 foreach var of local varlist { gen flag_`var' = cond(missing(`var'), 0, 1) } * 计算每行中非空值的数量 egen non_missing = rowtotal(flag*) * 对每个 case_wid 按非空变量数量降序排序，并标记保留的观测值 bysort case_wid (non_missing): gen keep = (_n == _N) * 清理临时变量 capture drop flag* * 删除重复值，保留非空变量最多的行 drop if !keep * 清理辅助变量 drop dup_count non_missing keep * 保存处理后的文件，覆盖原有文件 save \"`input_file'\", replace } ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:2","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"索引值的去重 * 对第二个变量，若与第一个变量相同则清空 replace m_sorted_2 = \"\" if m_sorted_2 == m_sorted_1 * 对第三个变量，若与前面任一变量相同则清空 replace m_sorted_3 = \"\" if m_sorted_3 == m_sorted_2 | m_sorted_3 == m_sorted_1 * 对第四个变量，若与前面任一变量相同则清空 replace m_sorted_4 = \"\" if m_sorted_4 == m_sorted_3 | m_sorted_4 == m_sorted_2 | m_sorted_4 == m_sorted_1 * 对第五个变量，若与前面任一变量相同则清空 replace m_sorted_5 = \"\" if m_sorted_5 == m_sorted_4 | m_sorted_5 == m_sorted_3 | m_sorted_5 == m_sorted_2 | m_sorted_5 == m_sorted_1 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:3","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"文本匹配标识的格式转化 ans*.dta 系列的文本格式都是 strL，含义为长字符串。Stata 的字符串匹配只能选择有具体长度的字符串格式，我们可以通过字符截取来改变变量格式。 🔊 重要：注意，英文字符的占位符和中文字符的占位符是不同的。 例如“民初 730 号”，虽然只是六个字符，但可能实际上占了 15 个位置。 如果我们只截取 6 个长度，变量就会变成乱码。 个人观察到的案号占位符最长大概是 39 个位置，个人为了稳健直接选择的截取 88 个字符符号。 这也意味着： 我们需要在清理掉文本中的奇怪符号以后再转化。 例如有些法院名字是\"广西壮族自治区柳州市鱼峰区人民法院\" # 截取字符 gen judge_fin2 = substr(judge_fin, 1, 45) gen court_name2 = substr(court_name, 1, 88) drop judge_fin court_name rename judge_fin2 judge_fin rename court_name2 court_name # 大于特定字符数量，例如66，的案号清洗为空值 foreach var of varlist s7 m_sorted_1 m_sorted_2 m_sorted_3 m_sorted_4 { gen case_length = strlen(`var') summarize case_length replace `var' = \"\" if case_length \u003e 66 drop case_length } ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:4","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"匹配命令的选择 多（基础表格）对一时：merge 命令直接使用。 一（基础表格）対多时：例如 txt 有一些重复记录，但是不同行的空缺值不同。我们可以使用 merge 的追加匹配 update nogen force，只在这一行有空缺时，将空缺值的变量匹配上去；非空缺的部分则不更改。 clear forvalues j = 1/83 { use \"D:\\数据合集\\原始数据\\ans`j'.dta\", clear merge 1:m case_wid_str using \"C:\\Users\\PC\\Desktop\\hzp_project_re\\一审二审数据匹配\\排序\\面板数据\\all.dta\", update nogen force drop if case_wid == \"\" duplicates drop case_wid_str , force save \"C:\\Users\\PC\\Desktop\\hzp_project_re\\一审二审数据匹配\\排序\\面板数据\\ans`j'.dta\", replace } 多对多（基础表格）匹配时：此时使用 merge 不再合适，推荐 joinby 详细可参考 Stata命令：joinby VS merge m:m常见问题 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:5","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"循环匹配命令 当我们写循环匹配命令时，数字可能是间断点，例如 data 1、data 3、data 5、data 7… 可以选择使用 python 直接更改文件名字按顺序排序，但容易破坏命名含义。 这里提供个人写的 stata 自然数循环命令： 当然，其实可以通过扫描文件夹下面的文件名识别所有文件，然后循环，但是如果是存在一些文件需要手动排除可以参考下这个代码。 * 定义排除列表 global exclude_list 22 50 54 58 105 ​ * 初始化 valid_files 变量 global valid_files ​ * 循环遍历文件编号范围，并检查是否在排除列表中 forvalues i = 1/119 { local is_excluded 0 foreach excl in $exclude_list { if `i' == `excl' { local is_excluded 1 break } } if !`is_excluded' { global valid_files $valid_files `i' } } ​ * 显示有效的文件编号 display \"Valid file numbers: $valid_files\" ​ ​ * 循环处理有效的文件编号 foreach i of global valid_files { *写入自己的循环匹配代码 } 但是如果遇到的完全乱码名字的文件怎么办？在文件名没有空格或者特殊符号的情况下，可以读取文件名存入 local 再加入循环。这个也是更加泛用的代码。 例如以下乱码： 如图\r我们可以利用 stata 的 fs 包读取所有名字 然后使用 local 直接储存名字进行循环 循环过程中可以嵌套一层循环，使得新文件按照顺序命名 * ============================== * 配置路径 * ============================== local path \"F:\\数据合集\\刑事案件\" local outpath \"F:\\数据合集\\刑事案件简洁\" cd \"`path'\" fs \"*.csv\", all * ============================== * 手动生成 CSV 文件列表到 local * ============================== local files \" 080hfjsviunvohos.csv 749baig9gvbblcn.csv 97sytdv97goushd.csv 08cdhas0hvihikd.csv 7839yhcudaboce.csv 98ya08chiahnicn.csv 0s87d0hvcinowbv.csv 788tgd9cayh0c-9.csv 9a7gtdc97g08a0a.csv 1368bcohucg970.csv 797fshonlsnlfu98.csv 9f79sghuvjksbklk.csv 236797rbvlsbvoo.csv 79d7goadbco9hki.csv 9s7fhosivnlsnlnffr.csv 2489ndsujbovbo.csv 79s7dhnofnvlbns.csv a97dyc8udv8+hds9.csv 28638bvbsa7f93.csv 80sdhv08uisnvoh.csv i7sdhvu9hbosdv8.csv 2937hvoushcv8h.csv 89hdoshvoinsnnlj.csv oa7gc7agbkd78ad.csv 4689578yhkjsbd.csv 89s0fjisn7vgiskub.csv oc8ahhc89ha98g.csv 4790r8hvobosh7.csv 8y08h0chaicnil8o.csv os8dvyh089shdvi.csv 4792794bvoshc8.csv 94573hvsoidhv9y.csv s8oyvf08s09vu08.csv 479hu5nnv89007.csv 9473hgnvov9h7s.csv u8ca0hc80ha00a.csv 4927bvogf92h011.csv 97atcg97ga0hc08.csv ughdso8h98989.csv 739g4foh8hv991.csv 97sgvc98dshv08.csv \" * ============================== * 循环处理每个文件 * ============================== * 初始化计数器 local i = 1 * 循环处理每个文件 foreach f of local files { di \"Processing file `i': `f'\" * 导入 CSV import delimited \"`f'\", clear varnames(1) encoding(utf8) * 数据清洗 * 处理部分 * 保存为数字顺序的 DTA 文件 save \"`outpath'/`i'.dta\", replace * 计数器 +1 local ++i } ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:6","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"匹配速度的优化 正常匹配，应该是将 119 个 txt 转化的 dta 匹配，嵌套循环匹配到 ans 1-ans 83 上去。 如果直接嵌套循环匹配，可能需要 4 到 5 天。 匹配耗时过长的原因在于每一次嵌套循环的文件读取时间太长了，而且不同文件之间有重复值。 建议先将 119 个 dta 文件使用 append 命令纵向匹配到一起，然后循环匹配到 ans 1 到 ans 83 上去，这样最多只需要 2 天即可完成全部匹配。 ​ 💬 备注：办公室电脑是 stata MP 版本，这个版本的特性是“计算速度根据电脑的核来分配资源”。目前 cpu 有足足 16 核，个人处理过的最大量峰值是 60 g。基本没有问题，只需要耐心等待处理过程中的卡顿。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:7:7","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"dta 数据的清洗 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:8:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"常用文本处理函数 去除空格 例如裁判长（法官）变量，会出现以下情况 四川 大学， 四川大学，四 川 大 学。 不同网站的空格符号并不相同，建议使用以下函数： * 移除所有特殊字符，包括不可见字符、空白和标点符号 replace judge_fin = ustrregexra(法官名字变量, \"[^\\p{L}\\p{N}]+\", \"\") 筛选特定字符 如果变量中含有特定字符则保留 keep if strpos(var, \"民初\") \u003e 0 如果有两个变量，例如一个是规范的省份变量 a（四川省，内蒙古自治区），另外一个是不规范的省变量 b（四川，内蒙古）。如果要判断 a 变量是否包含了 b 变量，则可以使用： gen localed = strpos(a, b) \u003e 0 去除特殊字符 Ans 1 到 ans 83 的文本变量夹杂着各种非中文符号，可以使用以下函数去除： 以下是个人筛选出的乱码符号。 💬 备注：为什么要坚持排除法，而不选择只保留中文字符？ 因为个人尝试时，发现部分中文变量会因此变成乱码。 # 定义需要移除的符号列表（包括空格） local symbols \"ⅩⅩⅩ Ｘ ? ; ；， 《 》 ． ＋ （ ） ( ) \u0026 # 1 2 3 4 5 6 7 8 9 0 \u0026 A-Z a-z ；？ ＊ ︰ ++ . XX XXX ______ ` - + BRR H imestimes jzwjzwnjzwnjzwjzwnjzwnjzwnjzwjzwjzwjzwnjzwnjzwnjzwjzwnjzwnj jzwnjzwjzwjzwnjzwnjzwnjzwnjzwnjzwjzwjzwjzwnjzwjzwnjzwjzwj spemsp sp emsp ；； * XX XXX Ｘ ＸＸＸ\" ​ * 遍历符号列表并移除每个符号及空格 foreach s of local symbols { replace judge_fin = subinstr(judge_fin, \"`s'\", \"\", .) } 论文标签 有些时候，stata 数据只有变量名，同时另外有一个 excel 表格储存 label 值。 如何读取 excel 然后自动批量生成 labal vars name 呢？ * 导入 Excel 对照表 clear import excel \"基本情况代码对照表.xlsx\", /// sheet(\"支出1编码对照\") rename B varname rename A varlabel * 生成命令（注意 compound quotes） gen cmd = \"label variable \" + varname + \" `\" + `\"\"\"' + varlabel + `\"\"\"' + \"'\" outsheet cmd using \"变量标签命令.txt\", noquote replace 这样就会生成一个文件，储存所有 stata 对应的标签化命令。 一切代码在自动化和透明度都有个取舍，个人比较偏好这种有中间产物的流程，便于检查和修正。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:8:1","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"正则表达式提取 字符筛选 以裁判长文本变量为例子， 明明变量应该是一个名字，结果出现了一个段落 张三人民委托、张三于 2014 年进行审判、张三人民审判员进行裁决、张三代理裁判长进行庭审、张三李四熟记员进行开庭…… 再举例子——法院变量\r换而言之，正确的文本字符应该是特定词汇的前面几个字。 先使用字符长度筛选例子，查看文本格式： *列出字符长度大于14的变量行 list var if ustrlen(judge_fin) \u003e= 14 然后根据情况只保留特定字符。 ⛔ 警告：注意顺序！ 例如有以下组合 张三于 2014 年进行庭审 张三代理审判长于 2014 年进行庭审 在该变量包含\"庭审\"两个字时，我们应该先都保留“于”以前的字符，再保留\"代理\"以前的字符。 条件筛选最好找两个字的特征词，这样叫“于庭审”的法官名字几乎不可能出现。 个人使用的顺序，仅供参考： replace judge_fin = ustrregexra(judge_fin, \"人民陪审员.*\", \"\") if strpos(judge_fin, \"人民陪审员\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"审判员.*\", \"\") if strpos(judge_fin, \"审判员\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"独任.*\", \"\") if strpos(judge_fin, \"独任\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"陪审员.*\", \"\") if strpos(judge_fin, \"陪审员\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"代理.*\", \"\") if strpos(judge_fin, \"代理\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"书记员.*\", \"\") if strpos(judge_fin, \"书记员\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"助理.*\", \"\") if strpos(judge_fin, \"助理\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"审判长.*\", \"\") if strpos(judge_fin, \"审判长\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"人民.*\", \"\") if strpos(judge_fin, \"人民\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"二.*\", \"\") if strpos(judge_fin, \"年\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"适用.*\", \"\") if strpos(judge_fin, \"适用\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"于.*\", \"\") if strpos(judge_fin, \"开庭\") \u003e 0 replace judge_fin = ustrregexra(judge_fin, \"对.*\", \"\") if strpos(judge_fin, \"审理\") \u003e 0 由于爬虫有时候遇上网站加密，爬虫结果是 陈*,，完成以上清洗后只剩下 陈，删除单个字符行的函数命令是： *删除只有一个字的，例如本来是*陈 drop if ustrregexm(judge_fin, \"^[\\p{Han}]$\") 数字提取 例如数据显示 2.34435元（需要是字符串变量），我们只想单独提取数字，可以使用以下代码。 gen num_var = . replace num_var = real(regexs(1)) if regexm(str_var, \"([0-9]+\\.[0-9]+|[0-9]+)\") 顺便一提，如果没有 real(regexs(1)) 这个参数则表示判断，只会返回 0 和 1，代表不符合或者符合格式。 replace num_var = regexm(str_var, \"([0-9]+\\.[0-9]+|[0-9]+)\") ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:8:2","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"dta 时间修正 在师门的招投标中，很多时间格式是混乱的。 例如标准的两种： 2019-12-31 09:00:00、 2019/12/30 09:30 但是也会出现 20220516 09:30:00、2022051609:30:00、2022051609:30 例如缺少秒、月份位置写成 4 而不是 04。 如图\r下面的代码集中处理了这套时间编码。 一些中文符号转英文的预处理。 在日期和时间之间没有空格时（例如 2022051609:30:00），如果范围在对应年月内（比如 0-31）则优先取两位数，超过范围了则取前面的个位数。 最后兼容各种格式的时间提取。 /*----------------------------------------- 日期提取转换方案（紧凑格式增强版） 版本：2.6 最后更新：2024-06-27 -----------------------------------------*/ version 17 clear all set more off use \"F:\\桌面\\test.dta\", clear keep time *=============================== * 预处理阶段（增强） *=============================== // 基础清理 replace time = ustrtrim(time) replace time = subinstr(time, char(92), \"-\", .) replace time = subinstr(time, \"：\", \":\", .) replace time = subinstr(time, \" \", \"\", .) *=============================== * 新增紧凑格式识别模块 *=============================== // 识别YYYYMMDD-格式（核心改进） gen str8 compact_date = \"\" replace compact_date = substr(time, 1, 8) /// if ustrregexm(time, \"^\\d{8}-\") // 严格匹配8位数字+连字符格式 // 分离紧凑格式数据 preserve keep if compact_date != \"\" gen date_stata = date(compact_date, \"YMD\") format date_stata %tdCCYY-NN-DD tempfile compact save `compact' restore // 处理非紧凑格式数据 keep if compact_date == \"\" drop compact_date *=============================== * 原有处理流程（优化） *=============================== // 统一分隔符处理 foreach s in \".\" \"_\" \"/\" { replace time = subinstr(time, \"`s'\", \"-\", .) } // 日期部分提取 gen str50 date_part = ustrregexs(1) if ustrregexm(time, \"(\\d{4}-\\d{1,2}-\\d{2,})[^\\d]\") replace date_part = time if missing(date_part) // 智能日期处理 gen str4 year = ustrregexs(1) if ustrregexm(date_part, \"^(\\d{4})-\\d+\") gen str2 month = ustrregexs(1) if ustrregexm(date_part, \"-(\\d{1,2})-\") gen str5 raw_day = ustrregexs(1) if ustrregexm(date_part, \"-(\\d+)$\") replace month = cond(strlen(month) == 1, \"0\" + month, month) replace month = \"12\" if real(month) \u003e 12 gen str2 day = substr(raw_day,1,2) replace day = substr(day,1,1) if real(day) \u003e 31 replace day = \"31\" if real(day) \u003e 31 replace day = \"0\" + day if real(day) \u003c 10 \u0026 strlen(day) == 1 replace date_part = year + \"-\" + month + \"-\" + day drop year month raw_day day gen date_stata = date(date_part, \"YMD\") replace date_stata = date(ustrregexra(time, \"[^0-9]\", \"\"), \"YMD\") if missing(date_stata) *=============================== * 合并处理结果 *=============================== append using `compact' *=============================== * 后处理与验证 *=============================== format date_stata %tdCCYY-NN-DD ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:9:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"提醒 建议先将 stata 数据导出为 csv 格式。 最大的问题是乱码。 如图\rcsv 乱码了。因为提取的 txt 不是 utf 8 格式。 😨 注意：一定要保证CSV 文件默认格式刷 UTF-8 ，然后进行处理。 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:9:1","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"Python 例子 ： 提取上诉法官过去和现在的特征均值 例子 3 是逐行匹配，但是这样处理实在是太慢了。 现在我想要这样处理： 提取法官经历上诉前的 20 个案子，然后求罚款均值；同时提取法官经历上诉后的 20 个案子，然后求罚款的均值。 个人设计的算法逻辑如下： 按照法院-法官的组合对数据进行分组。 每个数据都有初审到终审的时间，形成时间戳，并且每一行应该识别一系列时间中的最早时间和最晚时间。 当最早时间不等于最晚时间时，这条数据就是主干数据。 在每个组别内，只保留满足条件的样本。 在主干数据周围，当在主干数据最早数据之前还有 10 个案子，在主干数据之后也还有 10 个案子，最终只保留这 21 条数据。 如果一个组别同时有多个案子，则都保留满足要求的样本。 给满足周围存在对应数量案子的主干数据生成变量 a，标识为 1。 生成上诉前变量和上诉后变量，求数量对应案子的均值。 分解代码 为了更好地利用 ai，实际上这个算法我是拆成了两步。第一部分是筛选满足要求的所有样本；第二部是在满足要求的主干数据（a=1）处计算前后案件的均值。最周再整合两部分的代码。 我最终多设置了一个参数，关于主干案件周围需要有多少案子才保留。 import pandas as pd from tqdm import tqdm import numpy as np # 参数配置 input_path = r'C:\\Users\\PC\\Desktop\\hzp_project_re\\re_论文开始\\最终面板数据\\去极端值交通民事上诉样本.csv' output_path = r'C:\\Users\\PC\\Desktop\\hzp_project_re\\re_论文开始\\最终面板数据\\去极端值交通民事上诉样本_论文去0_45_民诉样本.csv' before_n = 45 # 保留之前记录的条数 after_n = 45 # 保留之后记录的条数 # 时间字段配置 time_columns = [ 'jud_year', 'jud_month', 'm1_jud_year', 'm1_jud_month', 'm2_jud_year', 'm2_jud_month', 'm3_jud_year', 'm3_jud_month', 'm4_jud_year', 'm4_jud_month', ] def extract_timestamps(row): \"\"\"提取每行的时间戳（最早和最晚时间）\"\"\" timestamps = [] for i in range(0, len(time_columns), 2): year = row[time_columns[i]] month = row[time_columns[i + 1]] if pd.notna(year) and pd.notna(month): try: timestamps.append((int(year), int(month))) except: continue return min(timestamps, default=None), max(timestamps, default=None) def is_main_case(row): \"\"\"判断是否为主干数据\"\"\" conditions = [ (pd.notna(row['m1_judge_am']) \u0026 pd.notna(row['m2_judge_am'])), (pd.notna(row['m1_judge_am']) \u0026 pd.notna(row['m3_judge_am'])), (pd.notna(row['m1_judge_am']) \u0026 pd.notna(row['m4_judge_am'])), (pd.notna(row['m2_judge_am']) \u0026 pd.notna(row['m3_judge_am'])), (pd.notna(row['m2_judge_am']) \u0026 pd.notna(row['m4_judge_am'])), (pd.notna(row['m3_judge_am']) \u0026 pd.notna(row['m4_judge_am'])), ] return any(conditions) def filter_valid_judge(data): \"\"\"过滤有效金额（非0非空）\"\"\" return data[(data['judge_am'] != 0) \u0026 (data['judge_am'].notna())] def calculate_means(group, main_case_idx): \"\"\" 计算主干数据的 judge_sum, bf_judge_sum 和 af_judge_sum（均排除0值和空值） \"\"\" min_time, max_time = extract_timestamps(group.loc[main_case_idx]) if min_time is None or max_time is None: return group # 计算judge_sum judge_data = group[group.index != main_case_idx] valid_judge = filter_valid_judge(judge_data) group.loc[main_case_idx, 'judge_sum'] = valid_judge['judge_am'].mean() if not valid_judge.empty else np.nan # 计算bf_judge_sum bf_cond = ( (group['jud_year'] \u003c min_time[0]) | ((group['jud_year'] == min_time[0]) \u0026 (group['jud_month'] \u003c min_time[1])) ) \u0026 (group.index != main_case_idx) valid_bf = filter_valid_judge(group[bf_cond]) group.loc[main_case_idx, 'bf_judge_sum'] = valid_bf['judge_am'].mean() if not valid_bf.empty else np.nan # 计算af_judge_sum af_cond = ( (group['jud_year'] \u003e max_time[0]) | ((group['jud_year'] == max_time[0]) \u0026 (group['jud_month'] \u003e max_time[1])) ) \u0026 (group.index != main_case_idx) valid_af = filter_valid_judge(group[af_cond]) group.loc[main_case_idx, 'af_judge_sum'] = valid_af['judge_am'].mean() if not valid_af.empty else np.nan return group def process_group(group): \"\"\"处理单个分组并生成特征\"\"\" # 创建新列的 DataFrame new_columns = {} for i in range(1, before_n + 1): new_columns[f'bf_{i}_judge_am'] = np.nan new_columns[f'bf_{i}_count_tiao'] = np.nan new_columns[f'bf_{i}_total_chars'] = np.nan new_columns[f'bf_{i}_clause_count'] = np.nan for j in range(1, after_n + 1): new_columns[f'af_{j}_judge_am'] = np.nan new_columns[f'af_{j}_count_tiao'] = np.nan new_columns[f'af_{j}_total_chars'] = np.nan new_columns[f'af_{j}_clause_count'] = np.nan new_columns.update({ 'a': 0, 'judge_sum': np.nan, 'bf_judge_sum': np.nan, 'af_judge_sum': np.nan }) # 将新列一次性添加到 group 中 new_columns_df = pd.DataFrame(new_columns, index=group.index) group = pd.concat([group, new_columns_df], axis=1) # 筛选主干数据 main_cases = group[group.apply(is_main_case, axis=1)] if main_cases.empty: return group for idx, row in main_cases.iterrows(): min_time, max_time = extract_timestamps(row) if not min_time or not max_time: continue group.loc[idx, 'a'] = 1 group = calcula","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:10:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"一些可以快速得到的裁判文书变量 工作经验：第一次出现的时间和最后一次出现的时间段 共同案件：在样本中一共处理了多少案件 累计案件：这是目前处理的第几起案件。由于样本是以月为单位，累计计数应当是1、1、3、3、5、6…… * 生成唯一行号 id gen id = _n * 确保数据按法院、法官、年份、月份、案件顺序排序 sort court_name judge_fin jud_year jud_month id * 创建案件计数变量（每一行默认计数为 1） gen case_count = 1 * 按法院和法官分组，并对案件计数进行累计 bysort court_name judge_fin (jud_year jud_month): gen cumulative_count = sum(case_count) * 修正为同月累计数相同 bysort court_name judge_fin jud_year jud_month (cumulative_count): replace cumulative_count = cumulative_count[_N] * 转换年份和月份为单一时间点（以月份为单位） gen time = jud_year * 12 + jud_month * 计算首次时间点（每个法官在某法院处理第一个案件的时间） bysort court_name judge_fin (jud_year jud_month): gen first_time = time[1] * 计算工作经验（单位：月份） gen work_experience_months = time - first_time + 1 * 删除不需要的临时变量 drop id case_count time first_time egen combo_count = count(court_name + judge_fin), by(court_name judge_fin) ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:11:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"Python 例子 ：案件积压量 在裁判文书中有两个时间，案件判决时间( jud 开头)和案件立案( acc 开头)时间。 案件积压量是指立案时间早于当前年月，判决年饭晚于当前年份的所有案件。这种涉及跨行变量识别处理的操作就是 stata 的弱点。 import pandas as pd import numpy as np from tqdm import tqdm import time def calculate_backlog(df: pd.DataFrame) -\u003e pd.DataFrame: # 构造时间字段（以月份为单位） df['acc_time'] = df['acc_year'] * 12 + df['acc_month'] df['jud_time'] = df['jud_year'] * 12 + df['jud_month'] # 初始化 backlog 列 df['backlog'] = 0 # 按法院+法官分组处理 grouped = df.groupby(['court_name', 'judge_fin']) print(f\"共有分组数量：{len(grouped)}\") start_time = time.time() # 遍历每组 for (court, judge), group_df in tqdm(grouped, desc=\"Processing court-judge groups\"): idx = group_df.index jud_times = group_df['jud_time'].to_numpy() acc_times = group_df['acc_time'].to_numpy() # 初始化 backlog 结果 backlog_counts = np.zeros(len(group_df), dtype=int) for i in range(len(group_df)): jud_time_i = jud_times[i] # 积压条件：立案时间 \u003c 当前判决时间，且 其他案件的判决时间 \u003e 当前判决时间 backlog_mask = (acc_times \u003c jud_time_i) \u0026 (jud_times \u003e jud_time_i) backlog_counts[i] = backlog_mask.sum() # 更新结果 df.loc[idx, 'backlog'] = backlog_counts elapsed = time.time() - start_time print(f\"\\n处理完成，总耗时：{elapsed:.2f} 秒\") return df def main(input_path, output_path): print(\"读取数据中...\") df = pd.read_csv(input_path, encoding='utf-8', encoding_errors='replace') print(f\"数据读取完成，共有 {len(df)} 条记录。\") df_result = calculate_backlog(df) print(f\"保存结果到：{output_path}\") df_result.to_csv(output_path, index=False, encoding='utf-8-sig') print(\"保存完成。\") if __name__ == \"__main__\": # 请根据你的环境修改输入输出路径 input_path = r'C:\\Users\\PC\\Desktop\\hzp_project_re\\re_论文开始\\案件积压\\案件积压计算.csv' output_path = r'C:\\Users\\PC\\Desktop\\hzp_project_re\\re_论文开始\\案件积压\\论文_案件积压计算.csv' main(input_path, output_path) ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:12:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"Stata 例子 ：法院-年份案件公开率 **********思路************* /* 由于每年案件编号为 民初（2020）**号，**号按照顺序编号。 有可能样本只有1、3、5、7号， 通过极大似然法估计产生的“坦克公式”估计公开率（二战坦克缴获率） 最终计算每年每个法院对应的公开率 考虑去掉公开率低的法院（等同于去掉公开率低的地区） */ **********变量说明************* /* case_num_str：裁判文书案号 court_name：法院名称 jud_year：判决年份 public_rate：公开率 */ **********参考文献************* /* 1公式的提出，还有其他估计公开率的方法 Augmenting serialized bureaucratic data: the case of Chinese courts（2022，工作论文） 2应用例子 Suing the government under weak rule of law: Evidence from administrative litigation reform in China（2023，jpube） */ gen case_num_str = ustrregexs(1) if ustrregexm(case_wid_str, \"民[^0-9]*([0-9]+)\") replace case_num_str = ustrregexra(case_num_str, \"^0+\", \"\") destring case_num_str, gen(case_num) drop case_num_str order case_wid_str case_num bysort court_name jud_year: egen max_case_num = max(case_num) bysort court_name jud_year: gen case_count = _N order max_case_N bysort court_name jud_year: egen max_case_N = max(case_count) gen case_count = max_case_num gen public_rate = max_case_N / (max_case_num * (1 + 1/max_case_N) - 1) sum public_rate keep court_name jud_year public_rate duplicates drop court_name jud_year, force duplicates report court_name jud_year ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:13:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"Python 例子：大型数据的匹配 现在比较流行工商注册数据和其他企业数据库的匹配，几乎就是 5000 万条有效数据起步。 Stata 的 merge 命令在匹配时非常消耗内存，因为其临时副本的原因会轻松在内存损耗上翻倍。因此个人推荐都导出 .csv 文件使用 python 的 duckdb（pandas 匹配只是比 stata merge 略微好一点而已。） 下面这个例子就是 duckdb 的例子，代码作用和 stata 的 merge m:1 效果相同，但更优化内存： import duckdb import os con.execute(\"DROP TABLE IF EXISTS using_tbl\") con.execute(\"DROP TABLE IF EXISTS main_tbl\") con.execute(\"DROP TABLE IF EXISTS merged\") # ===================== # 路径（按你自己实际路径改） # ===================== MAIN_CSV = r\"C:\\Users\\PC\\Desktop\\中国招投标\\论文代码\\回归数据.csv\" USING_CSV = r\"C:\\Users\\PC\\Desktop\\中国招投标\\论文代码\\注册数据.csv\" OUT_CSV = r\"C:\\Users\\PC\\Desktop\\中国招投标\\论文代码\\merged.csv\" DB_FILE = r\"C:\\Users\\PC\\Desktop\\中国招投标\\论文代码\\merge.duckdb\" # ===================== # 连接 DuckDB（落盘，防 OOM） # ===================== con = duckdb.connect(DB_FILE) # （可选）限制内存，更稳 con.execute(\"PRAGMA memory_limit='16GB'\") con.execute(\"PRAGMA threads=8\") print(\"1️⃣ 读取 using 表（1.8 亿）\") con.execute(f\"\"\" CREATE TABLE using_tbl AS SELECT * FROM read_csv_auto( '{USING_CSV}', SAMPLE_SIZE=1000000, parallel=true ) \"\"\") print(\"2️⃣ 读取 main 表（2000 万）\") con.execute(f\"\"\" CREATE TABLE main_tbl AS SELECT * FROM read_csv_auto( '{MAIN_CSV}', SAMPLE_SIZE=500000, parallel=true ) \"\"\") print(\"3️⃣ LEFT JOIN（m:1）\") con.execute(\"\"\" CREATE TABLE merged AS SELECT m.*, u.* FROM main_tbl m LEFT JOIN using_tbl u ON m.credit_code = u.credit_code \"\"\") print(\"4️⃣ 导出结果\") con.execute(f\"\"\" COPY merged TO '{OUT_CSV}' (HEADER, DELIMITER ',') \"\"\") con.close() print(\"✅ 完成\") ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:14:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"python 例子 ：案件类型的分类 参考了论文《Women in the Courtroom: Technology and Justice》。裁判文书案件类型太多怎么办？通过LDA模型聚类到50个案件类型。 此处代码是假设你已经有了一个案件面板（.csv） 案件号-案件类型名称。接下来可以通过机器学习分类简化为 50 个案件类型。 应用例子可以参考 LDA 主题模型与 Gephi 可视化 import ast import pandas as pd import jieba import logging from gensim import corpora, models from tqdm.auto import tqdm import warnings import os import re # ------------------------------- # 0. 全局设置 # ------------------------------- # 忽略警告 warnings.filterwarnings(\"ignore\") jieba.setLogLevel(logging.INFO) # 初始化 jieba，避免在进度条中打印日志 jieba.initialize() # ------------------------------- # 用户可配置参数 (User Configurable Parameters) # ------------------------------- # 设置要生成的主题数量。请在此处修改主题数，例如 20, 50, 100 等。 NUM_TOPICS = 50 # 设置用于过滤低频词的最小出现次数。例如，no_below=100 表示只保留出现次数 \u003e= 100 的词汇。 MIN_WORD_COUNT = 100 # LDA 训练的迭代次数 (Passes) NUM_PASSES = 10 # ------------------------------- # 文件路径设置 (文件名为动态生成，包含主题数量) # ------------------------------- input_path = r\"/root/案件类型.csv\" output_path = r\"/root/案件类型_{}类别结果.csv\".format(NUM_TOPICS) topic_words_path = r\"/root/主题{}词汇.csv\".format(NUM_TOPICS) doc_topic_words_path = r\"/root/文档主题词_{}主题.csv\".format(NUM_TOPICS) # 定义常用且低区分度的停用词 # 目标是强制模型关注案件的主体名词（如：买卖、金融、商标、继承） CHINESE_STOPWORDS = { '纠纷', '责任', '案件', '争议', '纠纷案件', '追偿', '纠葛', '诉讼', '法律', '与', '及', '的', '是', '一', '二', '三', '四', '等', '其他', '之', '因', '中', # 新增加的通用法律词汇，这些词汇在各类案件中都可能出现，降低了主题区分度 '权', '损害', '赔偿', '物', '行为', '权利', '民事', '确认' } print(f\"正在读取数据: {input_path} ...\") # ------------------------------- # 1. 读取数据 # ------------------------------- data = pd.read_csv(input_path, dtype=str) data = data.fillna(\"\") # ------------------------------- # 2. 清洗 type 字段 # ------------------------------- def clean_type(x): x = str(x).strip() try: val = ast.literal_eval(x) if isinstance(val, list): return \" \".join(val) except: pass # 移除所有非中文字符，确保只保留中文案由名称 x = re.sub(r'[^\\u4e00-\\u9fa5\\s]', '', x) return x.replace(\"[\", \"\").replace(\"]\", \"\").replace(\"'\", \"\") tqdm.pandas(desc=\"清洗数据\", mininterval=0.5) data[\"type_clean\"] = data[\"type\"].progress_apply(clean_type) # ------------------------------- # 3. 中文分词和停用词过滤 # ------------------------------- print(\"正在进行分词和停用词过滤...\") def cut_words_and_filter(text): # 分词 words = jieba.lcut(text) # 过滤空词和停用词 filtered_words = [w for w in words if w.strip() and w not in CHINESE_STOPWORDS] return filtered_words tqdm.pandas(desc=\"分词处理\", mininterval=0.5) data[\"words\"] = data[\"type_clean\"].progress_apply(cut_words_and_filter) # 过滤空文本 original_len = len(data) data = data[data[\"words\"].map(len) \u003e 0].reset_index(drop=True) print(f\"有效文本数量: {len(data)} / {original_len}\") texts = data[\"words\"].tolist() # ------------------------------- # 4. 构建字典和语料 # ------------------------------- print(\"构建字典和语料...\") dictionary = corpora.Dictionary(texts) # 过滤掉出现次数少于 MIN_WORD_COUNT 次的词汇 dictionary.filter_extremes(no_below=MIN_WORD_COUNT) corpus = [dictionary.doc2bow(t) for t in tqdm(texts, desc=\"生成语料\", mininterval=0.5)] # ------------------------------- # 5. LDA训练 (使用 LdaMulticore 加速) # ------------------------------- num_topics = NUM_TOPICS # 使用用户设置的主题参数 passes = NUM_PASSES # 使用用户设置的迭代次数参数 # 自动设置核心数，使用所有核心 - 1 workers = max(1, os.cpu_count() - 1) print(f\"开始 LDA Multicore 训练 (主题数={num_topics}, 轮数={passes}, 核心数={workers})...\") # 切换到 LdaMulticore，使用多核并行计算 lda = models.LdaMulticore( corpus=corpus, id2word=dictionary, num_topics=num_topics, passes=passes, random_state=42, workers=workers, # 使用多核心并行计算 chunksize=5000 # 增大块大小以优化性能 ) # ------------------------------- # 6. 输出主题高频词 # ------------------------------- topn = 10 topic_words = {} for t in range(num_topics): topic_words[t] = [word for word, _ in lda.show_topic(t, topn=topn)] df_topic_words = pd.DataFrame({ \"topic\": list(topic_words.keys()), \"words\": [\" \".join(wlist) for wlist in topic_words.values()] }) df_topic_words.to_csv(topic_words_path, index=False, encoding=\"utf-8-sig\") print(f\"已输出主题高频词到：{topic_words_path}\") # ------------------------------- # 7. 文本 → 主题映射（保证相同文本同主题，并输出主题词） # ------------------------------- text2topic = {} ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:15:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"Python 例子 ：基于姓名预测性别 由于法官没有公布性别，可以通过姓名预测性别。Python 包调用即可。参考论文《Women in the Courtroom: Technology and Justice》，下面使用的是 ngender 包。 这个包也存在缺陷，使用的是贝叶斯估计训练的参数，因此假设名字字符是独立的。例如王胜男，每个字单独看起来偏男性，但是个典型女性名字，但是基于贝叶斯估计，这个包会将其识别为男性。 如果想要进一步做严谨，个人推荐了解一个 github 仓库预测中文姓名的性别 import pandas as pd import ngender # Load the CSV file df = pd.read_csv('F:\\桌面\\性别预测测试\\测试.csv') # Replace with your actual CSV file name # Function to predict gender def predict_gender(name): try: result = ngender.guess(str(name)) # Returns (gender, probability) return result[0] # Extract gender ('male', 'female', or 'neutral') except: return 'unknown' # Handle invalid names # Add predicted gender column df['预测性别'] = df['name'].apply(predict_gender) # Save the updated CSV df.to_csv('output.csv', index=False, encoding='utf-8-sig') print(\"Gender predictions added to 'output.csv'\") ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:16:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"描述统计 ","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:17:0","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"环状图 import pandas as pd import matplotlib.pyplot as plt from aquarel import load_theme # 加载并应用主题 theme = load_theme(\"boxy_light\") theme.apply() # 设置中文字体 plt.rcParams['font.sans-serif'] = ['STZhongsong'] plt.rcParams['axes.unicode_minus'] = False # 数据处理 types = df['type'].explode().value_counts() top_types = types.head(10) # 颜色配置 colors = ['#FF6347', '#4682B4', '#008000', '#FFA500', '#8B0000', '#FFFF00', '#9400D3', '#FF1493', '#00FA9A', '#1E90FF'] # 创建画布 fig, ax = plt.subplots(figsize=(10, 8)) # 绘制环状图 wedges, texts, autotexts = ax.pie( top_types.values, autopct='%1.1f%%', startangle=90, pctdistance=0.85, wedgeprops=dict(width=0.3), colors=colors ) # 创建自定义图例 legend_labels = [f\"{label} ({value})\" for label, value in zip(top_types.index, top_types.values)] legend = ax.legend( wedges, legend_labels, title=\"案件类型\", loc=\"center left\", bbox_to_anchor=(1, 0, 0.5, 1), fontsize=9, title_fontsize=10, frameon=False ) # 添加统计信息 total = len(df['type']) plt.text(1.35, -1.35, f\"总样本数: {total}\\n前10类型覆盖率: {top_types.sum()/total:.1%}\", bbox=dict(facecolor='white', alpha=0.9)) # 调整布局 plt.title('数量前10案件类型分布', pad=20) plt.tight_layout() plt.axis('equal') plt.show() 如图\r","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:17:1","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"条状图 优化了数字排列方式不重叠 规定了民初、再、终案号的排列顺序 使用了 python 包 pip install aquarel 优化了绘图风格。 Aquarel import pandas as pd import matplotlib.pyplot as plt from pylab import mpl # 设置中文字体和解决负号显示问题 mpl.rcParams['font.sans-serif'] = ['STZhongsong'] # 指定默认字体：解决plot不能显示中文问题 mpl.rcParams['axes.unicode_minus'] = False # 解决保存图像是负号'-'显示为方块的问题 # 加载数据 df = pd.read_csv(r'C:\\Users\\PC\\Desktop\\hzp_project_re\\re_论文开始\\最终面板数据\\民事上诉样本.csv', encoding='utf-8', low_memory=False) # 从case_wid_str中提取案件类型 df['case_type'] = df['case_wid_str'].str.extract(r'(民初|民终|民再)') # 统计每种案件类型在不同法院级别的分布情况 distribution = df.groupby(['court', 'case_type']).size().unstack(fill_value=0) # 只保留特定的法院级别，但只包括实际存在的法院级别 desired_courts = [1, 3, 4, 5, 6] existing_courts = [court for court in desired_courts if court in distribution.index] distribution = distribution.loc[existing_courts] # 计算每个法院级别的总案件数 total_cases_per_court = distribution.sum(axis=1) # 计算比例 distribution_ratio = distribution.div(total_cases_per_court, axis=0) * 100 # 设置图表大小 plt.figure(figsize=(12, 8)) # 定义一个空列表用于底部高度 bottoms = [0] * len(distribution_ratio) # 按照民初、民再、民终的顺序进行堆叠 case_types_order = ['民初', '民再', '民终'] for case_type in case_types_order: # 使用正序确保民初在最下面 if case_type in distribution.columns: plt.bar(range(len(distribution_ratio.index)), distribution_ratio[case_type], bottom=bottoms, label=case_type) # 在每个条形图上方显示具体数量 for index, value in enumerate(distribution[case_type]): text_y_position = bottoms[index] + (distribution_ratio.loc[existing_courts[index], case_type] / 2) # 调整文本位置以避免重叠 if case_type == '民再': if index % 2 == 0: text_y_position += 2 # 向上移动 else: text_y_position -= 2 # 向下移动 plt.text(index, text_y_position, str(int(value)), ha='center', va='center', color='black', fontsize=9) # 更新底部高度 bottoms = [sum(x) for x in zip(bottoms, distribution_ratio[case_type])] # 修改x轴标签 court_labels = {i: label for i, label in enumerate([\"最高\", \"高级\", \"中级\", \"基层\", \"专门\"][:len(existing_courts)])} plt.xticks(range(len(existing_courts)), list(court_labels.values())) # 添加标题和标签 plt.title('案件类型在不同法院级别的比例分布', fontsize=14, pad=20) plt.xlabel('法院级别', fontsize=12, labelpad=15) plt.ylabel('比例 (%)', fontsize=12, labelpad=15) plt.legend(title=\"案件类型\", bbox_to_anchor=(1.05, 1), loc='upper left') # 显示图表 plt.tight_layout() plt.show() 如图\r","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:17:2","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["经济学习"],"content":"均值中位数分布图 包含均值、中位数、累计比例 使用了参数名称映射 import pandas as pd import numpy as np import matplotlib.pyplot as plt import seaborn as sns from pylab import mpl # 设置中文字体和解决负号显示问题 mpl.rcParams['font.sans-serif'] = ['STZhongsong'] # 指定默认字体：解决plot不能显示中文问题 mpl.rcParams['axes.unicode_minus'] = False # 解决保存图像是负号'-'显示为方块的问题 # 假设这是你的数据列与其中文名称的映射 var_names_zh = { 'work_experience_years': '工作年限（年）', 'work_experience_months': '工作经历（月）', 'average_cases_per_month': '平均处理案子数（月）' } # 加载数据 df = pd.read_csv(r'C:\\Users\\PC\\Desktop\\hzp_project_re\\re_论文开始\\最终面板数据\\民事上诉样本.csv', encoding='utf-8', low_memory=False) # 转换工作经历为年份 df['work_experience_years'] = df['work_experience_months'] / 12 # 计算平均一个月处理多少案子 df['average_cases_per_month'] = df['cumulative_count'] / (df['work_experience_months'] + 1) def add_statistics(ax, data): \"\"\"在给定的轴上添加平均数和中位数的标注\"\"\" mean_val = data.mean() median_val = data.median() ax.axvline(mean_val, color='red', linestyle='--') ax.axvline(median_val, color='blue', linestyle='--') # 添加图例于右下角 ax.legend([f'均值: {mean_val:.2f}', f'中位数: {median_val:.2f}'], loc='lower right') def add_percentage_axis(ax, data): \"\"\"在给定的轴上添加右侧的百分比轴\"\"\" values, base = np.histogram(data.dropna(), bins=30) cumulative = np.cumsum(values) percentage = cumulative / cumulative[-1] * 100 # 将累计值转换为百分比 ax_percent = ax.twinx() ax_percent.plot(base[1:], percentage, c='green', label='累计百分比') ax_percent.set_ylabel('累计百分比 (%)') ax_percent.legend(loc='upper right') def trim_data(data, lower=0.5, upper=99.5): \"\"\"返回给定百分比范围内的数据\"\"\" lower_quantile = np.percentile(data, lower) upper_quantile = np.percentile(data, upper) return data[(data \u003e= lower_quantile) \u0026 (data \u003c= upper_quantile)] variables = ['work_experience_years', 'work_experience_months', 'average_cases_per_month'] fig, axes = plt.subplots(len(variables), 1, figsize=(15, len(variables)*5)) for idx, var in enumerate(variables): # 使用中文名称 var_zh = var_names_zh.get(var, var) if var == 'average_cases_per_month': data_to_plot = trim_data(df[var]) else: data_to_plot = df[var] # 原始数据分布 sns.histplot(data_to_plot, kde=True, color=\"skyblue\", edgecolor=\"black\", ax=axes[idx]) axes[idx].set_title(f'{var_zh} 分布图', fontsize=14) add_statistics(axes[idx], data_to_plot) # 添加平均数和中位数的标注 # 添加累计百分比轴 add_percentage_axis(axes[idx], data_to_plot) plt.tight_layout() plt.show() 如图\r","date":"2025-01-13","objectID":"/zh-cn/posts/cpws_stata/:17:3","tags":["Stata","Python"],"title":"裁判文书清洗指南","uri":"/zh-cn/posts/cpws_stata/"},{"categories":["阅读"],"content":" 如果让经济学和数学再共生上一个半世纪，那谁能想象它将产生什么样的变化。——史树中 ","date":"2025-01-02","objectID":"/zh-cn/posts/econ_math/:0:0","tags":["阅读","微观经济学","宏观经济学"],"title":"经济学的数学史","uri":"/zh-cn/posts/econ_math/"},{"categories":["阅读"],"content":"推荐理由 视角：史树中老师是纯数学背景出生。本书其实是面向数学专业的经济学数学科普。有趣的学科立场在于——你会发现数学家一般会尽力回避社会科学的规范分析，非数理的名词的解释。 阅读门槛：中级微观经济学难度，但是由于是面向数学学生群体，部分数学超过中级。例如中级微观一般是用拉表格的形式介绍阿罗不可能定理，而本书直接使用的泛函。 学科史：本书可以看作数学在经济学中的发展史，很多人虽然学完了微观却不一定能理顺其中数学工具的发展关系。例如很多人对古诺、瓦尔拉斯、阿罗的贡献，只是知道教材上的一两道例题而已。学科史能弥补中间的空白，了解大师们的传承过程。 正如我在 《经济学的自负：最近的一些想法 》中提到的那样——我认为学科史的学习非常重要。了解数学与经济结合的历史也很重要。 如果连中级的美感都没去感受，就沉浸在高级的数学技巧中，我觉得很难走得远。因为经济思想早在中级就渗透完了，高级是中级的精准表达和模型的一般化推广。 回顾经济学家的生平其实是很有意思的事。就像大家沉迷于锐评当代的经济学家，八卦学术新星的教职去向，在数理经济史中，你也可以看到如此多耳熟能详的名字，都曾在论文中默默无闻，直到被后继者挖出来，心血才得到回报。 意识形态：在那个年代，使用数理工具分析经济学被认为带有资本主义色彩。全书充满这种时代特色，作者必须强调我们是批判性地看待，并且插入苏联社会主义数理经济学的相关论述。这种时代气息让我感觉很新奇😂。 ","date":"2025-01-02","objectID":"/zh-cn/posts/econ_math/:1:0","tags":["阅读","微观经济学","宏观经济学"],"title":"经济学的数学史","uri":"/zh-cn/posts/econ_math/"},{"categories":["阅读"],"content":"历史回顾 数学和经济学融合是一个曲折的过程，大量的天才因为数学太好，在世时没有被同时代的人所重视。 17 世纪。威廉配第（William Petty）《政治算术》。此时刚开始运用数字。 19 世纪。 函数的使用：古诺（Charles-François Gounod）1 (巴黎师高的学生，拉普拉斯和泊松的学生)《财富理论的数学原理》。很多人不能接受书中价格需求函数的数学表达，因此古诺又写了一个回避数学的版本（但依旧不火）。其去世 80 年后贡献才被肯定。 边际分析的先驱： 戈森（Hermann Heinrich Gossen）2因为数学太好结果其分析在当世没有被接受。奥地利学派创始人门格尔（Carl Menger）由于不会微积分，自己用感觉描述边际分析，结果影响力很大。奥地利学派之后基本没有什么积极运用数学的经济学家了。 杰文斯（William Stanley Jevons）《政治经济学的一般数学原理的注记》（1862）、瓦尔拉斯（Léon Walras）（洛桑学派开创者）《交换的一种数学原理》。他们都会微积分，瓦尔拉斯数学比杰文斯更好。 门格尔、杰文斯、瓦尔拉斯都是各自独立思考起了边际分析，不过最后他们发现戈森是最早的，只是一直没被重视。 数理模式的扩张：瓦尔拉斯的一般均衡横空出世。证明存在价格使得市场供求平衡。不过瓦尔拉斯数学还不够好，他认为变量数等于方程数就有解，没有考虑方程组的秩。虽然证明不严谨，但思想的影响依旧深远。冯诺依曼也是基于一般均衡思考起了博弈论。 瓦尔拉斯提出一般均衡理论 80 年后，德布罗 (Gérard Debreu)《价值理论，经济均衡的一种公理化分析》（1959）才严格证明了一般均衡存在性。其和布劳威不动点是充要条件。 边际效用学派二代：埃奇沃思 《数学心理学》、马歇尔《经济学原理》（马歇尔 (Alfred Marshall)3也是数学出身，是剑桥学派代表）。凯恩斯 (John Maynard Keynes)4是马歇尔的学生。 洛桑学派二代：帕累托 (Vilfredo Federico Damaso Pareto)（做了 20 年铁路采矿工程师） 美国边际学派： 费雪5（Irving Fisher） 启发了凯恩斯。 奥地利学派后续：门格尔的儿子成为了数学家，带出来两个重要人物，一个是哥德尔不完备猜想的哥德尔 (Gödel)，另外一个是统计学家沃尔德（wald）6（计量 wald 检验）。熊彼特（Joseph Alois Schumpeter）虽然是奥派出生，但其理论影响几乎独领风骚。 2018年全国2卷的作文题目，主角正是 wald 。遗憾的是，wald 最后死于飞机事故。\r宏观中最著名的数理方法是控制论7，是维也纳一群无拘无束的科学家一起讨论形成的方法，其中就有冯诺依曼。最早将控制论认真引入经济学的是艾伦（Alan Stuart Blinder）。早期引入控制论，大家更了解的可能是菲利普斯（Phillips） 8。 史树中老师将宏观模型粗暴地理解为控制论，是本书招致批评的主要原因之一。 ","date":"2025-01-02","objectID":"/zh-cn/posts/econ_math/:2:0","tags":["阅读","微观经济学","宏观经济学"],"title":"经济学的数学史","uri":"/zh-cn/posts/econ_math/"},{"categories":["阅读"],"content":"可用数学研究的经济学和经济研究中的数学 国内马政经曾经为研究对象是什么产生过激烈争辩，史树中老师的话很发人深省——研究对象的选择意义是由研究成果决定的，而不是和他人争辩过来的，自己想研究什么对象就研究什么对象，最后能接受检验即可。选择研究对象这件事不应该被约束，更不要被 xx 主义，xx 流派，xx 需要，xx 实践这种说法过度约束。 经济学中经常使用数学的部分是实证经济学。但要区分数学运用的目标，因为很多人寄托经济学通过数学达成和物理学一样的力量——预测对象的运行。以生理学为例子，生理已经能解剖心脏了，却没人会要求它预测心脏的跳动。 经济学的作用应当是配合实证分析的部分，形成清晰的公理表述。 ","date":"2025-01-02","objectID":"/zh-cn/posts/econ_math/:3:0","tags":["阅读","微观经济学","宏观经济学"],"title":"经济学的数学史","uri":"/zh-cn/posts/econ_math/"},{"categories":["阅读"],"content":"有趣的数理经济学思维 这里我就只概括点我觉得值得提炼的信息了。 对偶问题。利润最大化和成本最小化是一个对偶问题。不断迭代和微积分可能得到一些更重要的变形。 基数效应论很难推广，序数效应论更容易，同时能证明基数效应论有对应的合适的序数效应。 囚徒困境启发：局部最优不等于整体最优，关键是不要过于分散，不然容易内斗。 《阿罗不可能定理》是一个网红定理，很多人喜欢挂个标题——数学证明民主不可能实现。布坎南基于此发展了公共选择理论，抨击集体决策的有效性。不过理论贡献者阿罗自己倒是非常谨慎： 社会选择矛盾的哲学和分配的含义还不清楚，肯定没有简单的方式可以解决。——阿罗 埃奇沃思盒：交换过程不一定是平等的，这是一种机会均等，在每一个帕累托最优点上，双方的分配很容易不平均，但达成怎样的结果的机会是均等的。这体现了过程正义比结果正义可能更重要。 不确定性环境可以帮助我们确定基数效用论。 史树中老师是从工程控制的角度探讨宏观部分。 博主  松易涅 向我推荐过《控制论与科学方法论》。其实国外一些宏观方向的高校也会要求学生学习控制论、动力系统。瓦尔拉斯、帕累托也接受过这方面的训练。 宏观系统需要考虑输入、输出、传递、反馈、目标实现、最优路径。常微分方程组和控制论结合比较紧密。将社会看作一个系统，那么市场就是一个调节器。 例如下面这种微分方程组, 其实就体现了工资产量-产出比和就业率的关系。 $$ \\begin{cases} \\dot{\\varepsilon}=-{\\varepsilon }h\\left( \\theta \\right)\\\\ \\dot{\\theta}=-{\\theta }g\\left( \\varepsilon \\right) \\end{cases} $$ 在数学上，它其实是非线性的伏尔特拉方程组。最开始是描述的湖底生态系统，大鱼吃小鱼，但小鱼被吃干净了大鱼也会变得生存艰难，最终达到一种均衡。（因此新剑桥学派认为这个式子就像阶级斗争） ","date":"2025-01-02","objectID":"/zh-cn/posts/econ_math/:4:0","tags":["阅读","微观经济学","宏观经济学"],"title":"经济学的数学史","uri":"/zh-cn/posts/econ_math/"},{"categories":["阅读"],"content":"总结 关于现在的经济学与数学的关系。 我感觉争议在于所谓经济学的直觉是什么？例如国外的这道考试题，先让你自己算，算出来后再自己看，算完后再用直觉去思考。此时数学和经济学推理是相辅相成的。 题目出处为https://drive.google.com/file/d/1PycYJ6QKeRSYQl9jVeNexlqtKBFlwxpl/view\r经济学直觉是什么？ 真的有所谓反直觉的研究吗？ 我目前感觉是——直觉是对要素变化趋势的把握。大致上能知道一个要素在市场体系中的影响方向和权重地位。 我也赞同《富种起源》中的一句话，科学最美妙的地方在于看前觉得不可思议，分析完后却觉得不得不如此。 许多人会引用马克思的一句话——一种科学只有成功地运用数学时，才算达到了真正完善的地步。 其实这句话是在拉法格的回忆录中出现的，是拉法格说马克思说过这句话。马克思并未在自己的著作中表达过相关的观点。不过马克思的数学至少是学到了泰勒展开的。有趣的是，马克思虽然学了一部分微积分，但他没有意识到自己的极差地租有边际分析的思想。马克思也认为数学的神秘化倾向是推动其发展的原因之一。这些可以在《马克思的数学手稿》中找到证据。 经济学成功的数学其实是现象本质的一种抽象。通过科学的抽象揭示事物的内在机理。能做到离开定量的定性吗？虽然亚当斯密直接定性了，但是数学化后，大家对亚当斯密的定性才了解地更为清晰，从模糊的文字到严谨的数学描述其实是一条漫长的路，时间以世纪为单位。 微观经济学经典的古诺模型，讨论了双寡头的一种博弈。例如可口可乐和百事可乐为何能竞争到现在。 ↩︎ 戈森的两个定律：边际递减和均衡时边际效用相等。 ↩︎ 《经济学原理》作者 ↩︎ 凯恩斯 1921 年还写过一本《概率论》。不过凯恩斯对自己的模型被数学化这件事并不是很乐观。 ↩︎ 金融与货币学需要知道的——费雪方程。其中包含着二分法的思想，名义和实际。 ↩︎ 他比较出名的故事书美军幸存者偏差，这个还是 2017 年高考二卷的选择题。 ↩︎ 本书将宏观机械地看作控制论，个人认为是不合适的。 ↩︎ 菲利普斯曲线，通货膨胀和失业二选一。 ↩︎ ","date":"2025-01-02","objectID":"/zh-cn/posts/econ_math/:5:0","tags":["阅读","微观经济学","宏观经济学"],"title":"经济学的数学史","uri":"/zh-cn/posts/econ_math/"},{"categories":["经济学习"],"content":" 本文要介绍的是三篇政府一次性投资与产业长期发展的文献： AER 《Moonshot: Public R\u0026D and growth》 QJE 《The Long-Run Impacts of Public Industrial Investment on Local Development and Economic Mobility: Evidence from World War II》 AER 《America, Jump-Started: World War II R\u0026D and the Takeoff of the US Innovation System》 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:0:0","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"关于政府与市场：先学会提问 对于产业政策之争，问题的答案与提问的方式息息相关。 过去我们问得相当粗犷——政府和市场谁应当是主导地位？ 现在我们问得更加精准——政府和市场，谁在哪个部分应当怎样主导？ 让混合经济成为共识并不容易，中苏经历过全盘计划体制的年代，美国也曾为体制混战掀起猎巫行动1。而现在实证主义成为主流的原因就在此处2——世界不再是非黑即白的意识形态论战，社会会为偏激的道路付出巨大的代价。我们需要更加精准的边界，更精准的提问。 本文的三篇文献都以二战时期的制造业投资为时代背景，研究当时的一次性制造业投资对制造业发展的长期影响。同时一个讨论议题是——如何区分地方效应和国家效应。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:1:0","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"登月冲击：公共研发投入与经济增长 Moonshot: Public R\u0026D and Growth ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:2:0","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"引入 冷战时期，苏联发射第一颗卫星后，美国为开始大规模投资太空行业的制造业。 NASA的研发投资，一个突发的增长\r基于这种历史背景，可以讨论以下几个方面： 技术进步与经济增长理论的验证和发展 创新的社会回报大于私人回报，所以企业技术创新动能是不足的，那么是否需要政府额外刺激？ 政府刺激是否有效？政府研发（公共研发）投资是否能带来长期增长。 事件的外生性。当时 NASA 投资占美国 gdp 的 0.7%。地缘冲突是外生冲击。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:2:1","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"估计策略 《Moonshot: Public R\u0026D and Growth》一个独特的点在于——它充分使用了美国披露的冷战时期的材料。 特别点 1 ：美国解密的中央情报局情报文件，详细介绍了苏联的太空能力，然后与斯普特尼克之前的美国专利相匹配，从而使作者能够根据文本相似性来定义专利技术发展的空间地点。 特别点 2：NASA 直接投资已有基础的专利公司，而非自己从零进行研发。由此，文章使用文本相似度对比专利数据进行估计。 三重差分： $$ \\begin{equation} \\begin{aligned} Y_{ijt} = \\beta_1 \u0026+ \\beta_2 High\\_Space\\_Capability_{ij\u003c1958} \\times SpaceRace_t \\\\ \u0026 + \\beta_3 High\\_Space\\_Capability_{ij\u003c1958} \\times Post\\_SpaceRace_t \\\\ \u0026 + {\\color{red}{\\beta_4}} High\\_Space\\_Capability_{ij\u003c1958} \\times SpaceRace \\times Space\\_Industry_j \\\\ \u0026 + {\\color{red}{\\beta_5}} High\\_Space\\_Capability\\_{ij\u003c1958} \\times Post\\_SpaceRace_t \\times Space\\_Industry_j \\\\ \u0026 + TotalPre\\_1958Patents_{ij} \\times \\gamma_t \\\\ \u0026 + \\delta_i + \\theta_j + \\gamma_t + v_{ijt} \\end{aligned} \\end{equation} $$ ${\\color{red}{\\beta_4}}$ 代表投资期间效应系数。 ${\\color{red}{\\beta_5}}$ 代表投资结束后长期效应系数。 Y:NASA相关的地区投资、专利、产业变量（附加值、TFP、就业、资本） HighSpaceCapability:竞赛开始前专利文本相似度 SpaceRace:竞赛时期虚拟变量（1959-1972） SpaceIndustry：是否是NASA相关产业虚拟变量 PostSpaceRace:竞赛以后的时间虚拟变量（1972以后） Toralpre_1958Patents：1958年以前就存在的专利数量 为进一步量化，论文使用乘数效应进行估计： $$ \\text{乘数}=\\frac{\\beta_{产出}\\times\\text{产出}}{\\beta_{投入}\\times\\text{投入}} $$ 事件研究发结果，投资结束后，乘数效应依旧存在（红线以后）\r文章计算的乘数效应为 0.3. 低于模型估计和其他文章计算的 0.6-0.8。且动态增加效果并不大，作者解释为那几年经济增长很快，因此乘数效应会被低估，也没有真正测量大学和 NASA 自己研究中心的研发。 计量估计中，我们总是偏好低估的识别策略，这样一来，现实效应比我们研究得到的数据还要大，也更能证明结论的可靠性。 研究表明，工具变量容易放大估计值，所以工具变量是内生性和有效性的取舍。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:2:2","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"稳健性 严格化太空工业行业定义，添加更多相关产业 行业标准误——根据NASA股份调整 逐步去掉一个州或者行业查看变化 使用增长率替代生产率作为解释变量 工具变量:行业-县是否在t年获得了资金 进一步精确宇航局开支，使用美国非美国的对比 使用非空间样本进行跨行业分析 使用美国的政策文件匹配专利相似度 使用不同的文本相似度对照 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:2:3","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"机制检验 正文部分思考的是时间相关的投资是否持续，机制检验讨论的是空间相关的溢出效应。行业发展是否会溢出？ 人口途径： 产业发展吸引人口迁入。通过人口流动面板的三重差分估计。迁入效应存在。 商品途径： 产业发展，商品需求是否增多。论文转化为增加贸易比较优势，使用论文《Railroads and American Economic Growth: A “Market Access” Approach》量化后的比较优势分数作为三重差分的解释变量，不显著。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:2:4","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"区分地方效应和国家效应 政府投资可以看作一种资源的结构性分配，一个地区发展起来了，是创造了新的价值，还是只是资源堆积造成的分配不平等，这个问题值得商榷。 例如国内很多文献讨论不同省份的省会带来的到底是吸血效应还是造血效应。这就是地方效应和国家效应的区别。包括最近很火的付鹏的演讲。里面提到过政府投资的假象： 政府指到哪里，哪里就发展起来了，看起来是有为政府，但政府走了投资也走了。这种指哪儿打哪儿的繁荣，只是结构上的分配而非财富上的创造。(个人概括) 在研究中，我们想要识破这种假象，就必须放开视野，从更长的时空去区分地方效应和国家效应。 香樟经济学曾经汇报过《Moonshot: Public R\u0026D and growth》 两年前的版本：里面原本用的 arsin 与双重差分对变量进行处理，也没有讨论商品效应。 Arsin 与双重差分应该是受《Logs with Zeros? Some Problems and Solutions》影响改变了估计策略。 商品效应应该是被审稿人批评没有讨论地方效应和国家效应的识别，所以扩展了讨论。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:2:5","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"二战时期建厂的长期经济效益 The Long-Run Impacts of Public Industrial Investment on Local Development and Economic Mobility: Evidence from World War II ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:3:0","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"引入 这篇论文是从劳动经济学角度分析二战制造业投资的持续效应。 现象：战时设厂地出生的小孩未来工资更高。 争论：这部分工资增长是什么带来的？ 可能：暴露效应：孩子成长的环境更好了；福利效应：就业岗位的待遇更好了。人力资本投资：孩子的技能素养更好。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:3:1","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"估计策略 一些对比分析： 在技能水平不变的情况下，工资依旧有增长。 当地出生的孩子，去了外地工资没有明显增长，留在当地的工资有明显增长。 进入当地的孩子，相比于没有进入的，工资有明显增长。 使用学历作为解释变量分解工资增长，解释效应很低。 一些对比分析\r拥有大型公共工厂的县的制造业就业人数比对照县高出30% ，人口增加20% ，家庭收入中位数比对照县高出7-8% 。 处理县的制造业就业急剧扩大，远远超过总体人口增长的比例。 制造业就业人数占总就业人数的比例有所增加，并在整个1970年代保持高位。 在战后的几十年里，接受治疗的县的人口增长继续超过对照地区，最终稳定在一个新的、永久性高于对照地区约20% 的水平上。 企业数量没有增加，增加的是规模。 论文善于使用事件分析法\r综上，是福利效应带来的工资增长。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:3:2","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"区分地方效应和国家效应 假如没有二战呢？没有战争，国家显然会在经济发达的地区建厂。那么战争时期的后方建厂和自发的前方建厂，效应应该有所区别。 论文使用当代的百万工厂数据检验，发现当代工厂中，这种工资增长效应消失了。 所以作者最后抛出讨论——工厂建厂对交通环境改善的作用可能是这种效应的关键。 正是因为当代的交通系统在全国已经建立完善，福利效应已经减弱。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:3:3","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"美国飞跃：二战科研支出与创新系统 America, Jump-Started: World War II R\u0026D and the Takeoff of the US Innovation System ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:4:0","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"引入 美国的创新网络是如何形成的，至今是一个重要议题。 顺便一提，个人比较赞同“人才移民是美国发展的重要原因”这个观点。 二战期间，美国政府的科学研究与发展办公室（OSRD）支持了美国历史上规模最大的应用研发公共投资之一。利用所有OSRD资助的发明数据，本文展示了这一冲击对美国创新体系的深远影响。它催生了全国范围内的技术集群，促进了高科技创业和就业的增加。 这些影响至少持续到20世纪70年代，主要由聚集力量和内生增长的推动而形成。除了创建技术集群外，战时研发永久性地改变了整个美国创新的轨迹，使之朝着OSRD资助的技术方向发展。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:4:1","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"识别策略 $$ \\ln(Patents)_{ict}=\\sum_{t=1931}^{1970}\\beta_t\\cdot\\ln(OSRDrate)_{ic}\\cdot Year_t+\\alpha_{ic}+\\delta_t+\\varepsilon_{ict} $$ i 县，c 专利类别，t 年份，标准误聚类县级。 OSRDrate：1941 年至 1948 年间一个给定的类别申请的专利中由 OSRD 资助的比例。 对比图\r分位数回归与事件研究法： OSRD后5%投资与前5%投资比较，短期效应和长期效应差距都很显著 电子和电气的投资效应最显著（这个专利类别与战争联系也最深）\rOSRD 后 5%投资与前 5%投资比较，短期效应和长期效应差距都很显著电子和电气的投资效应最显著（这个专利类别与战争联系也最深） ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:4:2","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"机制 专利信息包含了行业、位置、引用关系、时间。 行业又分为了不同类型、上下游。 可以通过这些变量的组合研究专利网络的形成、扩展、溢出。 溢出效应\r同一个县内分位数回归。 从左到右是投资率分位数。 从上到下是专利类别逐渐变远。 例子\r论文还要很多讨论，这里只概括一些思路： 专利是否有政府参与 引用方向：专利引用别人和被引用、行业上下游 地理空间位置：同一个县不同行业；同一个行业不同的县…… 企业整体：所有企业专利、在同一县和技术领域拥有专利的企业、只在不同县和/或技术领域拥有专利的企业、没有专利的企业。 ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:4:3","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"区分国家效应和地方效应 本文区分的方法是使用利用美国、英国、法国作为比较 $$ \\begin{aligned} \\ln(Patents)_{ict} = \u0026 \\sum_{q=1}^4 \\beta_q \\cdot 1\\{Country_i = US\\} \\cdot 1\\{Class_c \\in \\text{quartile } q\\} \\cdot 1 \\{t \u003e 1945 \\} \\\\ \u0026 + Country_i \\times Class_c \\\\ \u0026 + Country_i \\times Post_t \\\\ \u0026 + Class_c \\times Post_t \\\\ \u0026 + \\varepsilon_{ict} \\end{aligned} $$ 国别比较\r","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:4:4","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["经济学习"],"content":"论文应当如何汇报 在老师指导下，我明白了组会论文分享应当围绕主题总结归纳多篇论文。 以本文为例子： 明确主题中心：本次三篇文献的中心思想是政府一次性投资和长期发展。最后我们要注意的是国家效应与地方效应的区分。切勿流水账汇报一篇论文。 详略得当：估计策略、创新点、机制检验设计思路详细分享，稳健性检简单略过。 学习心态：在分享过程中思考我们作为学习者能够做什么：论文的不足之处；可以学习的地方；可以模仿的地方…… 学会演讲：如果觉得这个系列论文有意思，思考如何通过谋篇布局把论文的有趣点快速表现出来。 国外大师在合作中亲自出手的地方往往是引言（introduce）部分。论文的引言体现的就是这种能力。 例如萨缪尔森的 《经济学》出版时，其中的\"混合经济\"思考引发过巨大争议 ↩︎ 参考《陆铭：给搞实证研究学者的经验建议》 ↩︎ ","date":"2024-12-15","objectID":"/zh-cn/posts/zftz/:5:0","tags":["文献阅读","发展经济学"],"title":"政府一次性投资与产业长期发展","uri":"/zh-cn/posts/zftz/"},{"categories":["游记"],"content":" 梦中的世界确实别有一番趣味。 当然，最好的社会不是做生理上的梦，而是每个人敢于做理想的梦。当社会变得压抑时，还请不要怪罪他人，那是一个个社会幻梦的流逝。 从小到大，我做过很多类型的梦， 预知梦：梦见第二天学校诗词比赛默写题目。 清醒梦：身处重叠的白色楼梯中，发觉这是梦境，但还是无法掌控，只是一直盲目地走着。 反复梦：小学到初中重复做过一个梦：走在家乡南方的水田梗上，路里面有个满到胸口的坑，掉进坑里，能感觉到身旁充满了巨蟒的丝丝摩擦感。（怀疑那时还小，被子太重了，所以能反复梦到） 今天这个梦最完整，最漫长，倒是很有故事感，而且现在有 AI 了, 不妨比较下 AI 的解读。 ","date":"2024-12-04","objectID":"/zh-cn/posts/ai_m/:0:0","tags":["梦"],"title":"记录一次梦境与 AI 解梦","uri":"/zh-cn/posts/ai_m/"},{"categories":["游记"],"content":"梦境描述 昨晚做了一个嵌套梦。 亲戚女孩把泥鳅倒到我放的水盆里，我突然激动起来，想起里面有一条我养的小蛇。我疯狂提醒那位亲戚别把我养的宠物小蛇挤出去了。结果水满了，小蛇也不见了。 我感觉到这是我第二次失去宠物蛇，却想不起第一次的事——只记得失去的感觉很痛苦。 我不断地说服我的家人，这样的蛇存在过（当时我都是在用过去式描述，这可能也是一个关键点）。在经典小区林子里的石头桌子上，我不断地跟他们讲我的所有记忆，但只能想起一些模糊的地标。 我到处寻找，分别在垃圾桶，警局，博物馆找回记忆。 垃圾桶回忆：我在上学路上的一个盒子里面发现了一个透明小盒子，里面是一条会说话的蛇！我还记得垃圾桶分为可回收和想回收，真是个看起来无所不能的世界。她居然是一条会说话的蛇。蛇还和我一起看视频吐槽。但我想不起来它怎么来的了，只有断断续续的生活记忆碎片。 警局：我无父无母，开着二手长安车收垃圾，长安车窗破碎，贴着黄色胶条，后备箱无法锁起来，干脆用支撑架撩开以便放破烂和货物。这条蛇原来是白素贞血脉的后代，是试验品，我卷入了邪恶势力的追杀，警察在帮我。 博物馆：邪恶势力为了追求神话的力量做生物实验，蛇为了救我牺牲了自己，顺便抹去了我的记忆。她的最后原话是——世界上不应有一条会说话的蛇。忘记她，对我和世界都更好。 我想起一切，我醒了过来。 ","date":"2024-12-04","objectID":"/zh-cn/posts/ai_m/:1:0","tags":["梦"],"title":"记录一次梦境与 AI 解梦","uri":"/zh-cn/posts/ai_m/"},{"categories":["游记"],"content":"AI 解读 ","date":"2024-12-04","objectID":"/zh-cn/posts/ai_m/:2:0","tags":["梦"],"title":"记录一次梦境与 AI 解梦","uri":"/zh-cn/posts/ai_m/"},{"categories":["游记"],"content":"通义千问 你的梦境非常复杂且充满了象征意义，它可能反映了你内心深处的一些情感和未解的心结。梦境通常是我们潜意识的表达方式，下面是一些可能的解释： 失去与找回：梦中反复出现丢失宠物蛇的情节以及四处寻找的过程，可能表达了你对某些重要关系或事物失去的恐惧。你提到这是“第二次”失去宠物蛇，但记不清第一次的情况，这可能暗示你曾经经历过某种形式的失落，而这种感觉对你来说是非常痛苦的。 垃圾桶回忆：这部分似乎是在说你在一个意想不到的地方找到了珍贵的东西（会说话的蛇），这可能象征着你从平凡或者被忽视的事物中发现了价值。“可回收和想回收\"的世界可能代表了你对资源利用的看法，或者是你试图赋予生活中看似无用之物以新的意义。 警局场景：开着二手长安车收垃圾的形象可能是对自己生活状态的一种自嘲或是谦逊的态度；而卷入追杀、警察帮助等情节，则可能反映了你在现实生活中感受到的压力或挑战，以及对于外部援助的需求。 博物馆的记忆：这里涉及到神话元素（如白素贞）和科学实验，还有为了保护他人而选择遗忘的行为，这或许表明你在现实中也面临着类似的抉择——有时为了自己或他人的安全与幸福，不得不做出牺牲或放弃一些东西。 整体梦境结构：整个梦境像是一个关于成长、责任、爱与牺牲的故事。它可能在告诉你，尽管生活中会有许多困难和不确定性，但你也拥有面对它们的力量，并且有时候必须接受某些事情的发生，即使这意味着要承受一定的损失。 当然，这只是基于你提供的梦境内容所作的一个大致分析。每个人的经历都是独一无二的，所以最准确的理解应该来自你自己。如果你觉得这个梦境对你产生了特别的影响，考虑一下它是否触及到了你最近生活中的某些方面，或者是否有任何具体的事情让你感到困扰。如果有必要的话，也可以尝试通过写日记、绘画等方式进一步探索这些梦境背后的意义。 ","date":"2024-12-04","objectID":"/zh-cn/posts/ai_m/:2:1","tags":["梦"],"title":"记录一次梦境与 AI 解梦","uri":"/zh-cn/posts/ai_m/"},{"categories":["游记"],"content":"文心一言 这个嵌套梦充满了奇幻和情感的元素，非常引人入胜。以下是对这个梦境的详细解析： 梦境的起始： 亲戚女孩将泥鳅倒入水盆，这一行为触发了你的紧张和担忧，因为你担心这会伤害到你养的小蛇。这反映了你在现实生活中对宠物的深深关爱和责任感。 你对失去小蛇的恐惧和痛苦，可能代表着你对失去重要事物的深深忧虑。 失去的记忆与寻找： 你感觉到这是你第二次失去宠物蛇，但想不起第一次的具体情况。这种模糊的记忆可能象征着你在现实生活中经历过的某种失落感，但具体细节已经模糊。 你不断说服家人并四处寻找小蛇，这反映了你对找回失去之物的坚定决心和不懈努力。 不同场景下的回忆： 垃圾桶回忆：这个场景充满了奇幻色彩，你发现了一条会说话的蛇，并与她一起看视频吐槽。这可能代表着你内心深处对与宠物建立深厚情感的渴望和想象。同时，垃圾桶的分类也反映了现代社会的复杂性和多样性。 警局局：在这个场景中，你成为了一个收垃圾的人，卷入了邪恶势力的追杀。这可能象征着你在现实生活中面临的某种困境或挑战，而小蛇作为白素贞的后代，则代表了你的某种信仰或希望。警察的帮助则象征着你在困境中寻求帮助和保护的愿望。 博物馆：这个场景揭示了小蛇为了救你而牺牲自己，并抹去了你的记忆。这可能代表着你对某种牺牲和遗忘的深刻体验，同时也暗示了你对现实世界的某种无奈和妥协。 梦境的结束： 当你想起一切时，你醒了过来。这可能意味着你在梦境中经历了深刻的情感体验和认知觉醒，从而结束了这个复杂的嵌套梦。 总的来说，这个嵌套梦充满了奇幻、情感和深刻的象征意义。它可能反映了你对宠物的关爱、对失去重要事物的恐惧、对困境和挑战的应对、以及对牺牲和遗忘的深刻体验。通过解析这个梦境，你可以更好地理解自己的内心世界和情感需求。 ","date":"2024-12-04","objectID":"/zh-cn/posts/ai_m/:2:2","tags":["梦"],"title":"记录一次梦境与 AI 解梦","uri":"/zh-cn/posts/ai_m/"},{"categories":["游记"],"content":"GPT (4-O) 这是一个充满象征意义的梦，层层叠叠的情节和情感仿佛在探索潜意识中深藏的秘密。以下是一些可能的解读： 小蛇的象征 小蛇可能代表你内心的一部分——天真、脆弱但又充满智慧和力量的一面。这条蛇会说话，帮助你吐槽、解困，甚至牺牲自己保护你，展现了它不仅是宠物，更是一个心灵伴侣或指引者。 失去与寻找 梦中你不断失去并寻找这条小蛇，可能暗示现实中某种重要的情感或记忆的缺失。这种反复的丢失和找回，或许对应着你在某个情境中迷失自我又试图找回的过程。 垃圾桶、警局与博物馆 这些地点各有深意： 垃圾桶：象征生活中被忽视或被抛弃的部分，你在那里找回记忆，暗示需要重新审视过去被遗忘的经历或情感。 警局：代表秩序与保护，但梦中你的经历却充满破碎与追杀，可能反映你对权威或现实规则的矛盾心理。 博物馆：作为记忆的储存之地，揭示了关于小蛇、邪恶势力和牺牲的真相，似乎在提醒你：过去的某些真相需要被接受或放下。 蛇的牺牲与记忆抹去 蛇牺牲自己并抹去你的记忆，这个情节带有浓厚的悲剧色彩，或许反映了你潜意识中对“遗忘”的复杂情感。一方面，遗忘可能是一种自我保护；另一方面，它也伴随着深深的失落。 醒来后的感受 你在梦中想起一切后醒来，这一切仿佛是在潜意识里完成了一次内在的整合。当记忆、情感和真相汇聚，你迎来了清醒——无论是从梦中还是从某种心理困境中。 如果这是一个创作灵感，这梦中的情节非常适合作为一个悬疑故事的主线，尤其是关于小蛇的象征、实验背后的阴谋和主角的成长。你可以进一步扩展它，赋予更多人物和背景细节，让它成为一个既奇幻又感人的作品。 ","date":"2024-12-04","objectID":"/zh-cn/posts/ai_m/:2:3","tags":["梦"],"title":"记录一次梦境与 AI 解梦","uri":"/zh-cn/posts/ai_m/"},{"categories":["游记"],"content":"个人解析 个人不懂梦的解析与欲望、潜意识的关系，但根据过往的梦境和自己的经历应该能自觉到做梦的素材来自哪里。 这次嵌套梦最让我神奇的地方在于，我的梦境的发展对应着前面的伏笔。但梦怎么会有伏笔呢？怎么会提前搭好呼应的框架呢？这种设计感让人惊讶。 蛇：从小到大做过不少蛇的梦境，虽然对我来说很恐怖，但由于个人生肖是蛇还觉得也不错。狮子王、功夫熊猫、白娘子传奇中的蛇都是正面形象，而且自古有化蛇成龙的说法。 会说话的蛇：最近刚和同学聚餐聊了很多，最近写论文也需要和团队积极沟通，确实对社交、沟通与隔阂有很多想法。我认为沟通真诚很重要，但真诚沟通，并不意味着别人相信你是真诚的，这个过程就向囚徒困境一样，越往后，别人对真诚的防备就越高。 博物馆：个人最喜欢的城市景点一直是博物馆。我相信博物馆的力量——人的历史、尊严、丰碑。在博物馆找回记忆很合适。警局只是我们作为国人充分信任警察局。 最近去过的金沙博物馆与太阳鸟图腾\r垃圾、长安车：个人家庭十分和睦，拾荒、无父无母完全是动漫经典设定。在家那边，长安车经常被用来拉货。 忘记，牺牲：《你的名字》等影视作品经典桥段。现在这个阶段了，做梦居然还是这样的情节，看来我还是挺向往童真的😄。这次梦境最让我印象深刻的还是失忆与寻找的真实感，最后想起一切倒是有了一种命运感。 欲望：在这次梦中，我能明确感觉到蛇的性别是女性，莫非真是欲望的映射？但我深知这样的形象是一种理想的化身，正如博客上的我也只是局部的我，现实中的任何人是多样而完整的人。领悟抽象而神圣的人性，但在追求中一定要包容完整而具体的人。 ","date":"2024-12-04","objectID":"/zh-cn/posts/ai_m/:2:4","tags":["梦"],"title":"记录一次梦境与 AI 解梦","uri":"/zh-cn/posts/ai_m/"},{"categories":["经济学习"],"content":" 制度是经济增长的根本原因——诺斯 我一直想找机会记录下我在财政课上第一次接触到“新政治经济学”的震撼。现在决定梳理一番是基于以下原因： 学了测度论后，有了一点点泛函基础（其实不需要） 组会上老师聊到了一点国内政策执行现状，提到政治经济学确实是一个很重要的视角。我也十分赞同。制度激励是一个相当有趣的研究领域。 2024 年诺奖理由是制度经济学、政治经济学的贡献 美国大选的精彩反转 B 站刷到了相关视频 马上要忙起来了，现在不写就没时间了 ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:0:0","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"从制度到政治经济学 两个问题： 国家的起源是什么（财政的本质是什么？） 什么决定了国家的发展路径？ 我经常在博客里用这个问题举例1——政府起源是什么？一种流派是古典政治经济学，以社会契约论、公共物品论2、社会福利理论为代表。权力集体的设置源于集体最优化的需求。 当然，如何衡量社会福利本身也是一个哲学问题，最小值（无知之幕思想实验3）？最大值？均值？绝对值？边际值？设计加权的凸函数？ 在此之上，正义的价值观也是哲学问题，例如阿马蒂亚森（Amartya Sen）的选择自由；计划经济的结果平均；初始分配的禀赋平均…… 税收设置就像电车难题，一条路上是穷人，一条路上是中产阶级，一条路上是富人——甚至驾驶员得考虑一些人会在被撞前变身超级赛亚人掀桌子。 在引入另一个流派前，我们先看看下一个问题——什么决定了国家的发展。 一大流派是国际贸易视角下的资源禀赋理论。一号国家既有 4 个 a 资源，又有 2 个 b 资源，但 a 产业赚钱更多，自然就会选择 a 产业。二号国家只有 0.5 个 a 资源，又有 1 个 b 资源，因此 b 产业赚钱更多，于是发展 b 产业。 A 资源数量 B 资源数数量 更赚钱的产业选择 一号国家 4 2 A 二号国家 0.5 1 B 因此，即便一号国家什么资源都比二号国家强，但由于它内部集中发展 A 产业最赚钱，于是他选择 A 产业；同样，二号国家选择 B 产业。这个模型（H-O 比较优势）能形象地解释为什么绝对优势更低的弱国依旧能向强国出口商品。林毅夫教授就是在这一思想上提出来“新结构经济学”。 国际贸易的起源 第一阶段看法：绝对优势 第二阶段看法：比较优势 第三阶段看法：规模效应 第四阶段看法：异质性企业 也就是说，这一流派，假定国家发展是区域资源决定的。 以下关于制度经济学的区分，参考了《制度与经济增长》（姚洋），这本书是关于姚洋教授和制度经济学大师诺斯的交流对话。（尚未看完，看完再来补充） 制度经济学并不这么认为。比如诺斯认为，所谓投资、教育、资本积累等不是经济增长的原因，而是增长的表现。如果只是堆生产要素就能实现发展，理论上讲所有国家都能模仿，但现实并非如此，实际上有效率的组织才是实现发展的主要动因。 同时，禀赋资源说总考虑人们会理性地使得自己资源优势最大化，那么举一个简单的反驳例子——逆全球化趋势也在全球局部出现。 例子 1. 科斯使用交易成本解释企业的起源——从制度层面解释了企业的产生。这说明制度的产生有所共性，而不是资源禀赋产生了特别的秩序。 例子 2. 我更想用人类学的一种观点解释制度经济学——我们的文化行为可以被看作一种过度仪式4。例如腊肉，过去腊肉作为过年的食物是因为便于保存，受到资源限制而产生的行为，但如今资源丰富了，腊肉的意义成为了新年美食的化身。 例子 3. 局部逆全球化趋势。特朗普希望制造业回流，我国强调国家安全，基于极限情况考虑战略部署，希望产业链全面发展。 例子 4. 路径依赖。例如铁路的宽度、录像机的 VHS 制式都是因为当时技术局限，在当代来看都不是最优选择，但被保留了下来。这种制度惯性也就是诺斯口中的“历史是有意义的”。 例子 5. 正式会议要穿西服；结婚需要彩礼；探病最好不要空手…… 这些非正式规则（这一概念由诺斯提出）无时无刻约束着大家。这些制度实际上具有相当大的执行弹性，我们不能单纯从资源利用最大化的角度理解非正式规则。 也就是说，制度演化混杂了太多非理性因素与非物质因素，尤其是文化宗教这类。如何认识这种制度中非最优、非完全理性的制度演化，制度经济学又分为了基于积极运用新古典经济新制度经济学学派（如 Dron）和抛弃新古典经济学的旧制度经济学派（例如萨缪尔森（Samuelson））。(这只是诺斯的一种分法) 一些区分标准：制度的定义；理性与非理性假设边界；制度演化是否自发，相对经济外生还是内生；制度变迁的动力；人在制度变迁的地位；用经济解释制度还是用制度解释经济…… 换句话讲，比起将集体作为一个单位，制度经济学注重“人——集体——制度——发展”的互动和动态演化。 新旧制度经济学的区别其实很模糊，制度经济学、发展经济学在历史上成为了一个什么都能装的大概念。 随便一提，杨小凯5也受到布坎南（Buchanan）社会选择理论的影响，其超边际分析也注重个人基本单位下的一般均衡传导路径。 此处可参考《发展经济学：边际分析与超边际分析 (导论)》 古典政治经济学把财政当成一个自发为集体谋福利的机构，但是从制度经济学来看，现实并非如此。财政其实可以被看作一种集体决策。集体政策就是一种制度设计。 财政学至今依旧在争议财政是什么，这一点难道不奇妙吗？ 请思考思考，集体决策这个过程像不像一个学科——政治。 新制度经济学发展到后期，就变成了新政治经济学。 新政治经济学研究点之一——个体偏好到集体决策的偏差。 我被震惊的是这种从本质到手段的数学描述方式： 什么是公平？我们说不清楚，于是我们先研究推动公平的工具——财政。 什么是民主？我们说不清楚，于是我们先研究实践民主的工具——集体决策。 于是社会选择理论诞生了，例如委托代理6、官员晋升锦标赛7、包容性增长。今天我想介绍的就是社会选择理论中的投票相关的分析。一切集体决策都可以看作一种投票。 将研究范围定位到“做选择”这一思想也是经济学帝国主义的原因之一。 国际上还有许多大佬做拍卖设计的。这种微观理论的选题，几乎就是博弈论和数理分析了。 ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:1:0","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"社会选择理论 本节参考自《高级微观经济学（第二版）》（蒋春殿）第 18 章。我基本上就是选择性复制粘贴而已。 关于更通俗的阿罗不可能解释，可以参以下视频： ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:2:0","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"社会福利泛函 我们曾在概率论中使用集合表示事件结果范围，而泛函之所以为“泛”，就是因为它研究的函数是集合空间到集合空间的映射，我们变为研究一类映射函数，也可以说，“泛”在研究对象是函数之函数；非线性泛函则是一种路径最优化，可以参考另外一篇博客《变分法学习笔记》。 高级微观的一些推理依赖集合作为决策要素的空间进行表达： 记社会个体集合为 $I=\\{ 1,2,\\ldots,n \\}, n\\geqslant2$。 $x,y \\in X$ 作为资源集合，被分配到个体集合 $a_i$ 中，也就是 $\\sum_i^n a_i=X_i$。 偏好有如下表。 $x\\succeq_{i}y$ ：个体 $i$ 认为 $x$ 不次于 $y$ 。 $x\\sim_{i}y$ ：个体 $i$ 认为 $x$ 和 $y$ 无差异。 $x\\succ_{i}y$ ：个体 $i$ 认为 $x$ 优于 $y$ 。 之前提过了，泛函就是空间到空间的映射。而社会福利泛函就是个体联合偏好空间到社会偏好空间的映射，记为 $$ \\succeq^{F}=F(\\succeq_{1},\\succeq_{2},\\ldots,\\succeq_{n}) $$ 注意，这里是所有个体的偏好空间到社会偏好的映射，并不一定是数轴空间（$R^1$）。个体联合偏好空间可以理解为所有人偏好的结果的集合，社会偏好空间可以理解为最后我们应该承认的总体偏好结果空间。 接下来举例说明： 对于独裁者社会来说，就是社会偏好被迫服从一个个体的偏好。 $$ x\\succ_{h}y\\quad\\Rightarrow\\quad x\\succ y $$ 多数票制就是少数服从多数的映射，按照同类个体偏好的加总进行比较。 $$ N(x\\succ_{i}y)\u003eN(y\\succ_{i}x)\\Rightarrow\\quad x\\succ y $$ $$ N(x\\succ_{i}y)=N(y\\succ_{i}x)\\Rightarrow\\quad x\\sim y $$ 梅伊定理（May）: 社会福利泛函是多数票的充分必要性是以下三个性质： 多数票的匿名性是同一偏好内部的序列标识 $i$ 可以互换； 中立性表现为每个人票的权重是一样的； 正响应性表现为社会偏好改变方向和某些个体的偏好方向变化相同。 多数投票的想象很美好，但现实的投票会遇见各种问题，详细可查看“投票悖论”(又叫孔多塞悖论）。 由于偏好是基于序数效应论，是比较出来的。有可能出现下面这种无限循环的比较情况。现实投票更加复杂，例如美国大选摇摆州是关键，见风使舵、打击报复的心态也会影响投票结果。 来源维基百科\r因此，我们需要设置社会福利泛函的公理条件： 无限制性：每个个体偏好都能得到社会偏好（社会偏好至少满足传递性和完备性） 非独裁性：补充：匿名性原则的限制比非独裁性的约束还要强。 帕累托原则：$\\forall i\\in A, x\\succ_{i}y \\rightarrow x\\succ y$ 独立性：$\\forall x, y\\in X$ 当 $x\\succ y$ 成立时，任何 $i\\in I$ 在 $\\{x, y\\}$ 补集上的偏好不影响此时的社会偏好结果 $x\\succ y$ 。独立性其实为了使得模型更加简洁，让投票者考虑的信息局限在当前选择之类，这一约束比中立性约束更弱。 此时我们可以提一种投票方案——博达计数方案。 核心就是排序，每个人按照从 1 到 n 的顺序对每一个选项排序 $c_i(x)$，越好越靠前， 最后将每个选项的顺序加总。 $$ c(x)=\\sum_{i=1}^{n}c_{i}(x) $$ 总数越小，社会偏好越靠前。 $$ c(x)\u003cc(y)\\quad\\Leftrightarrow\\quad x\\succ y $$ 看起来很靠谱？但是博达计数方案违背了独立性： 为了讨论独立性，我们引入第三个选择 $z$ 假设有两个个体，有如此偏好： $$x\\succ_1z\\succ_1y,\\quad y\\succ_2x\\succ_2z$$ 两两排序比较进行计数： $$ c_{1}(x)=1, c_{2}(x)=2\\quad\\Rightarrow\\quad c(x)=c_{1}(x)+c_{2}(x)=3$$ $$c_{1}(y)=3, c_{2}(y)=1\\quad\\Rightarrow\\quad c(y)=c_{1}(y)+c_{2}(y)=4 $$ 于是得到社会偏好 $x\\succ y$。 但是假设我们改变 $z$ 在其中的顺序： $$ x\\succ_{1}y\\succ_{1}z,\\quad y\\succ_{2}z\\succ_{2}x $$ 得到如下计数： $$ c_1(x)=1, c_2(x)=3\\quad\\Rightarrow\\quad c(x)=c_1(x)+c_2(x)=4 $$ $$ c_1(y)=2, c_2(y)=1\\quad\\Rightarrow\\quad c(y)=c_1(y)+c_2(y)=3 $$ 社会偏好 $y\\succ x$ 竟然发生了逆转！ 从直觉上，个人感觉可以如下理解。博达计数方案不满足独立性的原因是它是基于排序记分，这种排序分数的一部分解释实际衡量的是 x、y 相对于 z 的偏好分数。 ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:2:1","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"阿罗不可能定理 ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:3:0","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"决定性集团 我们对于集体决策有很多期望，于是我们会思考，有没有投票方式能满足我们所有诉求？阿罗不可能定理证明的是——选项大于等于 3 时，这种期望不可能。 决定性偏好是指，特定情况下，部分群体拥有话语权会左右社会偏好。 集团 $K \\in I$ $$ \\forall i\\in K, x\\succ_iy;\\quad\\forall j\\in I\\cap K^c, y\\succ_jx\\quad\\Rightarrow x\\succ y $$ 也就是 $I$ 中分为 $K$ 和 $I\\cap K^c$ 两种偏好立场，即便他们观点相反，但可能最后社会偏好反应的其实是 $K$ 的偏好。 美国大选摇摆州。 刚好平票的时刻，最后一票量将成为质变的岔路口。 明星表态和跟随明星的粉丝。 当集团 $K$ 的偏好直接决定了选项 $(x,y) \\subset X$ 的社会偏好，则 $K$ 是社会福利泛函下的一个决定性集团，记作 $D_K(x,y)$。 再次补充：此处泛函是空间到空间的映射，由于 $K$ 决定了社会偏好，此时该集团的偏好就是个体联合偏好空间到社会偏好的映射。自然，当 $K$ 只有一个人时，就是独裁。 同时满足无限制性、帕累托原则、独立性时，决定性集团有以下性质： $(x,y) \\subset X$ ，有决定性集团 $D_K(x,y)$，则当 $(u,v) \\subset X$ ，也有 $D_K(u,v)$ $K\\subseteq I,J\\subseteq I$ (符号含义是包含于或等于)都为决定性集团，则 $K\\cap J$ 也是决定性集团。 任取 $K\\subset I$，$K$ 和 $I\\cap K^c$ 中必有一个决定性集团8。 $K\\subset I$ 是决定性的，$J\\subset I$ 是任何包含了 $K$ 的集团，$J\\subset K$ ，则 $J$ 也是决定性的。 $K\\subseteq I$ 是决定性的，且成员数量大于 1，存在真子集 $J\\subset K$ 为决定性的。 关于这些性质的证明此处不再记录。 ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:3:1","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"阿罗不可能定理 这是阿罗的博士论文…… 定义：选择数量不低于 3（比如美国大选其实是两党制，用不上），不存在同时满足无限制性、非独裁性、帕累托原则、独立性的社会福利泛函。 关于其证明其实就是运用下面的性质： $(x,y) \\subset X$ ，有决定性集团 $D_K(x,y)$，则当 $(u,v) \\subset X$ ，也有 $D_K(u,v)$ $K\\subseteq I,J\\subseteq I$ (符号含义是包含于或等于) 都为决定性集团，则 $K\\cap J$ 也是决定性集团。 任取 $K\\subset I$，$K$ 和 $I\\cap K^c$ 中必有一个决定性集团8。 $K\\subset I$ 是决定性的，$J\\subset I$ 是任何包含了 $K$ 的集团，$J\\subset K$ ，则 $J$ 也是决定性的。 $K\\subseteq I$ 是决定性的，且成员数量大于 1，存在真子集 $J\\subset K$ 为决定性的。 例如，证明满足无限制性、帕累托原则、独立性的社会福利泛函一定是独裁的： 社会整体 $I$ 可以被看作一个决定性集团，基于性质 5 可以无限套娃分解为一个。接下来有利用性质 2 对选择进行偏好分类，验证这个个体确实相对于其他选项属于独裁。 推荐参考： 当民主遇上逻辑——阿罗不可能定理 - 遥远地方剑星的文章 - 知乎 阿罗不可能定理（Arrow’s impossibility theorem） 」为什么反直觉？ 已知阿罗的不可能定理的前提下，微观经济学为什么还要研究社会福利函数？ 个人理解： 可以把阿罗不可能定理的这个独裁证明看作“量变到质变”的最后一票。 但理解需要更深一些： 记住：阿罗不可能定定理研究的是个体偏好空间到社会偏好空间的映射。 因为阿罗要解决的是个体偏好空间到社会偏好空间的最好映射，最理想的民主就是不存在那“质变一票”。 人人绝对平等，通过排序参与而不是基数效应加总。当然，早就有定理证明了序数与基数偏好的转化存在性。 假设人人都在未知的情况下一次性投票，总会有一个人的偏好决定了（即便他不知道自己属于这场游戏的独裁者）全社会的偏好，于是投票是独裁的。也就是说，此时映射并不是理想的，也不能真正反应大部分人的偏好。 假设多阶段博弈，人们可能基于打击报复的心态改变自己的投票，自己的偏好改来改去，此时违背了独立性假设，都为了胜利更改初心了，也就更没有真正反映出最好的映射了。 归根结底，阿罗不可能定理想要证明的是这种观点——个人偏好映射为社会偏好困难重重。 ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:3:2","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"放宽假设 一种证明是参与者为正无穷时，阿罗不可能定理有解，但似乎并不像计量一样能搞渐进性。 放宽无限制假设，限制只有单峰偏好，没有多峰偏好。 单峰偏好：如果选民偏离其最满意的结果，不论偏离的方向如何，其效用是下降的。 双峰偏好：如果选民偏离其最满意的结果，其效用先降后升。 其实就是把投票悖论（孔赛多悖论）的情况排除掉。 单峰偏好在连续封闭区间内需要是凸偏好。 单峰偏好（来源：《高级微观经济学（第二版）》（蒋春殿）），多峰就是其中的三角形倒过来\r","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:3:3","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":"陶哲轩的证明 证明思路 阿罗不可能定理有很多种证明思路。 中级微观的一般介绍的表格排序。 还有一种常见的是简化为二维坐标图研究偏好区块。 高级一般会选择泛函与集合论的证明，也就是本文的证明。 陶哲轩也曾给出过自己的证明： 陶哲轩的证明 解析可以参考： 阿罗不可能定理的证明（via 陶哲轩) 高等概率论老师曾评价到——他为陶哲轩把部分精力放在非世界级难题上的做法感到惋惜😂。 这种讨论第一性的问题，我觉得都非常有意思。 ↩︎ 广场、国防安全这类面向公众的，所有人都能享受（非排他性），且多一个人不影响质量的（非竞争性）的供给需要政府支持。 ↩︎ 假设我们不知道我们要投胎到哪个社会，我们往往假设自己总投胎到最坏的社会，这种情况下社会福利的最好标准是最小值。 ↩︎ 其他我知道的还有戏剧舞台论、自我映射论 ↩︎ 社会选择理论提出者，诺奖得主布坎南（Buchanan）很欣赏杨小凯，因此杨小凯才被誉为最接近诺贝尔经济奖的国人。 ↩︎ 交叉到博弈论、信息不对称。我们选举出的代表人和我们处于信息不对等的地位，我们不能使用权力契约描述这种情况，使用代理人更加客观。 ↩︎ 官员是为了自己的晋升制定地方发展政策，因此注重基础设置这种有形的投入而非人力资本这种无形资本，同时大力举债，和对手相互较劲。提出者是北大的周黎安教授。 ↩︎ 假设排除了平票、循环的情况，自然无论怎么分总有一方的集体偏好决定了社会偏好。 ↩︎ ↩︎ ","date":"2024-11-17","objectID":"/zh-cn/posts/shxz/:3:4","tags":["制度经济学","微观经济学"],"title":"制度、政治、民主与阿罗不可能定理","uri":"/zh-cn/posts/shxz/"},{"categories":["经济学习"],"content":" 最近的学习感想。这些感想来自课堂、互联网、老师、同学、学长学姐交流。感谢这段时间和 lw 同学的交流，像回到了初中的日子😀。 以下总结虽来自课堂、老师、学长学姐、互联网，但都凭借个人喜好有所裁剪、整合、评论，并不反映每一个人的真实看法，如有错误，责任在我。 强调：数据、方法、思想相辅相成，其实不存在矛盾，只是同时达到好的标准的可能性很低。 经济学的自负 我非常赞同小学同学 cj 的看法——对于任何一门学科，不是因为我们喜欢而选择了这门专业，而是深入学习后自然会找到奥妙之处，然后爱上 1。学科深处皆有奥妙而非生来吸引，只是学习让我们有了更强的价值基底，看到的世界变得些许不同罢了。 不过，个人还是比较庆幸选择了经济学专业。人文社科中，经济学学术训练相对更完整。分析上，经济学论文是 社会学理论分析 + 数学仿真建模 + 统计数据实证检验 的三合一。思想洞见试图靠近政史、逻辑严密表现为数学公式，观点论证经过统计打磨。 即便曾是文科生，借助经济学，也可相对连贯地接触到以下知识： 数学：测度论、泛函、实分析…… 计算机：文本处理、图像识别…… 统计学：计量因果推断 其他人文：哲学、历史、文学、社会学、政治学…… 如今，实证主义成为科学范式潮流，除去理论霸权外，经济学通过计量方法论构建起了更为坚固的帝国主义。例如量化史学、量化社会学（最主要的是人口学问题）、经济人类学…… 这也带来了许多问题——滥用数理、理论思想相对匮乏、学科界限模糊、培养方案参差不次、缺乏实用…… 现在有些尴尬的趋势—— ","date":"2024-11-14","objectID":"/zh-cn/posts/fs3/:0:0","tags":["反思"],"title":"经济学的自负：最近的一些想法","uri":"/zh-cn/posts/fs3/"},{"categories":["经济学习"],"content":" ❓预测还是寓言❓ 经济学曾以预测为己任，但计量经济学的因果推断范式基于条件期望，希望通过外生事件检验因果关系，很难实现真正的预测。 宗教能做到预测吗？经验事实能做到预测吗？他们诞生自经济学之前，只负责解释而非预测。 退一步来说，大家希望理清变量间的因果关系，然后结合现实达成预测。由于现实的复杂性和模型的抽象性（或者说简洁性），其实计量实证无法真正终结理论的争议。 我还听说过另外一种观点，所有的计量都在为世界大模型做准备，计量都是独立分析一个微小变量，但是无数文章加起来能描述整个世界。 即便一个理论被暂时证伪，我们可以说是数据的局限，统计方法的局限，历史环境的局限。 于是，经济学因果分析的主题来到了另外一个层面——寓言。既然我们都不知道一个理论对还是错，那么标准便成了启发性。例如政府起源是什么？社会契约、集体演化趋势、代理人、公共物品提供者…… 理论数不胜数甚至互相矛盾，但不影响每个观点影响深远，因为启发性足够高。 经济思想史老师就曾在课上强调——经济学是一片混沌，对和错并不是最重要的。 关于经济学本质或许是说服人的学科——可参见另一篇博客《经济学的修辞》读后感。 ","date":"2024-11-14","objectID":"/zh-cn/posts/fs3/:0:1","tags":["反思"],"title":"经济学的自负：最近的一些想法","uri":"/zh-cn/posts/fs3/"},{"categories":["经济学习"],"content":"❓数理方法还是思想洞见❓ 大部分人写的经济学论文都是计量实证论文。低层次实证论文一个尴尬的点在于——代码操作和数理理解是可以分开的。 我们可以在对深层数理一无所知的情况下直接调用代码（前提是至少掌握模型适合用在什么地方）。如此一来，一个尴尬的问题是，如果我们不把数理统计原理学到极致，产出差距微乎其微。一个学了 60% 数理统计底层逻辑的研究生和只学了 30% 的本科生，论文技术差距几乎没有。 所以很多人会怀疑三高的课程作用。学习到运用的路太过漫长。 故而，大家总自嘲 reg monkey。 高计课程老师说学科前沿不在简约式而在结构式和机器学习（回归预测的学科追求）2，他在会议上看到大部分人的文章几乎没有差别。OLS 的普及已经非常可怕，2023 年的丘成桐高中学科竞赛就很多人做 DID 了，甚至有高中生用 OLG 模型。 那我们不卷数理统计，卷思想洞见吗？当然有很多人只用 OLS 就写出了天才之作，但现在已经远远不够。例如 2024 年诺奖得主 Daron 的代表作《比较发展的殖民起源：实证调查》，简单 OLS+IV 论证殖民的贡献，思想深刻，启发性高，但如今也备受质疑。同时，简单方法绝妙结果的文章选题需要天赋3。 这里的天赋是指偶然性太多，尚没有系统性的，可重复的路径。 于是经济学关于选题立意（黑话是 idea ）有了大量中英夹杂的黑话： 学术名词还好，来点学术交流的黑话—— 培养学术 taste、这个地方可以 argue 一下、强调 intuition、不够 noval、contribution 在哪里、工作不够 clean、你的问题有点 toxic 了、讲好 story 最重要…… 个人看法是，过度使用中英夹杂（术语简称除外，例如 GPT、EVA、DID）并未让对话更简洁明了，标签化的词语实际上减弱了可读性和具体性。 所以就三条路： 卷思想洞见：玄学。如果别人一句 taste 评价完毕，则毫无交流空间。 卷数理方法：不鸣则已，一鸣惊人，但易半道崩殂。 卷数据：大家把自己的数据藏着掖着，失去开源共享的精神，背后是无数数据收集和清理的血汗。但这是目前最实际的路。 看过一个绝妙的比喻： 数理方法+思想洞见：内功之法，漫漫苦修，积累门槛，结果未知。 数据速成+代码能力：剑宗之法，可速成，门槛低，看机缘。 ","date":"2024-11-14","objectID":"/zh-cn/posts/fs3/:0:2","tags":["反思"],"title":"经济学的自负：最近的一些想法","uri":"/zh-cn/posts/fs3/"},{"categories":["经济学习"],"content":"❓数学学多少❓ 几个问题？经济学需要哪些数学？如何学习数学？数学在经济学中的定位是什么？我问过很多学长、老师。他们的回答都相当类似。 学多少？ 这里先划一个尽量大的范围，并不是说必须学，是取国际上最顶尖的学者们数学基础的并集。 看自己的领域，最好尽早确定方向。主流大致上分为微观、计量、宏观，不同方向需要的数学厚度不同（思想史和经典马政经除外）。本科数理三件套无论哪个方向都得学扎实了，深了的包含：测度论、实分析、偏微分、凸优化、动力系统、离散数学…… 更细一点的排序4： 微观理论 = 计量经济学理论 \u003e 宏观理论 \u003e 贸易 \u003e 劳动 = 发展 \u003e= 其他应用领域，如健康、环境…… 如何学？ 很多人为理解一个小概念而系统地补数学，这不现实5。考虑到申博、发表、教职压力越来越大，最务实的方法是： 干中学。借助代码学习计量；借助论文学习模型。 边学边补。不要试图系统地啃完数理体系，而是边看边补。 对比领悟。无论是代码软件还是数学领域，其实很多地方都有交叉之处，要学会对比交叉，举一反三，加快学习节奏。 老师前辈们的分享非常真诚，但个人认为这个观点存在选择偏差。所有的前辈学长都是在经历过严格优质的课堂教育后，才觉得可以干中学与自学。从因果推断的角度上讲，他们的反事实能否用来衡量我们的处境呢？如果一个学校没有这种培养方案呢？个人感觉即便课程质量不佳，但学校系统性的课程是我们自学的启蒙课。 以下是个人看法： 别忽视学科史和教材目录！ 就我个人体会来说，系统补其实是最好的路。知识点太散，会不成体系，即便干中学补完也无法联系起来。就像数理基础不扎实，即便学了三高也是机械背题，做完题，却无法领悟思想，更无法用来分析现实，其实是本末倒置。 只是人生苦短，系统补完效率实在太低。 个人目前想法是——学科史是知识的脊梁骨。一定要把学科史（理论史和方法史）了解完善，这样我们才有机会把干中学的点连成片，清楚地知道自己学了哪些，不知道哪些，未来需要攻克哪些。 举个例子——我们学计量经济学，去图书馆，看归类好的教材，我们首先要理解的不是教材，而是前言和目录，去理解教材组织者为什么这样排序。 Green 版本的计量目录顺序是模型假设的严格程度。 Wooldridge 的计量目录是数据结构。 Angrist 的计量目录是反事实推断的引入顺序。 Hayashi 的计量统一在了 GMM 框架之下。 目录和前言包含了这些大师对计量发展史的理解。 我感受最深的地方是——学科史的知识储备决定了自己对学科的认识程度。 就我个人学习计量的理解路程来说： 初级计量时以为计量就是最小二乘；看了《the book of why》后觉得计量的机制设计代表了因果推断，计量的浅层理解是拟合，深层理解是反事实的对照实验。 然而，直到学了高级计量，我才发现，真正的学科发展是一段漫长的史诗： 因果推断是哲学（怎样构造证据让我们觉得结果是可信的）——如何认识概率（频率学派 vs 贝叶斯（主观\\客观））——统计方法—— 计量只是一种流派——计量不只是 OLS（还有参数估计的 GMM，MLE 和非参数估计）。核心也不是所谓的拟合，而是样本和总体之间的偏差推断。LR LM WALD 三大检验也不只是方法，还是检验思想！ 同样，了解经济从价值分析转价格分析；从预测任务6转因果分析小故事也会影响我们的学科价值判断。 本科学数学研究生学经济，对比本科学经济研究生学经济，大家对经济学的学科本质认识其实是非常不同的，学科史的储备会影响我们对学科的看法。 国外的大师会把这些学科认识融入课堂，但是在国内，不照本宣科已经是顶尖学校才有的待遇了。 比如 Daron 的《微观经济学》——虽然是初级级别，但前言并非强调经济学是最优化，而是假设人们总是在试图最优化！而最优化受限于当前的认知和方法，因此他在微观经济学的介绍中无缝引入了因果推断！ 数理化趋势明显，国内政治经济学7却没啥发展。从学科史角度看，个人认为国际上经济学是学科概念、思想、方法革命三头齐头并进，而国内政治经济学只有思想革命8，没有学科概念革命、方法革命。 就像王小波讨论过的例子——一些人总认为红楼梦包容了万象，甚至到未来出现的新事物也要用这一套。他们一辈子钻进去不出来，这也就算了，后面还闹起来，说要指导科学，这就不妥了！（此处完全来自个人解读，只例子借用王小波评红学与国学） 数理方面经济学的学习讨论太多了，每个经济硕博生几乎都会在社交媒体分享自己学三高的一些心路历程，但是对于人文社科阅读厚度的训练，却少有人谈论。时刻警醒——不要忽视阅读厚度的培养。 如果是经典马政经，和马院相比，比较优势何在？ 如果是纯数理狂魔，和数院相比，比较优势何在？ 如果是纯历史分析，和史院相比，比较优势何在？ 如果是纯统计分析，和统计学相比，比较优势何在？ 以上问题是理解统计、数学、纯理论结合的一种思考角度。 数学是经济学比较优势的工具，应从经济现象的直觉描述和分析工具去积极使用和把握，应该重视，但不可盲目迷信。 实际上作为学生，应该逐渐摸索适合自己的结合风格，规划学习路径，而不是盲目地求全部掌握。 ","date":"2024-11-14","objectID":"/zh-cn/posts/fs3/:0:3","tags":["反思"],"title":"经济学的自负：最近的一些想法","uri":"/zh-cn/posts/fs3/"},{"categories":["经济学习"],"content":"❓关于论文创新❓ 从这几年的诺奖（不只是经济学，自然科学也是）可以看出，现在基本没有开宗立派的大师了9，大家都是边际贡献。确实如计量老师所言：没人做大圈子，生存也就越来越困难10。 那么三高呢？其实只是研究的入场券，真正的理论需要在三高的基础上追赶学界。为什么聊三高呢？看到过知乎上激烈的讨论： 做学术需要搞清楚高级计量经济学里全部的数学原理吗？ - 知乎 领域顶刊，虽然困难，但能做到只靠数据和选题成功发表。 五大顶刊——不懂深层理论不可能发表11。 论文的边际创新主要来源哪些？ 个人认为的边际贡献可以归结为： 计量理论（简约模型） 数理模型（结构模型） 数据整理挖掘 研究对象的扩展：老师跟我反复强调，就事论事是相对低级的论文选题，因为文章仅仅是把个例说清了。不过此处我将其归结为研究对象的一种低级扩展。扩展研究对象也有层次之分。劳动经济学从个体扩展到家庭；交叉学科（复杂经济学非均衡、行为经济学非理性、数字经济非实体），其实都可以看作研究对象的扩展。如果能发现一个现象，其实也是一件相当了不起的事情！虽然争议很大，但数字经济这类概念无疑养活了很多人的。活下去，很重要。 现象解释（规律性理论）： 其一，发现规律。 听讲座时，《世界经济》编辑强调现象解释，而老师也强调论文重要的是规律提炼，例如《【什么样的文章是好文章？】标准一：借事说理v.s就事论事》。也有说法是大家的选题其实一样烂，只是好教授能包装选题，升华视角——其实就是发现现象背后规律的眼睛。越是以小见大，越是窥天之才。 其二，检验规律。 使用数据检验两种相互矛盾的理论。这部分是为了凸显自己文章的现实意义和趣味性。 社会科学与科学 一个科学问题——理论科学究竟是发明还是发现。 就理论而言，自然科学和社会科学的最开始的环节似乎都是认识规律。 从什么现象，认识到了什么规律，才是关键。 我可以从一个现象认识到不同的规律，也可以从不同的现象提炼出同样的规律。 识别策略（回归设计的思想）：这个是巧妙地回归设计，通过巧妙的对照实验识别出不可测要素，为更多人提供回归设计思路。比如联系专利数据与创新、灯光数据与发展、还有使用遥远的历史因素作为工具变量。 我非常喜欢《上帝的审计: 四川地震中的家园联系和建筑物损坏》这篇论文。使用地震中的数据，发现当地官员与他们的上司有家乡联系的时候，建造的建筑比没有这种联系建筑倒塌可能性高 75%12 。这启发了我们可以通过自然灾害来测量工程腐败。 其他例子，参见： 实证经济学：符合直觉≠显而易见 1、2 考验数理基础；3 考验工作量；4、5、6 考验经济直觉。五大顶刊的论文需要在基础、工作量、直觉三方面经历考验。 这部分感悟来自《实证经济学：审稿经验》 对于大师的文章趋势，我越发觉得现在的论文和学科发展一定是有趋同趋势的。从古典到新古典综合，其实宏观和微观是相互结合的过程，论文同样。宏观研究要有微观基础，微观研究要有宏观背景。所以我完全赞同计量老师的话——研究从大处着眼，从小处着手。 ","date":"2024-11-14","objectID":"/zh-cn/posts/fs3/:0:4","tags":["反思"],"title":"经济学的自负：最近的一些想法","uri":"/zh-cn/posts/fs3/"},{"categories":["经济学习"],"content":"❓关于项目管理❓ 现在都讲究团队作战，我的几位老师都劝告大家多社交、多找合作者。 不过团队有大有小，我想说的是自己的小项目也需要项目管理。一个业界谜题——为什么郭帆能从《同桌的你》到《流浪地球》，主流看法是项目管理；中国资金充足，为什么以前没有做出 3A 大作，主流见解是市场规模和项目管理。 思考如何优化自己的代码，让清洗代码可复用性增多。其实有了 program、local、global、forvalues 命令后，stata 花活也很多。 处理大数据，分割-合并-传递，里面的项目管理的坑其实非常多。如果团队没有成熟的管理经验和流程管理，沟通和信息传递有时非常低效，如果团队曾做过大数据项目，这些经验其实非常宝贵！这大概就是业界标准吧。 ","date":"2024-11-14","objectID":"/zh-cn/posts/fs3/:0:5","tags":["反思"],"title":"经济学的自负：最近的一些想法","uri":"/zh-cn/posts/fs3/"},{"categories":["经济学习"],"content":"❓个人感想❓ 高山仰止,景行行止,虽不能至,然心向往之。 现在这个环境，越向上看越会让人绝望。分层越来越明显，年龄限制越来越狠，国际上的同龄人成长越来越快，虽然有互联网，但很多思想不面对面沟通很难真正领悟，知识以外的经验也应被重视传递，不然差距越来越大。 最后，作为坚定的存在主义者——滑翔闪有云： 好好活着，比什么都重要。我相信当代有志于学术的同学，都是自我 pua 和拼命的高手，互联网渲染下，形式多紧张，大家都清楚，所以在这种环境下，我们需要减轻焦虑。反正没谁有开宗立派的机会了😆（诺奖贡献就可以看出），不如享受学习的过程，比如好好感受被因果分析更改世界观那一刹那的欣喜。 之前颈椎出过问题，我才发现人体有多脆弱…… 也见过膝盖、腰出问题的学长或同学，请一定一定要珍惜身体健康！个人建议是把了解世界的的成就感放在创造价值的成就感之上，这样就不会过于焦虑缺少成果的正反馈。 滑翔闪有云： 要知道，目前大部分创新乃生活所迫而非本心也。 不妨再想想，自己是否把幸福标准建立在规则制定者的阴影中了？ 为自己的生存努力时，代价绝不能是自己的生命本身（自相矛盾）。 一件遗憾的事情，创新的欲望不等于创新的能力。我很渴望一下子憋出来一个大活儿，实际上不可能。好论文极有可能是基于坏论文修改过来的，既然最重要的是挖掘现象背后的规律，那么想到的现象好坏不代表论文理论的好坏。行动和尝试是第一要义，主动沟通13是第二要义，第三要义是乐观积极，养我浩然之气。如果产生冲突，我们无理由遵循第三条🥰。社会科学就是要保持自己具有前瞻性的道德观！ 保持对世界的好奇是一切研究的开始，别把人生 100%地寄托在一片狭小的纸面上。对世界好奇是科学的动机，在此之上，是对世界的一种热爱和肯定。因为热爱，所以愿意去了解。因为了解，所以更加热爱。 大部分人都是在对学科了解不透彻的情况下做到选择。 ↩︎ 个人其实更相信经济学依旧需要\"可解释性\"而不是机器学习的黑箱子，个人也更认同经济学是尝试分析现象而不是预测事件。预测只是分析现象的附加结果。 ↩︎ 整活不也是一种天赋吗？想想 b 站爆款视频，大家都会玩的梗，但总有人用简单的素材组合出让人眼前一亮的抽象视频。 ↩︎ 此处排序来自史震涛老师的知乎回答 ↩︎ 个人认为只是在国内不现实。 ↩︎ 个人觉得预测太复杂，不应由经济学独立承担。 ↩︎ 这里指社会主义理论 ↩︎ 个人认为邓小平之后没有很大的思想革命了。邓小平是突破了公有制＋计划的发展路线，把公有制和市场经济结合在一起，而之后的社会主义本质理论都建立在其本质概括之上。 ↩︎ 感慨高级计量课上老师的观点——现在没人去把蛋糕做大了。 ↩︎ 要么来一个大师做大学界的圈子，要么来技术爆炸做大生活的圈子。 ↩︎ 里面血汗也不少，顶刊一个稳健性的工作量不知道多少的工作量。 ↩︎ 这种文章造假总是比较昂贵的 ↩︎ 并非全然是学术交流，和好朋友谈心也是保持心理健康的良药。 ↩︎ ","date":"2024-11-14","objectID":"/zh-cn/posts/fs3/:0:6","tags":["反思"],"title":"经济学的自负：最近的一些想法","uri":"/zh-cn/posts/fs3/"},{"categories":["经济学习"],"content":" 计量：事件研究法 1 计量：事件研究法 2 计量：事件研究法 3 本文是《An Introductory Guide to Event Study Models》的代码学习记录，第三部分要解决的是 stata 的代码部分。 本文将介绍 coefplot、eventplot、eventdd、 cnreg 命令在事件研究法中的画图代码。 先来点锐评\r","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:0:0","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"简单回顾事件研究法的概念 从操作上上讲：回归一般估计的是平均处理效应，而事件研究法就是把平均效应按照时间切片。 从统计意义上讲：每个虚拟时间段就有了个系数，连起来就是平均处理效应的动态变化。 平均估计： $$ y_{ij}=\\beta X_i+\\underbrace{\\alpha_{i}+\\delta_{i}}_{\\text{面板固定效应}}+\\underbrace{\\beta\\cdot X_{ij}}_{\\text{ 控制变量}}+\\epsilon_{ij}. $$ 时间切片以后： $$ y_{ij}=\\underbrace{\\left(\\sum_{j\\in{-m,\\ldots,0,\\ldots,n}}\\gamma_{j}\\cdot D_{i,t-j}\\right)}_{\\text{事件时间虚拟变量}}+\\underbrace{\\alpha_{i}+\\delta_{i}}_{\\text{面板固定效应}}+\\underbrace{\\beta\\cdot X_{ij}}_{\\text{ 控制变量}}+\\epsilon_{ij}. $$ 平行趋势检验只是事件研究法的特例。比如 A、B 两个县城，A 县城实施了乡村振兴，B 没有，然后 A 富起来了。 我们不能轻易地说就是乡村振兴导致了 A 县城富起来——例如 A 县可能条件本来就得天独厚——风景很美、土质肥沃、矿产资源丰富…… A 和 B 一直都有发展差距。为了验证在乡村振兴以前 A、B 两个村子的数据是几乎相等的，这样 DID 的事件对两个县城来说才是外生的。 简单来说，平行趋势是想论证——实验组和对照组在事件发生以前几乎没差异。 村庄在事件发生以前的遗漏变量会导致内生性\r顺便一提——面板数据一般默认使用双向固定，三期以上的平行趋势检验的系数偏差一直是研究热点。 核心纠结点在于异质性的分解，有些变量有时间趋势，而有一些没有；事前趋势形状不同，约束也应当不同。 但真正运用时，这些总体情况也没人知道。 ","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:1:0","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"顶刊的事件研究法运用 在我读到的 top5 期刊论文中，已经有一个趋势——能用图展示的都加上图表。因此事件研究法的运用已经越加频繁。 比如可以参考博文《政府一次性投资与制造业长期增长》 这里举我喜欢的论文其中灵活运用事件研究法的例子。 JDE 的《English language requirement and educational inequality: Evidence from 16 million college applicants in China》使用事件分析法，论证英语听力考试加剧了城乡教育不平等。 里面通过事件分析法展现了高考学生分层的异质性——从 985 到一本录取率，影响效果越来越大。 JDE《English language requirement and educational inequality: Evidence from 16 million college applicants in China》\rQJE 的《The Long-Run Impacts of Public Industrial Investment on Local Development and Economic Mobility: Evidence from World War II》使用事件分析法，论证冷战时期，美国分散建厂提升了当地儿童的未来工资。 通过多变量更换的动态比较，可以看出当地公司数量没怎么变，但就业人数增长明显，因此是规模效应导致的就业提升而不是企业数量增长。 QJE 的《The Long-Run Impacts of Public Industrial Investment on Local Development and Economic Mobility: Evidence from World War II》\r后面还通过人口流动面板论证了工资提升来自本地工作待遇提升而非人力资本提升或者迁入效应。 ","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:2:0","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"Stata 代码 以下示例数据为中国工业经济的《创新驱动政策是否提升城市创业活跃度——来自国家创新型城市试点政策的经验证据》。 其实我也想用自己收集的数据举例子，奈何一个也不显著！ 🤧 数据都在官网附件中，直接进去下载即可。这篇论文也应该是国内较早公开整个双重差分流程代码的论文。城市面板数据用来学习任何代码都好使。 ","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:3:0","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"平行趋势检验的两种方式 coefplot 命令 coefplot 命令可以获取回归系数，我们只需要生成时间虚拟变量，进行回归，然后通过命令储存系数然后画图即可。 步骤概括： 定义面板数据 设置事件时间，年份减去事件时间，然后依次生成对应时间切片的虚拟变量 回归 储存系数，画图 clear all use \"F:\\桌面\\事件研究法发学习代码\\数据.dta\", clear xtset city year *生成相对时间变量di当年年份-改革年份 gen di = year - branch_reform sum di //目前是-14到10期，太长，可以缩短窗口期，可以缩短或者合并 *去掉或者合并两段的数据 replace di = -10 if di \u003c -10 replace di = 10 if di \u003e 10 *生成提前到虚拟变量d_1和d_10 forvalues i = 1/10{ gen d_`i'=(di==-`i') } *生成提前到虚拟变量d1和d10 forvalues i = 1/10{ gen d`i'=(di==`i') } *回归 xtreg entre_activation d_2-d_10 d1-d9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di , fe r xtreg entre_activation d_2-d_10 d1-d9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di , fe r #delimit; //自定义换行符号，也就是;才是换行。这样便于画图命令。 ; coefplot, baselevels keep(dd_10 d_9 d_8 d_7 d_6 d_5 d_4 d_3 d_2 d1 d2 d3 d4 d5 d6 d7 d8 d9) order(d_10 d_9 d_8 d_7 d_6 d_5 d_4 d_3 d_2 d1 d2 d3 d4 d5 d6 d7 d8 d9 ) vertical // 转置图形 coeflabels( d_10=-10 d_9=-9 d_8=-8 d_7=-7 d_6=-6 d_5=-5 d_4=-4 d_3=-3 d_2=-2 d_1=-1 d1=1 d2=2 d3=3 d4=4 d5=5 d6=6 d7=7 d8=8 d9=9 d10=10 ) yline(0, lwidth(vthin) lpattern(dash) lcolor(teal)) xline(8.5, lwidth(vthin) lpattern(dash) lcolor(teal)) ylabel(, labsize(*0.85) angle(0)) xlabel(, labsize(*0.75)) ytitle(\"coefficients\") xtitle(\"Time\") msymbol(O) msize(small) mcolor(gs1) // 点样式 addplot(line @b @at ,lcolor(gs1) lwidth(medthick)) //连线 ciopts(recast(rline) lwidth(thin) lpattern(dash) lcolor(gs2)) // 置信区间样式rarea rline rcap graphregion(color(white)); // 底色设置 #delimit cr //还原换行符号 coefplot 命令\rEventdd 命令 Eventdd 命令可以一步到位画图，参照下面代码输入对应参数即可。 Eventdd 后面直接跟变量就是对应的回归。 clear all use \"F:\\桌面\\事件研究法发学习代码\\数据.dta\", clear set scheme white_tableau xtset city year #delimit; ; gen di = year - branch_reform; eventdd entre_activation i.year lnagdp indust_stru finance ainternet market, timevar(di) //定义时间虚拟变量 ci(rcap) //误差条 noline //不绘制-1期的置信区间条 method(fe) //如果要添加自相关聚类——method(fe,cluster(自相关聚类)) baseline(0) //基础年份为0 level(95) graph_op(ytitle(\"coefficients\") xtitle(\"Time\") xlabel(-10(2)14)); // 取消自定义换行 #delimit cr Eventdd\r","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:3:1","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"关于平行趋势的回归提示 我选择的回归式子是： xtreg entre_activation d_2-d_10 d1-d9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di , fe r 其中 i.city#c.di 是额外控制了每个个体的时间趋势（时间效应分解的是截距，这里分解的是斜率）。 舍去了 d_1 期，一方面是省略做基准值，另一方面也可以避免共线性。 有些文章会减去系数均值，让图看起来更美观，但并非必要操作。 平行趋势虽然偏差争议大，但是不做上面几点也没人仔细关注，只是做了可能更好。 ","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:3:2","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"有约束的回归 参照《An Introductory Guide to Event Study Models》的代码，我们可以对回归加上约束。 使用 cnsreg 代码即可。在 计量：事件研究法 2 中我已做过说明。在 coefplot 命令中将回归换成有约束的回归即可。 constaint 命令设置约束条件，在回归中加 c (1-5) 就是把五条约束全部加上去，你悟了吗? constraint 1 d_1=d_2 //对应系数相等 constraint 2 d_2-d_1=d_4-d_3 //对应斜率相等 constraint 3 d_1=d_2*0.5 constraint 4 d_1=d_2+d_2 cnsreg entre_activation d_2-d_10 d1-d9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di , c(2) r ","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:3:3","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"同一个图上展现多组回归系数 twoway 命令也可以做到，但是太麻烦，所以这里不再介绍。 Coefplot 命令 还是使用 coefplot 命令，其他参数依旧可以添加——但是无法设置线条参数（addplot）。 // 运行第一个回归模型 xtreg entre_activation d_2-d_10 d1-d9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di, fe r estimates store model1 // 保存第一个模型 // 运行第二个回归模型（可以是不同的变量或设定） xtreg produserv d_2-d_10 d1-d9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di, fe r estimates store model2 // 保存第二个模型 // 画平行趋势图 set scheme white_tableau #delimit; ; coefplot model1 model2, // coefplot model1 || model2 baselevels keep(d_10 d_9 d_8 d_7 d_6 d_5 d_4 d_3 d_2 d1 d2 d3 d4 d5 d6 d7 d8 d9) order(d_10 d_9 d_8 d_7 d_6 d_5 d_4 d_3 d_2 d1 d2 d3 d4 d5 d6 d7 d8 d9) vertical coeflabels( d_10=-10 d_9=-9 d_8=-8 d_7=-7 d_6=-6 d_5=-5 d_4=-4 d_3=-3 d_2=-2 d_1=-1 d1=1 d2=2 d3=3 d4=4 d5=5 d6=6 d7=7 d8=8 d9=9 d10=10 ); yline(0, lwidth(vthin) lpattern(dash) lcolor(teal)) xline(8.5, lwidth(vthin) lpattern(dash) lcolor(teal)) ylabel(, labsize(*0.85) angle(0)) xlabel(, labsize(*0.75)) ytitle(\"coefficients\") xtitle(\"Time\") msymbol(O) msize(small) mcolor(gs1) ciopts(recast(rcap) lwidth(thin) lpattern(dash) lcolor(gs2)) //rarea rline rcap legend(order(1 \"entre_activation\" 2 \"produserv\") region(lstyle(none)) position(6)) graphregion(color(white)); 多个图\r如果不在一个图上展示，和其他命令设置一样，加入分隔符即可。 coefplot model1 || model2, 不在同一个图上\rEvent plot 命令 我估计大部分刊物存在连线的图，如果用的不是 R 语言，应该都是是 event plot 命令画出来的。 这个命令好处是可以设置不同的改革年份进行比较，而且支持连线点图。该命令似乎针对双重差分有很多很好的子命令。 估计本文提到的 QJE 那一篇是用的这个命令画的图。 clear all use \"F:\\桌面\\事件研究法发学习代码\\数据.dta\", clear set scheme white_tableau xtset city year //生成相对时间:当年年份-改革年份 gen di = year - branch_reform sum di //m目前是-11到12期，太长，可以缩短窗口期，可以缩短或者合并 *去掉或者合并两段的数据 replace di = -10 if di \u003c -10 replace di = 10 if di \u003e 10 *生成提前到虚拟变量d_1和d_10 forvalues i = 1/10{ gen pre_`i'=(di==-`i') } *生成提前到虚拟变量d1和d10 forvalues i = 1/10{ gen post`i'=(di==`i') } gen testi=di+1 *生成提前到虚拟变量d_1和d_10 forvalues i = 1/10{ gen fpre_`i'=(testi==-`i') } *生成提前到虚拟变量d1和d10 forvalues i = 1/10{ gen fpost`i'=(testi==`i') } // 运行第一个回归模型 xtreg entre_activation pre_2-pre_10 post1-post9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di, fe r estimates store model1 // 保存第一个模型 // 运行第二个回归模型（可以是不同的变量或设定） xtreg produserv pre_2-pre_10 post1-post9 di i.year lnagdp indust_stru finance ainternet market i.city#c.di, fe r estimates store model2 // 保存第二个模型 // 运行第二个回归模型（可以是不同的变量或设定） xtreg produserv fpre_2-fpre_10 fpost1-fpost9 di i.year i.city#c.di, fe r estimates store model3 // 保存第二个模型 #delimit; ; event_plot model1 model2 model3, stub_lag(post# post# fpost#) stub_lead(pre_# pre_# fpre_#) plottype(connected ) ciplottype(rcap) together noautolegend graph_opt(xtitle(\"Period\", size(middle))ytitle(\"Average Treatment Effect\", size(middle)) xlabel(-7(1)7,)legend(order( 1 \"entre_activation\" 2 \"produserv\" 3 \"produserv_test\" ) rows(1) position(6) region(style(noe))) xline(-1,lcolor(gs8) lpattern(dash)) yline(0, lcolor(gs8)) graphregion(color(white)) bgcolor(white) ylabel(,angle(horizontal))); plottype(connected ) 处就是设置既有连线又有点。 Stub_lag (post# post# fpost#) stub_lead (pre_# pre_# fpre_#) 如果三个模型共享一个横坐标，只需要输入共享的横坐标符号即可。但是此处我为了测试，提前了其中一年（model 3）的改革年份, 因此需要一一对应，即便是同一个坐标也要重复写出来。 Event plot\r","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:3:4","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["经济学习"],"content":"总结 计量就像这图一样，看起来复杂，但核心思想总是一句话就能说清。 就操作上的理解来看——事件研究法只是系数可视化罢了，但组合起来可以形象地展示更多东西——异质性、结构比较、平行趋势、组间差异、长期效应…… 其实更重要的还是分组回归的设计思想与经济意义的考察分析。 ","date":"2024-10-24","objectID":"/zh-cn/posts/event3/:4:0","tags":["因果效应","文献阅读","Stata"],"title":" 计量：事件研究法 3","uri":"/zh-cn/posts/event3/"},{"categories":["阅读"],"content":" 作者的经济学修辞学三部曲：《如果你那么聪明》、《经济学的修辞》、《经济学家的恶习》都是谈论经济学的文学批评。极不推荐第一部作品，流水账般细碎的文学批评让人生厌，华丽的辞藻掩盖不了谋篇布局的苍白，从第二部开始则好了很多。本文是对第二部的总结。 修辞，也就是带着目的去说服。古希腊使用论点，构建，风格建立修辞的框架，当代的经济学修辞则有了更饱满的血肉——事实，故事，逻辑，隐喻。不同于抽象的，只为描述而建立的自然语言，混合而成的社会科学文章其实是“带着意图去写作”，从而让经济学具有了修辞的人文特色。 在本博客中，“作者”全部代指《经济学的修辞》的作者 Deirdre N. McCloskey。 修辞分析结构表格图： 四个修辞角度：事实、故事、逻辑、隐喻。 非人格化 坐标轴 事实 故事 特殊 特殊性 逻辑 隐喻 普遍 坐标轴 非人格化 人格化 ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:0:0","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"何为修辞，如何去做？ ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:1:0","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"权威的匿名发言代理人。 经济学并非上帝之声，而是人用语言去说服别人相信某个道理。虽然是人的语言，却要假装自己是历史规律的代言人，将自己匿名隐喻成科学本身。 不必为我鼓掌，观众们，今天发言的是历史之声。 因此经济学总是使用永恒的现在进行时讲述工厂生产，利润回报公式，即便这些组织形式理应在历史环境中分析。 ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:1:1","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"创作者技巧。 一为诗人与隐喻。 将博弈论延伸到国家上，市场成为竞争的舞台，经济学家会对自己的国家喊话“我们将要输掉比赛，因为我们有 xx 问题”。隐喻为模型的必要性增加了说服力。以网状比喻关系，以小公司比喻家庭，以耐用品比喻子女…… 二是小说家。 经济学要学会组合故事。 xx 原本很穷，但后来去搞了资本主义，于是 xx 就变富有了。故事组合就是将彼此关联的事件，按照状态描述，动作实施，内在关联（引发，时间关系）进行组合（正面与反面）。 每一次故事的结尾意味着新的状态，在经济学中，完美与不完美的结局就是均衡与非均衡。完美的故事需要一个谢幕，也就是结局状态的预言而非仅仅只是过去总结，这一点是可以画上延长线的。 缺少动作、状态的文本不属于故事。 经济学家如此强调从外生变量开始讲述，是因为在故事系统里，这能成为开始。如果是从内生变量讲述，故事就像从中间开始讲述一样。 这也是出于思辨的考虑，如果把历史的坏账全部怪到显而易见的角色上，结尾是非常没有启发性的。 ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:1:2","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"表演。 小说并不模仿现实，小说创造现实。好的经济学论文影响深远的往往是拗口晦涩的句子，凯恩斯的《就业利息货币通论》便是例子。写论文时请尝试创造“作者的听众”（知道故事是虚构的）和“叙述的听众”（不知道故事是虚构的）1。 因为经济学家自身需要意识到，自身并非一定在陈述事实，而是在创造听众。 文章都有隐含的作者，隐含的读者，一段历史，一种形式。 ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:1:3","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"经济学的文学特点：科学、文学、艺术 作者写这本书的目的是为了探讨经济学、科学、文本的界限。在作者看来，科学只是一种讲话方式而非真理的一个领域。 科学都需要文本来表达。 科学的实验资源又有限，很多时候人们根据理论的美感来判断理论的检验价值。 文本说服人的方法如同文学与演讲。 因此科学、文学、艺术具有交叉性而非传统语境的对立。 对此，我个人持保留意见。 经济学的论证有以下论证方法： 前三点是英国科学论证的三点，从文学的角度，作者把这几点扩充到了更多。 统计检验、特定市场分析、对于理论的实验、自省（如果发生了 xx，我会怎么做？）、思想实验（基于经验，设想他人面临 xx 情况会怎么做？）、案例、民间智慧（商人）、学院派的传统知识、定律的对称性（例如定义辉煌时期和垃圾时期）、单纯的定义、类比…… 例如经济学论文不能描述物体的运动，而是刻画人的行为，这和文学塑造具有想通之处。即便经济学论文作者刻画的是一类人，读者在阅读经济学论文时虚构的也是具体的人而非抽象的物体运动，这种角色刻画和文学具有共通性。 取名是修辞的一部分，也是刻画形象的一部分。例如“偏好”一词有很强烈的文学欲望的象征感，大部分经济学名词都有这种色彩，例如哈耶克的内生秩序，亚当斯密的动物精神…… ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:2:0","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"经济学的修辞手法 以萨缪尔森运用数学的方法举例——使用统计学和数学模型时用的是我们，而讨论经济学命题时用的是我。 因为萨缪尔森在前言声明了“经济学命题是可讨论的，可推翻的”，\"我“更能展现一种讨论姿态，而”我们“则是一种权威体现（默认这里的阐述是共识）。 如果我们做一个实验，就会发现大部分人并不关心数学证明和统计细节，但数学存在本身就能增强说服力。 约翰·穆勒谈论预期问题的论文强调了经济学教授的定位——以经济学研究者的角色批评人们对市场预期的迟缓。 作者对于经济学预测功能的批评很有意思——经济学的预测都是条件预测，而条件预测在含义上总是符合经验的，又怎么可能得到真正意义上的超出预期呢？ 我也从其他人口中听过类似的观点——计量通过外生性进行因果分析，那怎么能指望计量来预测外生事件呢？ 福格尔使用了舍小求大的方法, 因为他在反驳主流结论“铁路建设促进了美国经济增长”。关于 x、y、系数——可能 y 很小；x 很大；我们高估了系数才导致了今天的结论。他的论文通过不确定性的暗示来进行理论怀疑。 福格尔 Fogel 在铁路贡献中率先与河运比较，运用了历史量化测算和反事实的思想，启发了反事实因果推断。认为过去的观点高估了铁路的贡献。 自他报告以后，经济学也开始利用量化史革新了经济史范式 Dave 则受到启发，基于铁路扩张测量了市场可达性，进而建立了铁路，市场可入性的一般均衡，让比较优势能够被实证测量，于是获得了 2017 年的克拉克奖。 Fogel\r科斯2的论文是律师的口吻，提出各种理论可能性后再一一反驳。科斯的论文就像古希腊雄辩的结构——绪论、叙述（事实）、分类详述（有争议的主张和没争议的主张）、举证、反驳、结语。因此企业的性质这篇经典论文充满了对抗性措辞。 其他修辞法还有——诉诸权威、言语暗示（比喻竞争关系）、隐喻3（零合博弈、孩子是耐用品）、寓言（隐喻+故事）…… 文学上的理解是如此宽泛…… ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:3:0","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"量化需要修辞吗？ 两个问题——多大算大？那又怎样？ ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:4:0","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"关于“多大算大” 有些观点认为经济学将问题数学化后，纯数学的思考能够把人力所能及的范畴分离出去。但事实真是如此吗？ 数字多大算大？多大算大，多小算小，依旧是一个尝试说服别人的过程，这也依旧需要人去对比得到结论。于是过程依旧是包含修辞的。 当然，如果大家学了高级计量4，就会发现假设检验原理是构造小概率事件——“第一类错误”“第二类错误”来检验显著性，这种做法虽然被公认为基本操作，但依旧是一个相对标准。 我赞同史震涛老师对计量教学的看法—— “多大才可信”不但是统计学问题，更是哲学问题。高级计量只是让人开始思考这个问题。 史震涛老师的知乎回答\r比如贝叶斯和频率学派就一直在争论，贝叶斯学派自己又分为主观学派和客观学派。看起来都是数学推导，但可信度度量的基本量构建始终离不开世界观。万物皆可哲学确实名不虚传。 比如经典的例子——统计显著和经济显著应当是有所区分的。 ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:4:1","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"关于“那又怎样” 经济学论文需要陈述给特定对象，你讲述是也是虚构的社会。而不同群体眼中的世界又有着不同的面貌，如果想要得到他们的承认，就需要去呼应这部分“共识”——那才是更容易引起人们关注的话题。 ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:4:2","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"计量需要注意的地方 区分统计显著和经济显著。 简而言之，论文论证不能只依赖统计显著。 需要明确样本分布假设、系数的现实含义和形式（例如是否是弹性）、加入现实共识分析、显著性的严格界定、统计显著到现实影响的过度需要足够自然、统计意义、政策意义、科学意义、经济意义是不同的。（这部分取自 20 世纪 80 年代 AER 的统计显著错误应用记录） 作者在后面对数学统计代表的现代主义攻击又千千万万，其实原则就一条： 很多人把证伪视为科学，但证伪是一个任意性问题，现实的证据太多也不能保证概括了全部。而一个理论受到检验，在经济学中总是表现为大部分人对其感兴趣。于是作者在最后呼吁任何有规则的方法论都可能是错的5。于是我们应该反反修辞，反现代主义。 ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:4:3","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["阅读"],"content":"修辞会是未来的学科吗？ 现在有两种趋势在经济学上显而易见。 1、数学统计的基本功正在受到追捧。我在高级计量的课程上看到了历史学院的同学来选修，而经济学的前辈们又在向数学课迈进。数学与经济学的深入交叉正在成为一个常态。数理经济学学者在不断加入，标准也在被不断抬高。 2、另一方面，当数学统计被广泛运用到一定地步，其合理性逐渐被质疑，数学的工具性确实有让步于修辞性的趋势。论文的立意、故事和启发性正在成为大家更感兴趣的存在。 这种权衡正如“正确地得到结论”和“得到正确的结论”一样让人不知如何选择，也不知道最后哪个方向会占据主流。 如果基于“说服”这唯一一点去审视科学，那么一切方法论规则都不再重要。按照作者如此自由的定义，世界观可能会变成功能导向的功利主义思维。 但修辞学站在现代主义的对立面，无疑提供了一个崭新的视角去审视科学。创新需要天马行空，无所顾忌为此提供了跳板，因此我认为《经济学的修辞》绝对值得一看。 确实，很多人连通知都发不好，就是不擅长自我虚构读者。个人推荐通过写博客来锻炼这种虚构能力。 ↩︎ 科斯是法律专业出身 ↩︎ 作者甚至认为客观性是一种隐喻，隐喻需要利用词汇构建来影响人的判断。不过在我个人看来这一点定义可太宽泛了，几乎和修辞学本身重合。 ↩︎ 本科基本都概率论与数理统计已经说明了这一点，但我想大部分经济学专业的人要学到了高级计量才能真正体会到其中的思想 ↩︎ 这个观点有点太自由了（ ↩︎ ","date":"2024-10-16","objectID":"/zh-cn/posts/jjxxc/:5:0","tags":["阅读","文学"],"title":"经济学的修辞","uri":"/zh-cn/posts/jjxxc/"},{"categories":["软件工具"],"content":" 本文记录详细操作步骤，便于自己以后重复查看。 不过速通完后才发现时代似乎已经从 arcmap 转向 pro 了…… 生命的大风吹出世界的精神，唯有老人能看出这其中的摧毁…… 我在 Stata 绘制 Gis 着色图中介绍了 GIS 常用的 shp 类型文件。简单来说，GIS 的数据基本结构需要包含坐标、独特标识、测量值三个要素。这里介绍如何通过行政区划地图文件和 tif 地图文件提取出行政区的截面 excel 数据文件。 GIS 简易上手指南 官网教程：arcGIS 帮助 ArcGIS 作为商业软件，其实非常好上手。和 excel 一样，了解完布局后就看懂基础使用了。 软件示意图\r如图，最左侧是文件区域，用于查看工作文件。 再往右工具列表，有各种工具函数帮助我们处理数据文件，所以根据提示操作就行。 再右侧是图层管理。 最右侧是绘图预览区域，把 gis 文件放进去就能看到图像情况。 GIS 批处理 ","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:0:0","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"点数据到面数据 经济学的数据分析一般为省、市、县面板数据。GIS 文件是图像文件，可以看作点集数据，而行政面板是块状的，是面数据，所以我们处理思路就是计算行政面积的点数据平均值，然后导出。 通过行政区划 shp 进行分区。 通过 Apatial Analyst - 区域分析 - 以表格显示分区统计 这个函数方法对接数据地图和行政区划地图，计算行政面积里的均值。 img\r","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:1:0","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"虚假的批处理 对于每个方法函数，右键-批处理，就会弹出一个自定义动作的 excel 表格，似乎在里面通过 excel 行设定我们的重复动作就可以快速批处理，但如果使用者真的用了就会发现问题。 使用这个方法定义了 n 个重复动作后，只会保留最后一行定义的动作。 批处理\r","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:2:0","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"真正的批处理 ","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:3:0","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"导入 tif 文件 真正的批处理是手动设计流程图！以 2024 年华为数学建模大赛提供的 tif 数据为例，将 tif 集中在一个文件夹下 (最好命名为英文，且为 tif，便于后面对接操作)。 人口数据tif文件\r","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:3:1","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"找到 shp 文件 前文提到了原理——我们想要将 gis 点数据集转化为行政区划的面板数据，为此需要行政区划的 shp 地图。 github 上很多资源，也可以在“ Stata 绘制 Gis 着色图”处看资源。 ","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:3:2","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"指定流程图 ArcGIS 真正的批处理是自己绘制流程图。 ","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:3:3","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"Tif 批量转表格 首先在链接好的文件夹下右键新建工具箱。 新建工具箱\r然后在工具箱下面右键新建模型。 新建模型\r打开模型进行编辑，将工具栏中想要的函数拖入。 拖入工具箱\rTif 属于栅格数据，插入-迭代器-栅格 插入-迭代器-栅格\r双击“迭代栅格数据”。工作空间或栅格目录选择数据文件夹中的tif 文件夹，栅格数据格式选择 TIF。 栅格数据格式选择 TIF\r插入-仅模型工具-解析路径 解析路径\r将自己找到的 shp 文件夹拖到模型框中。本文使用的是区县行政区划地图的 district.shp 文件。 区县行政区\r换成链接工具 链接工具\r从“名称”连向“解析路径”，选择“输入数据元素”。 连向\r双击“解析路径”，解析类型选择 NAME 所以注意，tif 的文件名最好是 变量 + 数字 的形式，便于识别规律。最好一切循环文件都是这种结构性命名。 解析路径\r接下来是链接参数的操作。 从“值”连向“以表格显示分区统计”，选择“环境”-“输出配置关键字”。 从“识别出的第一个 tif 数据（本文例子为 pop1990.tif）”连向“以表格显示分区统计”，选择“输入赋值栅格”。 从“识别出的第一个 tif 数据（本文例子为 pop1990.tif）”连向“以表格显示分区统计”，选择“输入赋值栅格”。 从“shp 文件（本文例子为 district.shp）”连向“以表格显示分区统计”，选择“输入栅格数据或要素区域数据”。 img\r双击 ZonalSt_shp5 。将“查找范围”改为文件夹中的 result 文件夹（没有也可以在选择框里临时新建），“名称”改为 %值%。 名称\r右键tif模块，选择模型参数。 此时别忘了在顶部工具栏从连线模式切换为选择模型，这样才能右键选择。 模型参数\r右键区域划分模块（本文就是 district.shp），选择模型参数。 模型参数\r顶部的自动布局可以帮助我们优化布局。 自动布局\r","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:3:4","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"表格批量转 excel 在前面的流程图基础上继续添加。 将“工具箱-转换工具 - Excel”中的“表转 Excel”工具拖到模型框中。 表转 Excel\r将“%值%”与“表转 Excel”进行连接，选择输入表。 表转 Excel\r双击 %值%\\_TableToExcel.xls，选择保存路径的文件夹，并且设置文件名为 %值%\\_TableToExcel.xls。 路径的文件夹\r绘制完流程图后，点击模型确定即可运行 点击模型确定即可运行\r","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:3:5","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["软件工具"],"content":"其他提示 如果操作完全符合，但最后读取到一半，说读取出现问题，较大可能性为以下问题： 不是 .tif 格式的 gis 文件。 文件夹命名是中文。 数据文件命名不结构化，例如一会儿同时出现了 1990pop.tif 和 pop1998.tif Result 文件夹和 tif 文件夹最好保持在同一层次的目录里。 ","date":"2024-09-25","objectID":"/zh-cn/posts/gis/:4:0","tags":["GIS"],"title":" arcGIS 批量转化 tif 为 excel","uri":"/zh-cn/posts/gis/"},{"categories":["阅读"],"content":" “的确如此，“他点燃了一支香烟，全身舒展地倚靠在扶手椅上，回答道，“你是在看而不是在观察。这二者之间的区别是很清楚的。 ————《福尔摩斯冒险史：波希米亚丑闻》 虽然身处格局已成的今天，但我们回顾昨天的行为却从未停止。从宇宙到国家的起源，无论自然科学还是社会科学都试图回溯一个起点，以此证明如今的一切究竟是必然还是偶然？ 《跨越边界点社区》在研究浙江村的形成过程中，穿插了研究方法和理论构建的探讨，试图基于“关系”这一概念回溯一个社区的起源。对我来说，书中的田野调查1就像日常的流水不断地冲击岩石 —— 每个人的流水账看似透明且无意义，但思维的岩石将在打磨下变得闪耀动人。 ","date":"2024-09-16","objectID":"/zh-cn/posts/sqzl/:0:0","tags":["阅读","微观历史"],"title":"《跨越边界的社区》：流动关系与社区起源","uri":"/zh-cn/posts/sqzl/"},{"categories":["阅读"],"content":"理论脉络 本书的理论脉络可谓全面，问题引入也十分有趣。如何使得自己的研究问题显得有趣呢？从实际层面来说，就是强调热点问题；从理论层面来说，就是强调不同的理论在现象解释中产生了矛盾。因此比起理论的创新点，个人更欣赏其中的行文表达。 本书考察的是北京的“浙江村”。北京作为国际化大都市，内部却出现了浙江村。浙江村不属于自然村落或者行政编制，是进京的浙江人自发聚集点村落。 项飚理论脉络如下： 这里整理用来学习文献综述的行文逻辑 现象特征：村子是进京的浙江人自发聚集点村落。属于人口流动问题。 理论概括：现有的理论表明——人口流动总是从传统趋于现代。项飚将一系列的理论2概括为“传统-现代”。这些理论都把传统和现代视为一种对抗关系。 理论评述：并存、依附、嵌入三种关系能够解释人口流动下，落后地区和发达地区同时出现的现象。但是并存理论机理不深、依附关系只停留在了分工层面、嵌入理论涉及到了社会结构，但没有交代形成原因。 理论矛盾：社区嵌入的过程部分尚未得到研究。因此，文章重点考察人口流动下的社会网络，研究社会网络、信任、社区形成三者才能解释浙江村的形成。 新理论提出：重视社会网络分析，一系列理论其实已经有这种思想3。 其实项飚的理论观点和杨小凯的新兴古典经济学确实差不多，只不过一个解释社区，一个解释市场。核心逻辑就是以下两点： 一个人看起来很独立，一大片人联系起来构成市场，人不再独立，反而被社会网络左右。无形的手-市场经济-蛛网模型-一般均衡-社区形成是一条逻辑链。项飚将其总结为“总体与具体的断裂”，看起来挺玄乎，无非就是个人单独看时自由独立的面与汇入总体后个人渺小无力面的内在矛盾。 社会网络始终由人组成，因此，我们可以基于人的行为决策去剖析整个社会网络。基于这一点，杨小凯、项飚、经典贝叶斯网络模型都强调了自己的理论能打开形成过程的黑箱，同时完成过程回溯和基本分析单位的确定这两个任务🤪。杨小凯的超边际分析回到了消费者-生产者的个人一般均衡，项飚回到了人与人的关系。十三邀中，项飚谈论\"附近的消失\"也不奇怪，因为他一直是个人与社会网络这套市场理论的维护者。 不同点在于，杨小凯基于亚当斯密分工市场创造财富的理论从分工决策出发；项飚认为一般均衡下的关系更加重要。 显然，项飚的出发点比经济学更加包容4，里面有更多伦理的探讨空间，这样的分析也为浙江商户的伦理价值观、家庭结构、群体“闯”到特质与浙江村的形成留下了足够多的延伸空间。 ","date":"2024-09-16","objectID":"/zh-cn/posts/sqzl/:1:0","tags":["阅读","微观历史"],"title":"《跨越边界的社区》：流动关系与社区起源","uri":"/zh-cn/posts/sqzl/"},{"categories":["阅读"],"content":"叙事方法 经济学注重可信性分析，强调证据的说服力，虽然其中也有社会历史背景分析阐述，但并不像社会学调查一样注重情景的深入还原。如果说经济学是抽丝剥茧，试图如物理学一样建立一个没有摩擦力的抽象的理论骨架，《跨越边界点社区》中的社会学则像场景扫描，试图综合完场景的方方面面，最终得到更加丰满的人类躯体去感受包容世界5。 还记得一位同学看到了社会学专业的一篇毕业论文，感叹怎么能这样写论文？居然把日常流水账记录上去，这还是论文吗？但是社会学正是一门把自知变为自觉的学科。正如福尔摩斯探案集中说的那样——要去观察，而不是看。 倘若我们单独看《跨越边界的社区》的每一章，便会觉得家庭琐碎的日常太过无趣。改革开放后哪个人不是创业？社会市场化改革下的制度只是执行混乱！生意场不过是每个人凭借关系逢场作戏套近乎！这些我们不用调查也能理解。而将所有章节合起来，项飚也偷偷完成了自己的“凸生事实”。 个体特质上： 浙江商户关系相对看重走动而非血缘、敢闯敢冒险创业。服装技术的流传基于亲属关系向外扩散。这些伦理特征赋予了浙江村社会网络向外扩展到文化特性。在本书中，这些特质从个人性格扩散到了创业、销售、产业、市场、最后构筑出了社区关系6，也就是链式流动到集体流动的形成过程。 国家互动上： 为什么国家或者时代作为基本单位不足以解释浙江村的形成？因为浙江村自有一套体系，在逐渐市场化的过程中，一是大部分商户完成了早期积累，并非直接源于改革春风；二是浙江村反复和北京管理对抗，同时依赖制度改革扩展规模，体现了浙江村秩序的自主性。 基于这种关系视角，我们甚至可以解释更多东西，体制内和体制外；上有政策和下有对策；阶级阶层划分；自上而下的干预和自下而上的应对，这一切不再是机械的对抗，而是身份认同下的复杂交互。重要的不再是给两个势力打上先进或落后的标签，而是研究内部和互相的行为决策，达到解释现实的目的。 这个理论其实比较偏自由主义——自发秩序7被过度干预只会导致失衡，比起控制，我们需要学会理解和接纳8。 切入点上： 项飚并非一眼看破本质的直觉天才，他的论文最开始也是聚焦于“浙江村的服装产业发展”，是在研究浙江村的产业发展中发现了“关系”的存在。服装技术的推广；销售柜台的交易；关系带动的人口流动…… 这些长久积累的素材才让他在本科积累的基础上发现了“关系与社区形成”的暗线。即便是想到关系，也是很简单的。中国一直被认为是人情社会，但是基于关系阐述社区起源，通过人口流动再次审视社区文化，这种叙事视角让研究趋于成熟。 ","date":"2024-09-16","objectID":"/zh-cn/posts/sqzl/:2:0","tags":["阅读","微观历史"],"title":"《跨越边界的社区》：流动关系与社区起源","uri":"/zh-cn/posts/sqzl/"},{"categories":["阅读"],"content":"陌生化世界与道德观 社会学最让我惊叹的是——当我们将日常陌生化后，一切竟然表现得匪夷所思。浙江村充满着与政府治理的对抗，没有形成大企业的发展模式却充满了反常的发展活力。请想想？倘若我们作为浙江村的一员，还能直接总结出这些特质吗？陌生化环境是一项何等奇妙的能力！ 但这也涉及到研究方法的争论，我们到底怎样的角色进入研究对象？以怎样的角色陌生化环境？项飚反对总体抽象概括下的审视，希望通过自身感受到日常为现象带来合理的解释，因此在他笔下浙江村有着合理的自发秩序。这种包容之心让人敬佩，但实际上他已经做出了自己的道德观念选择——包容现象并尝试合理化。 构建前瞻的道德观是一个困难的问题。这种包容的视角选择的是接受之路，但是世界上是否存在合理的荒谬呢？谁来决定哪种现象是荒谬的事呢？这些问题恐怕很难得到回答，或许这就是社会科学很难被广泛认同为科学的原因吧。 马林诺夫斯基、潘绥铭、项飚这些学者的调查工作量让人肃然起敬。 ↩︎ 藤尼斯（community 和 society）、涂尔干（机械团结和有机团结）、韦伯（实质合理和形式合理）、库利（传统统治和合法统治）、刘易斯（工业、农业部门）、帕森斯（模式变项）…… ↩︎ 凸生事实。这个理论确实有意思，就是相对关系的加入会带来质变。例如三条边单独看没意思，连起来就有了三角形的意义。 ↩︎ 里面的一个批评我很认同，经济学喜欢用社会网络、社会资本概括人和人的关系，这种量化忽视了伦理价值的影响 ↩︎ 就我接触到的人来说，社会学相关专业的同学总是阅读量最大的那一部分群体。 ↩︎ 这里面有相当多的且有趣的细节描述，但都是为了证明浙商群体文化与关系的拓展，这里不再详细展开说明。 ↩︎ 我开始理解为什么很多人推荐哈耶克的书籍，虽然实操上很那跟随，但是哈耶克书体现的自发秩序和知识体系这类视角构建其实相当深刻。 ↩︎ 但是现在北京的浙江村似乎已经被强力的行政手段踏平了，长远来看，这倒是削弱了个体社会网络力量的可信度。 ↩︎ ","date":"2024-09-16","objectID":"/zh-cn/posts/sqzl/:3:0","tags":["阅读","微观历史"],"title":"《跨越边界的社区》：流动关系与社区起源","uri":"/zh-cn/posts/sqzl/"},{"categories":["经济学习"],"content":" 声明：为保证匿名审稿的原则，本文举例的具体情况都为个人虚构，和写过的实际审稿情况并不同。如有雷同，纯属巧合。 虽然审稿是匿名的，但很多时候审稿者和稿件研究领域相同，容易推荐加入自己的论文，这时一看就知道是谁了。不过毕竟是经验 buff，无可厚非。 最近作为训练参与了一点点审稿工作，看到网上没有多少经验分享？故在此记录。 最近刘西川老师分享了很好的例子： 一份外审意见（张川川、付明卫）及修改说明（靳卫东等） 首先最大的感受是经济学实证论文越来越卷了。以前这类期刊以纯计量实证分析为主，现在都是简约式和结构式推断的双重运用，稳健性检验也会加入另外一套计量模型。学界革新速度是越来越快了。 审稿确实挺锻炼人的，提出意见也是反思自己构建文章框架的过程。每次在审稿之前老师都会提点几句，句子虽然短，但总是能直击要害。个人在仔细看老师的话前和话后，审稿意见的提出呈现天壤之别。接下来我将总结个人学到的一些泛用视角。 越好的审稿意见越要彰显针对这篇论文的独特建议，例如这个理论的脉络、常用的数据处理、变量选择和切入点、经济意义造成的内生性问题1…… 大部分意见最好针对文章创新性、计量设计、模型处理，错别字、排版问题一笔带过2即可。 个人非常推荐阅读陆铭老师关于审稿的看法： 陆铭：说审稿 最好的审稿不是天马行空地挑毛病，而是发现论文具有可行性的，作者尚未察觉到的闪光点——那些可以再进一步分析的地方。 ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:0:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"个人流程 个人首先会简单检索下文章研究主题的中英期刊，重点看下相关综述文章，让自己对主题现状有个大致了解。然后整体看下文章的计量设计，接下来细读一遍文章，深入看文章部分引用的参考文献（尤其是文献综述、理论引用、工具变量的参考文献）。 ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:1:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"开头与正文 审稿意见一般构成为：开头总结+大问题（研究设计、创新性、理论贡献……）+小问题（错别字、图表描述、图表清晰度……） 个人喜欢以下开头格式： 本文基于 xx 视角研究了 xx 问题（xx 和 xx 的关系）。 正面评价：xx 和 xx 的处理让人印象深刻。论文为 xx 贡献了 xx 视角。在 xx 的情况下，研究 xx 确实非常必要。 负面评价：虽然 xx 的处理或想法很优秀，但是实际上 xxxxx，因此关于 xx 和 xx 的问题依旧使人对计量设计和实证结果的可靠性产生担忧。 开头以后是正文，分段列举意见，一点一段话最好。 关于选题。文章…… 关于文献综述。文章…… 关于一些小的排版错误。在…… ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:2:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"选题和创新性 评价选题要素的大小、多少。例如一个选题同时研究 A、B、C 三个要素。三个变量关系实在太复杂了，很难实现完整的分析。为什么要研究这三个、三个要素有怎样的层次关系，都需要回答。 有一次听《世界经济》的一期 期刊讲座，一位听众问期刊编辑什么样的选题才能上《世界经济》。编辑回答说“能够发现或者解释一个现象的经济研究就是我们编辑部最喜欢的研究”3。确实，围绕一个现象，有没有各种理论，或为递进关系，或为矛盾关系，这既是文献综述线索的归纳之道，也是凸显创新性的重要部分——文章是否通过计量证明或证伪了一种理论，解释了一种对应的现象。 题外话，个人觉得随着理论发展越加完善，越来越多的文章注重研究某个具体效应的异质性。不过这种边际创新在老师眼里似乎远远不够，但是真的发觉现象加以理论论述的创新是真的难啊！ ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:3:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"文献综述 前文已经提到了，文献综述要围绕选题分析理论的层次、关系展开讨论，这一点可以从语言和逻辑上进行批判。同时，我们可以注意参考文献顶刊、英文文献的数量、质量、占比。 在审稿意见里，我们也可以引用参考文献加强说服力或者进行举例。 ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:4:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"理论 优秀的计量论文，理论和计量设计的交互会贯穿全文。 文献综述提到的理论，内在是否有关系和逻辑阐述？ 多种理论的冲突是否在计量中得到了检验？如果没有，那就是机械地罗列理论。 文献综述的理论和后续实证的理论是否阐述一致？比如前文谈论的理论是官员晋升锦标赛，后面的实证证据没政府竞争变量，或者去讨论生命周期了。 异质稳健性机制设计是否有理论支撑或者用于理论检验？ 社会背景描述是否充足。当下研究中，这个变量真的具有独特性吗？研究真的有创新视角吗？例如房价带来的高储蓄和低消费，已经被谈论很多了。 ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:5:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"描述性统计 分布是否合理？比如长尾分布是否影响论文。 数值是否合理？例如描述统计小于 0 但却进行了对数化？ 指标构建是否合理？是否交代正负指标？是否进行了标准化？使用主成分分析时，分数可能出现负数，这时候要仔细考察论文对负分的处理，同时要时刻注意指标的实际含义，这会影响指标的范围和正负性。 是否展现完了最大最小值、平均值、单位？ 是否交代了数据源？ 是否有省略的数据处理步骤没交代？ ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:6:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"实证结果 显著性复查。 效果估计是否夸张，例如工作效率的测量参数，结果居然是降低了200%！显然是违背现实的。 有些只能为正的结果，最后居然估计出了负数！ 分组回归，正负性符号与结论是否有矛盾？ Ln（1+my）的放缩会影响显著性。 模型使用是否恰当。DID 应该有足够的外生冲击假设，RDD 要找到合适的断点，空间矩阵的权重需要合理的理论解释…… ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:7:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"异质性、稳健性、机制 这部分主要看计量方案的设计。 计量分析是否围绕理论进行设计？ 计量方法适不适合论文要素或者数据结构？ 工具变量是否可信? 工具变量是因果推断的重要方法，这里要重点结合要素本身进行针对性的考察。大部分人都是用的参考文献的工具变量，要仔细对比。可能工具变量在 A 文章合适，在 B 文章不合适。 是什么和为什么全面阐释了吗？有些文章只是证明了一个现象的存在，却没有讨论为什么。 一些可以加工作量的检验： 加入交互项分析、加入分组回归、加入组间差异检验、加入事前趋势、检验外生冲击、更换其他相关变量、稳健性聚类建议…… ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:8:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"结论 结论是否匹配实证结果——每一个实证结果产生了结论，不能多也不能少。 结论要相对具体，不能天马行空。 既然计量设计中，基于现象检验理论是层层递进的，结论也应展现相同的结构和思考。 ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:9:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["经济学习"],"content":"推荐参考 《实证论文写作八讲》（刘西川） 我为《经济研究》审稿——庞瑞芝 作为审稿人，你什么情况下会选择拒稿？ 创新层面和经济意义内生性层面的建议和思考，水平要求是最高的，也是最能体现审稿人水平的 ↩︎ 这些小问题能证明审稿人自己看得很仔细。 ↩︎ 当时还有个问题是怎么给论文取标题。编辑回答标题不是最重要的，可以看到越厉害的研究者论文标题越短，因为他们在乎的是简洁和快速凸显主题。 ↩︎ ","date":"2024-09-10","objectID":"/zh-cn/posts/sg/:10:0","tags":["文献阅读"],"title":"实证经济学：审稿经验","uri":"/zh-cn/posts/sg/"},{"categories":["游戏"],"content":" 如图\r综合神影图，黑神话已经暗示了老猴子是金蝉子（唐僧、转世、佛都行）。 目前网上反对金蝉子的理由无非一点——老猴子说的话是谎话，不符合金蝉子的身份。事实上，金蝉子虽然没有出现，他的形象塑造却贯穿了游戏。 首先，这里是《黑神话:悟空》。黑神话意味着人设颠覆，游戏科学确实尊重原著，尊重的是故事事件、人际关系、法器设定。游戏人设是有变动的。黄风大王有仗义的一面，灵吉菩萨有自私的一面，凭啥就默认了金蝉子说不出结尾那些话呢？接下来我将展示神影图的证据。 以下神影图图片都来自黑神话 wiki ，在此感谢整理者们的无私奉献！互联网开源共享精神万岁！ ","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:0:0","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"为什么一定是金蝉子或相关身份 ","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:1:0","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"证据一：求真的追求 老猴子神影图的诗提到： 长生路，人无数。 求道不求真，渡人难自渡。 老猴子神影图\r可以看出老猴子的追求是求真。 接下来看黄眉的神影图上——黄眉和金蝉子辩经。 黄眉僧人问：“请问师弟，何为生命的意义？” 青年僧人答：“求真。” 黄眉僧人反问：“真是何物？” 青年僧人答：“万物运转之道，宇宙本源之法。” 黄眉求胜，金蝉子求真。 黄眉神影图\r","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:1:1","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"证据二：对天命人的态度 第二回动画 CG 中，黄眉倒果为因执着输赢，金蝉子认为不应该在乎输赢，和求真态度一样。 第二回动画 CG\r天庭的神仙说，他在赌。 灵山的佛祖说，赌，就难免会输。 他说，他没有赌，也没有输。 同理，老猴子不在意输赢，更重要的是——求真。老猴子认为自己不是赌徒，他是等待者，等待能够继承孙悟空的天命人。老猴子和谁赌？灵山，恰好金蝉子也来自灵山。 老猴子神影图\r","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:1:2","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"证据三：佛教装饰与动作 身披佛珠 身后和灵吉菩萨一样的飘带 结局动作是佛教的合掌 一结局动画，老猴子和天命人的动作是佛教的合掌\r","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:1:3","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"为什么不是菩萨、菩提 老猴子的神影图已经帮我们做了排除法。 有人说，他是观音菩萨。 有人说，他是菩提祖师。 也有人说，他才是孙悟空。 ","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:2:0","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"为什么不是菩提老祖 黑风山土地的定身术是仙人教的，让他代传给天命人。 黑风山土地的神影图\r里面暗示叶子——叶尖细长，有清香。这是菩提叶的特征。 菩提叶\r","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:2:1","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"为什么不是观音 当天命人上路时，他会亲手为他们打一根柳木棍。 折柳相送，心中竟生出一些不舍。 很多人通过老猴子的柳棍猜测是观音。此处的首要作用显然是古诗词中折柳表送别的意向。同时，这里是柳棍，不是柳条，也没有带有玉净瓶的暗示。 涉及观音的，一是泡酒物（二周目购买解锁）——净瓶柳叶。用的是玉净瓶和柳叶的暗示。 仅仅一个柳棍肯定不能代表观音。 净瓶柳叶\r涉及观音的，二是 BOSS 黑熊精，被打败后说回南海负荆请罪。 如果老猴子是观音，一直待在花果山，黑熊精回去找谁请罪？？？ 黑熊精战败 CG 动画\r","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:2:2","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"为什么不是袁洪 首先让我们退一万步吧，就当游戏科学真的默认眉山是七圣，还是封神榜的设定！ 老猴子是佛教，袁洪是道教，直接反驳。 一路上的眉山兄弟作为暗线，每一个台词都出现了大哥，为何老猴子不说？ 老猴子二周目才能解锁图鉴，袁洪作为一个封神榜的角色，值得如此压轴吗？ 白衣秀士、黄袍员外 、翠笠武师 、黑手道人 、皓斧力士。每个人名字都有颜色，且白色已经被白衣秀士占有了，如果是白猿肯定不符合颜色设置。（皓和白都是白色，这里做了特意区分，白猿本名就是白，加入不符合命名规律） ","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:2:3","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"老猴子说的是谎话吗？ 很多人说老猴子说的是谎话，可真是谎话吗？ 看看老猴子结尾点评的是什么——六根。 第一回——眼看喜：看见喜欢的就想拿到手。金池长老贪恋袈裟，贪图物欲。 第二回——耳听怒：听信一面之词，善意恐成恶行。灵吉作为佛，黄风作为妖，各自只看自己的立场，于是黄风岭毁于一旦。书生只因黄粱一梦，杀害无辜白狐。支线杀害善良的石子一家。 第三回——鼻嗅爱：执着于情感，无法自拔。亢金龙为爱痴狂堕落，黄眉执着于输赢离经叛道。 第四回——舌尝思：视他人为鱼肉，损人利己。天地为炉，四妹成丹。人间妖怪不过是神仙的耗材。 第五回——身本忧：灾害无常，害怕一切，于是失去一切。牛魔王中年危机，妻离子散。牛魔王害怕一切，于是失去了一切。 老猴子点评的可是前五回的标题和立意！佛道相争，世间便成为了熔炉，神仙为灵蕴痴狂，于是所有生灵在世间挣扎。这种点题式的台词真的是谎言吗？还是引出思考？孙悟空的欲念在佛道看来是错误的，但真的是错误的吗？是悟空生来顽劣？还是世道本就不公？ 于是——第六回——在老猴子不知道的地方，大圣的意诞生了——意见欲。 意见欲\r请再次看金蝉子的态度——不干预的求真。如果他认为天地不公？如何证明？如果自己加以干涉，那岂不是和黄眉一样倒果为因。他表面上批评孙悟空，实际上却是在期待孙悟空自己的意。 真正的意见欲不需要外界的干预，和艾尔登法环一般，只有自己经历过众生的苦难、欲念，才能结出自己的律法。 其实老猴子才是所有人中最相信孙悟空的人，所以他认为自己没有赌，因为他相信孙悟空的意见欲会被人继承。 这个过程不是，也不应被人干预，西游路走过的痕迹是无法被磨灭的。 所以老猴子虽不知道意见欲，但他知道孙悟空的根本会流传下来。 经历一切，感受一切，反思一切，这才是大圣的意见欲， 什么佛意分身、紧箍咒分身，一样一样，都是外界强加的，自然通通排除！ ","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:3:0","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["游戏"],"content":"意 ？悟！ 真正的意，是通过对所见所行的思考反思得来的。 这也是我看到一些分析很生气的原因，大量的回答总是试图证明自己心目中的大圣，自己心目中的金蝉子，老对结尾台词过度解读，官方神影图说得很明白了，但就是不联系也不相信。 似乎解读总要比格局，比特立独行， 好，要我说，什么佛意说、袁洪说、观音说、太白金星说、六耳猕猴说、悟空说，都是放屁！金蝉子说立意足够高了。 知行合一，不被佛约束，不被道约束，跳出三界之外，不在五行之中。 ——只有这样的意，才配得上大圣和西游。 ","date":"2024-09-07","objectID":"/zh-cn/posts/wk/:4:0","tags":["游戏"],"title":"《黑神话：悟空》里的老猴子到底是谁？","uri":"/zh-cn/posts/wk/"},{"categories":["经济学习"],"content":" 偶然的思考，尚未完善，如有错误，还请指教 聪明的想法往往看起来尤其简洁，甚至会让人们以为理所当然。但不要以为这些代码显而易见，因为这绝不简单。 聪明的想法看似太简单的原因，是因为我们只看到了最终的结果，清理掉了中间的杂乱，缄口不提其中的错误岔路，一笔带过解决问题的伊始，前路上无穷可以探索的可能性，所有的这一切。 讽刺的是，那些深远地影响了未来人们思想的想法，最终会被年轻一代视作平淡无奇。 ——3Blue1brown 人们经常会说经济学实证论文总是显而易见，要么马后炮，要么结论只是符合直觉，只有配得上预测和反直觉的论文才称得上有价值。 在这里我想从几个方面进行反驳，说明符合直觉不一定是显而易见。 ","date":"2024-08-20","objectID":"/zh-cn/posts/fs2/:0:0","tags":["反思"],"title":" 实证经济学：符合直觉≠显而易见","uri":"/zh-cn/posts/fs2/"},{"categories":["经济学习"],"content":"符合直觉的结论会产生矛盾 有人认为社会福利有助于生育，这符合直觉——因为养育成本降低了。 有人认为社会福利不利于生育，这也符合直觉——因为孩子是养老资源，社会福利导致养老成本降低了。 有人认为房子带来的是财富效应。这里可以多说一点，可支配收入影响消费显而易见，但弗里德曼还认为影响人们消费的一个关键点还在于永恒收入。例如房产这类财产收入，这些会促进消费。有人认为房子带来的是房奴效应，其实是挤压消费。 在理性消费决策外，非理性消费的行为经济学同样矛盾重重。例如同伴效应认为同伴的高消费会带动人的消费，前景理论认为人们的决策主要基于参考坐标系，预期收入决定了消费行为；心理账户则认为人们对不同类型的消费，感受是不同的，例如人们更愿意投资教育医疗。 因此，实证论文要做的是分清楚直觉结论的应用边界。具体是哪项制度造成的影响？带来的到底是哪个效应？在哪个社会环境下成立的？ ","date":"2024-08-20","objectID":"/zh-cn/posts/fs2/:1:0","tags":["反思"],"title":" 实证经济学：符合直觉≠显而易见","uri":"/zh-cn/posts/fs2/"},{"categories":["经济学习"],"content":"符合直觉的结论不易被联想 随着黑神话的大火，国内单机市场规模测算总是被网民讨论。很多人直接拿幻兽帕鲁的销量来估测。这样显然不对，至少得是以下结构： $$黑神话销量 \\times 黑神话价格 = 帕鲁价格 \\times 帕鲁销量$$ 更严谨的考虑得考虑经济消费水平、人口结构、游戏质量、游戏营销、游戏类型…… 让我们假设这些都一致，甚至 x 元钱带来的游戏效用就是 x。 加入以下显而易见的结论——价格越高，需求越低，会产生奇妙的化学反应。即便是同样的单机市场，定价不同，明明是一样的总量，最终的实际市场规模却随着定价的不同而变化。 ","date":"2024-08-20","objectID":"/zh-cn/posts/fs2/:2:0","tags":["反思"],"title":" 实证经济学：符合直觉≠显而易见","uri":"/zh-cn/posts/fs2/"},{"categories":["经济学习"],"content":"直觉背后藏着反直觉 我想用费曼的例子举例。 你问一个人在冰上滑倒了。 他为什么滑倒？因为在冰上面。 为什么冰很滑？因为冰在压力下融化成了水？ 为什么冰在压力下融化成了水？这是一种物质在力下产生的作用。 于是我们来到了力学，来到了粒子，来到了反直觉的场所。 再举一个例子，物理专业、数学专业、经济专业都不会对最速降线感到陌生。最开始的一个问题是——光会产生折射，例如筷子插入水中，位置会产生扭曲。高中物理上的解释是光在不同介质的传播速度不同，因此折射角和介质的传播速度相关。 然而更深入的问题是——为什么光速，大自然，要追求这种时间上的最优化？节约时间对光来说很重要吗？ 于是后面有了量子力学的“作用量”。简而言之，光会尝试所有路径，但是效率低的路径会被干涉掉，最终只保留下效率最高的路径。 社会科学与科学 一个科学问题——理论科学究竟是发明还是发现。 就理论而言，自然科学和社会科学的最开始的环节似乎都是认识规律。 从什么现象，认识到了什么规律，才是关键。 我可以从一个现象认识到不同的规律，也可以从不同的现象提炼出同样的规律。 简单问题还可以上升为视角： 常识虽然众所周知，但常识背后的原理并非常识的范畴。 经济学季刊的一篇文章《气候变化提高了居民电力消费——基于适应性行为的视角》。使用的是空调数据。他认为以往研究都是研究改善气候，而空调消费是人类适应气候改变的行为，因此从适应视角分析空调数据。同样的事，nature 子刊也干了，高温天气外卖增多：《Urban food delivery services as extreme heat adaptation》。 金融危机影响深远，大饥荒影响也深远。于是有人就研究经历过特别历史的人做决策时，会受到自身经历的影响。于是经济学有了队列效应——经历过相同社会历史环境人的情况有相同点。 龙年会出现婴儿潮，因为我国喜欢龙这一生肖。同时，研究发现龙年宝宝总是表现更好一些——原因发现，如果父母特意选龙年，说明他们期望很高，付出也会更用心。于是他们发现的规律是——迷信寓言的自我实现。这正是所谓的相信相信本身的力量。 美国数据发现跨性别者的吸烟频率更高，这么一看非常无聊，但他们总结的视角是——特殊群体与压力消费。 我们从小学开始就被教育以小见大，优美的数学模型和现象分析也是一样的。从现象推广到一般化。 ","date":"2024-08-20","objectID":"/zh-cn/posts/fs2/:3:0","tags":["反思"],"title":" 实证经济学：符合直觉≠显而易见","uri":"/zh-cn/posts/fs2/"},{"categories":["经济学习"],"content":"关于直觉 很多人喜欢使用一个词——“科研品味”。甚至很多人这时候就开始中英夹杂了——科研 taste 。我讨厌这种把选题设计神秘化的倾向。其实研究并不神秘，也不需要真正的反直觉。 任何一个研究总是站在前人的脚步上推进，不要因为每一次微小的创新符合直觉就觉得没有贡献，重要的是总结前人经验，提炼新鲜视角。 ","date":"2024-08-20","objectID":"/zh-cn/posts/fs2/:4:0","tags":["反思"],"title":" 实证经济学：符合直觉≠显而易见","uri":"/zh-cn/posts/fs2/"},{"categories":["Hugo 搭建记录"],"content":"自定义字体 参见 Hugo 自定义字体 ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:1:0","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"建站时间加多语言设置 将建站时间和博客总字数添加到页脚，并适配多语言自动切换： 效果如下 中英文效果图\r一般多语言 hugo 博客都有一个 i18n 文件，目的就是识别页面语言参数，然后替换相应文字。 ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:2:0","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"总字数 添加博客总字数统计 找到 \u003c你的博客文件\u003e\\layouts\\partials\\footer.html， 在里面添加以下代码： {{ $articleCount := len .Site.RegularPages }} {{ $totalWordCount := 0 }} {{ range .Site.Pages }} {{ $totalWordCount = add $totalWordCount .WordCount }} {{ end }} {{ i18n \"articleCount\" (dict \"Count\" $articleCount) }}，{{ i18n \"totalWordCount\" (dict \"WordCount\" $totalWordCount) }}。 然后找到 \u003c你的博客文件\u003e\\i18n 在 zh-CN.toml 里添加 # === footer/wordcount === [articleCount] other = \"发布了 {{ .Count }} 篇文章\" [totalWordCount] other = \"共 {{ .WordCount }} 字\" 在 en.toml 里添加 # === footer/wordcount === [articleCount] other = \"published {{ .Count }} posts\" [totalWordCount] other = \"total {{ .WordCount }} words\" 多语言切换显然是一对一的字符识别。 因此，在 i18n 文件中，每个[调用名称]下只能有一个 other=，同时[调用名称]不能重复，这样才能一对一自动切换字符。 一个 bug 如果你像我一样，通过 aplayer 在每个博客文章页面都添加了一个音乐播放器，那么会出现一个 bug。 Hugo 自带的字数统计会和 aplayer 发生冲突。纯音乐的播放器会消失，带歌词的播放器可能会继续保留，原因不明。本地渲染时，更新博客内容触发刷新后，音乐播放器就会出现，但上传到 github 渲染后却不行。 2026年2月21日更新 最近借助 claude code 加 deepseek v3.2 模型测试了下这个 bug。 发现音乐插件的失效原因大概是： LoveIt 主题使用 Hugo 的 Scratch 系统作为\"功能开关\"机制： music 短代码执行时设置：{{- .Page.Scratch.SetInMap \"this\" \"music\" true -}} assets.html 中检查：{{- if (.Scratch.Get \"this\").music -}} 来加载音乐资源。 wordcount.html 引入了一个变化： {{- $posts := where .Site.RegularPages \"Type\" \"posts\" -}} {{- range $posts -}} {{- $totalWords = add $totalWords .WordCount -}} {{- $totalPosts = add $totalPosts 1 -}} {{- end -}} 当Hugo执行.Site.RegularPages时： Hugo 为了获取 WordCount 需要计算每篇文章的内容，这会重置页面的 Scratch 状态。然而在这个过程中，原本在单次渲染流程中保持的 Scratch 状态被干扰。 个人观察是否安装了评论区插件也会影响这个 bug，原因似乎也是同样的——Scratch 状态值似乎被清空了。 在评论区加载部分layouts/partials/comment.html存在这样的代码： {{- dict \"comment\" $commentConfig | dict \"config\" | merge (.Scratch.Get \"this\") | .Scratch.Set \"this\" -}} 本地渲染可以通过更新网站重新加载 scratch 中的 this 映射，但上传到 github 后容易被映射为空。 修改流程： 之前的流程：音乐短代码 → Scratch设置 → 主题条件判断 → 加载资源 修改后的流程：直接检测DOM → 动态加载资源 → 自主初始化 回过头来看，这个 bug 和中文博客目录跳转失败的原因相当类似。 ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:2:1","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"站点运行时间 添加自定义的 custom.js 在站点根目录下创建一个自定义的 JavaScript 文件 \\static\\js\\custom.js。 写入如下代码： /* 站点运行时间 */ // 获取当前语言设置 function getCurrentLanguage() { // 假设你有一个全局变量或方法来获取当前语言 return document.documentElement.lang || 'zh'; // 默认返回中文 } // 更新站点运行时间 function runtime() { window.setTimeout(runtime, 1000); let startTime = new Date('02/18/2024 15:00:00'); //这里写自己的建站时间 let endTime = new Date(); let usedTime = endTime - startTime; let days = Math.floor(usedTime / (24 * 3600 * 1000)); let leavel = usedTime % (24 * 3600 * 1000); let hours = Math.floor(leavel / (3600 * 1000)); let leavel2 = leavel % (3600 * 1000); let minutes = Math.floor(leavel2 / (60 * 1000)); let leavel3 = leavel2 % (60 * 1000); let seconds = Math.floor(leavel3 / (1000)); // 根据语言设置选择对应的文本 let language = getCurrentLanguage(); let runtimeText; if (language === 'zh') { runtimeText = '本站已运行\u003ci class=\"far fa-clock fa-fw\"\u003e\u003c/i\u003e ' + ((days \u003c 10) ? '0' : '') + days + ' 天 ' + ((hours \u003c 10) ? '0' : '') + hours + ' 时 ' + ((minutes \u003c 10) ? '0' : '') + minutes + ' 分 ' + ((seconds \u003c 10) ? '0' : '') + seconds + ' 秒 '; } else if (language === 'en') { runtimeText = 'Running for \u003ci class=\"far fa-clock fa-fw\"\u003e\u003c/i\u003e ' + ((days \u003c 10) ? '0' : '') + days + ' d ' + ((hours \u003c 10) ? '0' : '') + hours + ' h ' + ((minutes \u003c 10) ? '0' : '') + minutes + ' m ' + ((seconds \u003c 10) ? '0' : '') + seconds + ' s '; } else { // 默认文本（可以选择其他语言或保留中文/英文） runtimeText = '本站已运行\u003ci class=\"far fa-clock fa-fw\"\u003e\u003c/i\u003e ' + ((days \u003c 10) ? '0' : '') + days + ' 天 ' + ((hours \u003c 10) ? '0' : '') + hours + ' 时 ' + ((minutes \u003c 10) ? '0' : '') + minutes + ' 分 ' + ((seconds \u003c 10) ? '0' : '') + seconds + ' 秒 '; } // 更新页面上的内容 document.getElementById('run-time').innerHTML = runtimeText; } runtime(); 感兴趣的也可以看看本站完整的 custom.js。 找到 \u003c你的博客文件\u003e\\layouts\\partials\\assets.html，在最末尾的 {{- partial \"plugin/analytics.html\" . -}} 的上一行添加如下代码： \u003cscript type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js\"\u003e\u003c/script\u003e {{- /* 自定义的js文件 */ -}} \u003cscript type=\"text/javascript\" src=\"/js/custom.js\"\u003e\u003c/script\u003e 这样博客就可以调用自定义的 js 文件了。其他 js 文件也可以写在这里面。 修改 i18n 找到 \u003c你的博客文件\u003e\\i18n 在 zh-CN.toml 里添加 [runtime] other = \"本站已运行{{ .Days }}天 {{ .Hours }}小时 {{ .Minutes }}分钟 {{ .Seconds }}秒\" 在 en.toml 里添加 [runtime] other = \"The site has been running for {{ .Days }} days {{ .Hours }} hours {{ .Minutes }} minutes {{ .Seconds }} seconds\" ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:2:2","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"背景 ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:3:0","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"博客背景 我们可以通过直接在 footer.html 添加 js 文件的方式设置博客背景。 本文使用的蜂窝条形网络。还有其他 js，例如网格、球形、波浪、带状…… 效果图可以参考：推荐几种简洁美观的博客背景效果 彩带： \u003cscript id=\"ribbon\" size=\"150\" alpha='0.9' zIndex=\"-2\" src=\"https://cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js\"\u003e\u003c/script\u003e 波浪： \u003cscript src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.js\"\u003e\u003c/script\u003e \u003cscript src=\"https://cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/three-waves.min.js\" \u003e\u003c/script\u003e 蜂窝巢： \u003cscript src=\"https://cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js\"\u003e\u003c/script\u003e 随机点： \u003cscript src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.js\"\u003e\u003c/script\u003e \u003cscript src=\"https://cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/canvas_lines.min.js\" \u003e\u003c/script\u003e 光球： \u003cscript src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.js\"\u003e\u003c/script\u003e \u003cscript src=\"https://cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/canvas_sphere.min.js\" \u003e\u003c/script\u003e ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:3:1","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"注意事项 引入 js 背景需要限制范围 例如在页脚引入，如果不定义范围，那么页脚的链接会被覆盖，导致无法点击。 如图\r最好在页脚开头定义一个环境体用来分层 \u003c!-- 页脚 --\u003e \u003cfooter class=\"footer\"\u003e \u003cdiv class=\"footer-container\"\u003e \u003cdiv class=\"footer-line\"\u003e 最后将引入的 js 设置为最底层即可：data-zIndex=\"-1\" \u003c!-- 引入 canvas-nest.min.js --\u003e \u003cscript src=\"https://cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js\" data-color=\"0,0,0\" data-count=\"150\" data-zIndex=\"-1\"\u003e \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:3:2","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"看板娘 个人是在 header.html 中加入的： \u003c!DOCTYPE html\u003e \u003chtml lang=\"zh\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003ctitle\u003eSakana 小组件集成\u003c/title\u003e \u003cstyle\u003e /* 固定 Sakana 小组件在页面左下角 */ #sakana-widget-container { position: fixed; bottom: 10px; left: 10px; width: 268px; height: 268px; } #sakana-widget { width: 100%; height: 100%; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv id=\"sakana-widget-container\"\u003e \u003cdiv id=\"sakana-widget\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cscript\u003e function initSakanaWidget() { new SakanaWidget({ size: 300, autoFit: true, character: 'chisato', controls: true, rod: true, draggable: true, stroke: { color: '#b4b4b4', width: 10 }, threshold: 0.1, rotate: 0, title: false }).mount('#sakana-widget'); // 初始化时检测屏幕宽度 checkScreenWidth(); window.addEventListener('resize', checkScreenWidth); } function checkScreenWidth() { var screenWidth = window.innerWidth; var container = document.getElementById('sakana-widget-container'); if (screenWidth \u003c= 960) { container.style.display = 'none'; } else { container.style.display = 'block'; } } \u003c/script\u003e \u003c!-- 只在库加载完成后初始化 --\u003e \u003cscript async onload=\"initSakanaWidget()\" src=\"https://cdn.jsdelivr.net/npm/sakana-widget@2.2.2/lib/sakana.min.js\"\u003e \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:4:0","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"标题样式 ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:5:0","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"更改特点 个人更改的标题样式： 二级到六级标题： 字体从 30 号逐级变小。 增强互动性——点击悬浮放大。 保持独立单行。 二级标题：阴影效果、渐变蓝色方框 + # 包围，居中对齐 三级标题到六级标题： 级别越低，竖线越多。例如图中的四级标题（#### h4）左侧有两条竖线。三级标题则只有一条。 标题使用透明方框包围，阴影效果。 兼容白天夜晚模式切换。 四级标题到六级标题：加入等边三角形作为装饰。 效果图片如下 效果图\r","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:5:1","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"更改方式 在 \u003c自己的博客\u003e\\assets\\css\\_custom.scss 中，添加如下命令： 以前自定义过标题样式记得删去。 /* 标题 **************************/ /* ====================================================================== */ /* H2 二级标题：居中 + 渐变 + 左右 # 装饰 */ /* ====================================================================== */ .page.single h2 { position: relative !important; display: block !important; /* 确保标题是块级元素，独占一行 */ width: max-content !important; /* 让宽度自适应内容，才能使用 margin: auto 居中 */ margin: 2.5rem auto !important; /* 块级元素居中 */ font-weight: bold !important; font-size: 30px !important; line-height: 1.4 !important; color: #fff !important; background: linear-gradient(90deg, #4a90e2, #50c9c3) !important; border-radius: 8px !important; padding: 10px 24px !important; text-align: center !important; /* --- Enhanced Shadow --- */ box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important; transition: all 0.3s ease !important; /* Keep transition for smooth hover */ } /* --- H2 Interactive Hover Effect --- */ .page.single h2:hover { box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25) !important; /* Deeper shadow on hover */ transform: scale(1.02) !important; /* 仅保留放大效果 */ cursor: pointer !important; } /* H2 Dark Mode Shadow */ [data-theme=\"dark\"] .page.single h2 { box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important; } /* H2 Dark Mode Hover */ [data-theme=\"dark\"] .page.single h2:hover { box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6) !important; } /* 隐藏主题自动生成的锚点 */ .page.single h2 .headerlink, .page.single h2 a.headerlink { display: none !important; } /* H2 左右装饰 # */ .page.single h2::before { content: \"#\" !important; position: absolute !important; left: -32px !important; top: 50% !important; transform: translateY(-50%) !important; color: #4a90e2 !important; font-weight: bold !important; font-size: 1.4rem !important; } .page.single h2::after { content: \"#\" !important; position: absolute !important; right: -32px !important; top: 50% !important; transform: translateY(-50%) !important; color: #50c9c3 !important; font-weight: bold !important; font-size: 1.4rem !important; } /* ====================================================================== */ /* H3-H6：左对齐 + 多条竖线分级 + 背景轻色 + 阴影 + 三角符号 */ /* ====================================================================== */ /* 隐藏自带锚点 */ .page.single h3 a.headerlink, .page.single h4 a.headerlink, .page.single h5 a.headerlink, .page.single h6 a.headerlink { display: none !important; } /* 通用基础样式 */ .page.single h3, .page.single h4, .page.single h5, .page.single h6 { position: relative !important; display: block !important; margin: 20px 0 12px !important; line-height: 1.5 !important; font-weight: bold !important; border-radius: 0 6px 6px 0 !important; /* --- Transparent background for light mode --- */ background: rgba(74, 144, 226, 0.05) !important; /* --- Enhanced shadow for light mode --- */ box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08) !important; transition: all 0.3s ease !important; /* Keep transition for smooth hover */ } /* --- H3-H5 Interactive Hover Effect --- */ .page.single h3:hover, .page.single h4:hover, .page.single h5:hover { transform: translateX(4px) !important; /* Move slightly to the right */ background: rgba(74, 144, 226, 0.1) !important; /* Increase opacity */ box-shadow: 0 4px 10px rgba(0, 0, 0, 0.12) !important; /* Slightly stronger shadow */ cursor: pointer !important; } /* Dark Mode General Styles */ [data-theme=\"dark\"] .page.single h3, [data-theme=\"dark\"] .page.single h4, [data-theme=\"dark\"] .page.single h5, [data-theme=\"dark\"] .page.single h6 { /* --- Lighter, transparent background for dark mode --- */ background: rgba(255, 255, 255, 0.08) !important; /* --- Stronger, darker shadow for dark mode --- */ box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important; color: #E5E7EB !important; /* Ensures text is light */ } /* Dark Mode H3-H5 Hover */ [data-theme=\"dark\"] .page.single h3:hover, [data-theme=\"dark\"] .page.single h4:hover, [data-theme=\"dark\"] .page.single h5:hover { transform: translateX(4px) !important; background: rgba(255, 255, 255, 0","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:5:2","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"在博客中渲染数学公式 虽然 LoveIt 主题通过 KaTeX 提供数学公式的支持，但个人觉得使用体验不如 MathJax 。 使用 MathJax 的方法首先是在 \u003c你的博客\u003e\\layouts\\partials 中创建 mathjax.html。 mathjax.html: 右键点击网站公式支持公式代码复制。 如图\r{{ if .Params.math }} \u003cscript\u003e MathJax = { tex: { inlineMath: [[\"$\", \"$\"]], }, displayMath: [ [\"$$\", \"$$\"], [\"\\[\\[\", \"\\]\\]\"], ], svg: { fontCache: \"global\", }, }; \u003c/script\u003e \u003cscript src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"\u003e\u003c/script\u003e \u003cscript id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\" \u003e\u003c/script\u003e {{ end }} 然后在 \u003c你的博客\u003e\\layouts\\partials\\header.html 中添加调用命令即可。 {{ partial \"mathjax.html\" . }} 在每篇文章中，想要启用数学公式渲染，就在开头使用： Math = true 由于 Hugo 在渲染 Markdown 文档时会根据 _/*/\u003e\u003e 之类的语法生成 HTML 文档, 并且有些转义字符形式的文本内容 (如 \\(/\\)/\\[/\\]/\\\\) 会自动进行转义处理, 因此需要对这些地方进行额外的转义字符表达来实现自动渲染: _ -\u003e \\_ * -\u003e \\* \u003e\u003e -\u003e \\\u003e\u003e \\( -\u003e \\\\( \\) -\u003e \\\\) \\[ -\u003e \\\\[ \\] -\u003e \\\\] \\\\ -\u003e \\\\\\\\ 例如我渲染以下公式： \\[ V(\\varepsilon)=\\int_{0}^{T}F[t,\\underbrace{y^{*}\\left(t\\right)+\\varepsilon p\\left(t\\right)}_{y(t)},\\underbrace{y^{*}\\left(t\\right)+\\varepsilon p^{\\prime}\\left(t\\right)}_{y^{’}\\left(t\\right)}]dt \\] 实际情况会变成： [ V (\\varepsilon)=\\int_{0}^{T}F[t,\\underbrace{y^{}\\left (t\\right)+\\varepsilon p\\left (t\\right)}_{y (t)},\\underbrace{y^{}\\left (t\\right)+\\varepsilon p^{\\prime}\\left (t\\right)}_{y^{’}\\left (t\\right)}]dt ] 只有转化为 \\_ ^\\* \\\\[ \\\\] 才是正确的： \\\\[ V(\\varepsilon)=\\int\\_{0}^{T}F[t,\\underbrace{y^{\\*}\\left(t\\right)+\\varepsilon p\\left(t\\right)}\\_{y(t)},\\underbrace{y^{\\*}\\left(t\\right)+\\varepsilon p^{\\prime}\\left(t\\right)}\\_{y^{'}\\left(t\\right)}]dt \\\\] \\[ V (\\varepsilon)=\\int_{0}^{T}F[t,\\underbrace{y^{*}\\left (t\\right)+\\varepsilon p\\left (t\\right)}_{y (t)},\\underbrace{y^{*}\\left (t\\right)+\\varepsilon p^{\\prime}\\left (t\\right)}_{y^{’}\\left (t\\right)}]dt \\] 但就我个人使用体验而言，有时候只转化式子的一半命令也可以渲染——转化多少命令似乎与渲染复杂度相关。 例如我渲染 $2\\_i^\\*-2_j^*$ —— $2_i^*-2_j^*$, 由于式子很简单，转不转化命令都一样。 ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:6:0","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["Hugo 搭建记录"],"content":"参考资料 总字数统计 添加站点运行时间 Hugo 的一些模板语法 Hugo 总文章数和总字数 ","date":"2024-08-10","objectID":"/zh-cn/posts/runtime/:7:0","tags":["Hugo"],"title":"hugo 美化 2","uri":"/zh-cn/posts/runtime/"},{"categories":["软件工具"],"content":"在第二次 anaconda 崩溃后，我又知道了为什么大家如此推崇 vscode 和 pycharm 作为 python 的实践 ide。但是个人还是比较欣赏将浏览器作为 ide 的想法，比起 notebook，个人更偏好使用 jupyter，因此决定在此把整个安装流程重新做一遍。 ","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:0:0","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"卸载 anaconda 打开 anaconda prompt , 下载并运行卸载命令。 作用是清理 Anaconda 的配置文件和环境设置。 conda install anaconda-clean anaconda-clean --yes 接下来打开以前安装 anaconda 的文件夹，运行卸载软件 Uninstall-Anaconda3.exe。例如我的位置是在 D:\\anaconda\\anaconda。 如图\r","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:1:0","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"安装 在官网下载一个，一路安装下载。 安装好后在电脑高级环境设置加入 path：前面的就是自己的安装路径。 D:\\anaconda\\anaconda D:\\anaconda\\anaconda\\Scripts D:\\anaconda\\anaconda\\Library\\bin 如图\r","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:2:0","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"Jupyter 快捷键和工作路径 为了便于启动，先创建快捷方式指向 jupyter。 在 anaconda prompt 输入 where jupyter-lab 即可知道位置。然后网络寻找对应的图标 .ico。推荐网站 下载。 如图\r接下来设置工作路径，也就是 jupyter 默认打开的文件夹。 在 anaconda prompt 输入指令创建设置： jupyter notebook --generate-config 接下来找到生成的设置文件 C:\\Users\\\u003c你的用户名\u003e\\.jupyter\\jupyter_notebook_config.py。 在里面搜索 notebook_dir。修改成自己想要的目录： c.ServerApp.notebook_dir = 'D:\\PyTorch_practice'。 ","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:3:0","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"Pytorch 环境配置 为了进行深度学习，需要先下载 cuda，然后配置好 pytorch 可以运行的环境。 参见 CUDA 下载。重点在于，记得在下载时配对好对应的 cuda 版本和 pytorch 版本。例如我下载的是 12.4 版本的 cuda，但是由于 pytorch 最新版还没有适配 cuda12.4，我选择下载适合 12.1 版本 cuda 的 pytorch 环境进行使用。 接下来打开 anaconda prompt 进行环境配置。 虽然最新的 python 是 3.13，但是最兼容的版本是 3.11。接下来开始创建 jupyter 环境： ","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:4:0","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"指定 python 版本，d 盘统一管理环境。 conda config --remove pinned_packages python conda create -p D:\\anaconda_envs\\MLGPU python=3.11 -y ","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:4:1","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"转移到对应的环境，安装 pytorch 相关包： conda activate MLGPU conda install pytorch torchvision torchaudio pytorch-cuda=12.1 -c pytorch -c nvidia -y ","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:4:2","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"一些个人常用的 python 包： 分批安装，不然容易冲突卡顿。（表现是任务管理器 python 长时间磁盘占用为 0 但是下载没有结束。） 以后下载也要注意减少 pip 和 conda 的混用。混用本身并不影响，但是当包多了可能引起环境崩溃。 下载 python 可以适当关闭火绒等防护软件，这些软件会减少磁盘写入速度。 conda install -y scikit-learn statsmodels networkx igraph -c conda-forge --verbose conda install -y matplotlib seaborn plotly -c conda-forge --verbose conda install -y openpyxl xlrd xlwt python-dateutil -c conda-forge --verbose conda install -y tqdm -c conda-forge --verbose pip install aquarel pip install jieba ","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:4:3","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"注册 jupyterlab 内核 conda install -y jupyterlab -c conda-forge jupyter lab pip install ipykernel python -m ipykernel install --user --name=MLGPU --display-name \"Python (MLGPU)\" ","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:4:4","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"Jupyter 插件和外观 中文插件下载（需要在 base 环境中运行下载） pip install jupyterlab-language-pack-zh-CN 个人推荐的插件： variableInspector: 可以点开看当前代码对应的数据属性。 execute-time：查看当前代码运行时间记录。 upyterlab-lsp：自动补全代码。 个人比较喜欢的主题插件： 当然需要暗黑模式。 jupyterlab_stellars_sublime_theme 如图\rjupyterlab_stellars_sublime_theme 如图\rjupyterlab_ariakedark_theme 如图\r","date":"2024-08-09","objectID":"/zh-cn/posts/pytorch2/:5:0","tags":["Pytorch","Anaconda","Python"],"title":"anaconda 的卸载与安装","uri":"/zh-cn/posts/pytorch2/"},{"categories":["软件工具"],"content":"现在一般都使用 pytorch 搭建神经网络。搭建需要 CUDA、python、pytorch 三合一。这里说一些安装的细节。 图源维基百科\r推荐安装教程： 本文补充的是 2024 年后视频没有强调的部分。 视频中给出的中文 pdf 比官网下载说明还要详细，因此推荐。 ","date":"2024-07-26","objectID":"/zh-cn/posts/pytorch/:0:0","tags":["Pytorch","Anaconda"],"title":"Pytorch 配置报错：[WinError 126] The specified module could not be found.","uri":"/zh-cn/posts/pytorch/"},{"categories":["软件工具"],"content":"CUDA 安装 ","date":"2024-07-26","objectID":"/zh-cn/posts/pytorch/:1:0","tags":["Pytorch","Anaconda"],"title":"Pytorch 配置报错：[WinError 126] The specified module could not be found.","uri":"/zh-cn/posts/pytorch/"},{"categories":["软件工具"],"content":"版本匹配 注意： CUDA 和 pytorch 版本是一一对应的，不是下载最新就行。 例如到 2024 年 7 月 26 日为止——最新版 CUDA 版本为 12.7。但 pytorch 并没有与之匹配的版本。 版本匹配可以在 pytorch 官网看。 ","date":"2024-07-26","objectID":"/zh-cn/posts/pytorch/:1:1","tags":["Pytorch","Anaconda"],"title":"Pytorch 配置报错：[WinError 126] The specified module could not be found.","uri":"/zh-cn/posts/pytorch/"},{"categories":["软件工具"],"content":"CUDA 下载 CUDA 官网下载后进行第一次下载地址选择。 此时下载地址是安装包临时储存——下载完后会删除这个文件夹。 第一次地址选择\r第二次自定义安装地址才是 CUDA 真正的安装地址。如果第二次地址选择和第一次相同，文件就会被删去。 第二次地址选择\r","date":"2024-07-26","objectID":"/zh-cn/posts/pytorch/:1:2","tags":["Pytorch","Anaconda"],"title":"Pytorch 配置报错：[WinError 126] The specified module could not be found.","uri":"/zh-cn/posts/pytorch/"},{"categories":["软件工具"],"content":"Pytorch 安装 按照教程安装好后，在 python 中运行，得到如下报错： [WinError 126]找不到指定的模块。 明明严格按照教程却还是报错？\r真正原因是 WIN11 环境和 Pytorch 产生冲突。 很多 python 相关的组件报错都是同样的问题。 解决方法是下载 visual studio 在里面下载 MSVC v143-VS 2022 C++x64/x86 生成工具(最新)。 英文版名字为 MSVC v143 -VS 2022 C++ x64/x86 build tools (Latest) 下载组间\r","date":"2024-07-26","objectID":"/zh-cn/posts/pytorch/:2:0","tags":["Pytorch","Anaconda"],"title":"Pytorch 配置报错：[WinError 126] The specified module could not be found.","uri":"/zh-cn/posts/pytorch/"},{"categories":["软件工具"],"content":"参考资料 OSError: [WinError 126] The specified module could not be found LeNet 学习笔记 ","date":"2024-07-26","objectID":"/zh-cn/posts/pytorch/:3:0","tags":["Pytorch","Anaconda"],"title":"Pytorch 配置报错：[WinError 126] The specified module could not be found.","uri":"/zh-cn/posts/pytorch/"},{"categories":["游戏"],"content":"个人最爱的两首 BGM ","date":"2024-07-25","objectID":"/zh-cn/posts/nzcp/:0:0","tags":["游戏"],"title":"逆转裁判游戏测评：逆转之道，就在其中","uri":"/zh-cn/posts/nzcp/"},{"categories":["游戏"],"content":"哲学意味大于逻辑意味 想想其他游戏作品的逆转哲学？ 《死亡搁浅》：用于保护的绳索和用于攻击的棍棒交换了位置。 《荒野大镖客 2》：我们展现日薄西山的西部时代和主角而非展现辉煌。 《艾尔登法环》：不是敌人关卡越变越难，而是玩家越变越强。 《崩坏 3》：不是符华变成了律者，而是律者变成了符华。 《虚构推理》：主角要虚构真相而非揭露真相。 这些例子并非说明以上设计就是思维逆转，而是想说—— “以一种要素反转的框架看待问题，会得到相当有趣的视角。” 在流行侦探通过线索捉拿罪犯的环境中，如何逆转呢？那就是做一款通过证据为嫌疑人辩护的作品\r！ 不要想用什么证据来证明罪犯做了什么，而是想罪犯做了某件事必然会产生怎样的后果\r？ 不要想犯人为什么要做这件事，而是想犯人不得不这样做的理由\r！ 在我看来，《逆转裁判》的精巧之处在于引入\"逆转的哲学视角\"而\"非逻辑推理\"。 (挑案件毛病肯定是能挑出来不少的） ","date":"2024-07-25","objectID":"/zh-cn/posts/nzcp/:1:0","tags":["游戏"],"title":"逆转裁判游戏测评：逆转之道，就在其中","uri":"/zh-cn/posts/nzcp/"},{"categories":["游戏"],"content":"有节奏的表达 以辩论为载体，《逆转裁判》通过寻找证言漏洞，使用证物的方法展开攻击。法庭辩论配合“等等！异议！看招”的音效，使得玩家有着回合制过招的快感。 无敌的气泡\r每个角色都有独特的动作模组（手柄震动可是很频繁的！） 至于案件推进与人物演出的升华，恰到好处的 BGM，我想无需多言。 唯一不足之处就是多个证物和多个证言相关时是一一对应，这样容易产生误导。 剧情是悬疑而非推理，也就说——游戏爽点是“理解伏笔收回”而非“预测关键反转”。 当结局贯穿全程之时，真男人才掉下眼泪。 真结局总是写给读完故事的人，这就是巧舟编剧最强大的地方。 而我更喜欢的是游戏 1 到 3 各个案件的主题升华节奏。 第一层：律师立场，追求无罪。 此时重点思想是用证据说话，战斗到底，辩护永不放弃。 第二层：开始引入检方，追求真相与信赖 在第一部做好铺垫后，律师显得无比伟大，那负责定罪的检察方呢？ 律师追求无罪，检察方追求有罪。 那么同一个证据，正是在双方的博弈下得到更客观的视角， 因此真相诞生在有罪和无罪的博弈中， 法庭系统重要的是追求双方都信赖。 双方各自贯彻自己的信念，真相就会在碰撞中产生。 第三层：玩家自己的伦理观 虽然本文是架空世界，但伦理哲学总是在思维实验中闪烁光芒。 在游戏中，无罪作为玩家追求的结果，总是和大团圆挂钩， 但是当无罪和坏结局挂钩了呢？ 这就律师面对的“矛盾”。 伤害人心的无罪和安慰人心的有罪，游戏只是抛出问题而不会给出答案。 （但友情羁绊经典燃起来了！） ","date":"2024-07-25","objectID":"/zh-cn/posts/nzcp/:2:0","tags":["游戏"],"title":"逆转裁判游戏测评：逆转之道，就在其中","uri":"/zh-cn/posts/nzcp/"},{"categories":["游戏"],"content":"文字冒险永不完结 虽然《逆转裁判》不是 galgame，但这种像素风和循环的 BGM 总让我想起《16bit 的感动》，即便是简陋的技术也能产生伟大的故事。 即便故事早已落下帷幕， 片刻的坚持也说不定产生奇迹的火花！ 律师，越是危险时越要笑着，这可能就是最后的逆转精神。 对委托人的信赖，对对手的信赖，对矛盾的挖掘，对真相的追求，永不放弃的意志…… 这些都能从一句话开始—— 「異議あり!」 異議あり!\r","date":"2024-07-25","objectID":"/zh-cn/posts/nzcp/:3:0","tags":["游戏"],"title":"逆转裁判游戏测评：逆转之道，就在其中","uri":"/zh-cn/posts/nzcp/"},{"categories":["游戏"],"content":"相关链接 逆转裁判模拟器 逆转裁判素材 ","date":"2024-07-25","objectID":"/zh-cn/posts/nzcp/:4:0","tags":["游戏"],"title":"逆转裁判游戏测评：逆转之道，就在其中","uri":"/zh-cn/posts/nzcp/"},{"categories":["经济学习"],"content":"精华概括 论文《Pensions and Fertility: Microeconomic Evidence》使用巴西的微观数据集研究了养老金供给和生育率的关系。 结论上： 从经济循环和要素替代的整体来看，养孩子的其中一个传统作用是养老，自然，养老金的提供缓解了这部分担忧，于是生育率下降。 贡献上： 历史经验显示，生育率下降的时间大约是在许多高收入和中等收入国家引入或扩大其社会保障制度的时候1🤯。财政公共政策影响生育方面，机理研究相对较少，同时大部分使用 OLG 的宏观模型分析，本文使用微观分析。 计量设计上： 个人比较喜欢本文的计量设计。文章研究的是养老金改革会影响妇女的生育决策，而不同状态的妇女反应理应不同，从而加入不同妇女群组的事件分析法来加强论证。 ","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:1:0","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"理论和现实背景 ","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:2:0","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"理论 都说国人论文喜欢造词，这篇 AER 文章的好多理论解释不也自己造词？甚至为了凸显一个造出来的效应把话说得挺绕。但对应的，本文比较有意思的点是——如何分解生育决策，并概括成为可量化的约束条件。 女性年龄 生存效应（survival effect）：养老金改革前后，同时存在新妇女和老妇女，老妇女已经有两孩子，生育风险较低。 信息效应（information effect）：老年妇女更熟悉孩子养育的情况从而不会囤积孩子。 饱和效应（saturation effect）：已经达到孩子期望状态，和处于生育期后期的人母亲群体，将减少生育可能性。 养老金财富效应（pension wealth effect）：临近退休的母亲群体和年轻的母亲群体从养老金改革中获取的养老金贴现流不同，决策反应也会不同。 突出效应（salience effect）：养老金改革结果越明显，群众反应越突出2。 考虑一位妇女生孩子的决策，她的决策依据将包含自己的身体适孕情况、之前生育出的孩子的数量和性别结构。年轻母亲将更容易对养老金改革做出反应。而年老的母亲不容易做出反应，通过对比两者都数据，使得文章的分析可信度增加。 子女数量结构 改革前的孩子数量越多，越不容易增加生育。 改革前家庭男孩子越多3，越不容易增加生育。 ","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:2:1","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"现实 二十世纪中叶以来，受到城市化、医疗保障、教育等扩张的影响，巴西的生育率急剧下降。在这一背景下，巴西实施了全面的养老金改革。 20 世纪 70 年代之前，只有具有正式工作的城镇工人才有权享受分散的、针对特定职业的养老金，但是 1988 年 10 月巴西联邦共和国宪法的改革显著扩大了养老金的覆盖范围，使得农村工人在巴西历史上首次获得了养老金福利。 养老金改革自 1991 年 7 月获得合法批准后开始实施。对于城镇工人，养老金规则和福利几乎没有变化。而对于农村工人，无论其是否有正式就业或缴纳任何社会保障款项，女性（男性）从55（ 60 ）岁起就有资格领取养老金 正是基于这种历史背景，在论文的事件研究法中，1988 年成为了和 1991 年形成对比的事件检验。 ","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:2:2","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"数据方法 ","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:3:0","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"APC 面板 论文使用的巴西全国抽样家庭调查 (PNAD) 的多个横截面，覆盖了1981-1990、1992-1993、1995-1999、2001-2009、2011-2014等年份。 关于 APC 面板——可以参考个人以前的笔记：《 HLT: 生命周期与工资分解》中的第一节阐述。论文虽然使用 APC 面板，但其实并未分解相关效应，而是通过限制 age 队列，然后通过事件分析法进行对比论证人们对政策反应的不同。 APC面板和三种效应补充 多个体追踪的面板数据总是很难得到，于是人们开始使用长截面，把多个截面数据匹配到一起。这种面板数据在流行病统计和人口统计中常常用到，被叫作 APC 数据（age-period-cohort）。显而易见，APC 面板包含三个数据维度。 Age：年龄，也就是生理特征影响，例如年龄的生理特征可以划分适孕与否、劳动力质量…… Period：截面数据收集时的时间，例如每年人口统计时，那段时间的科技水平，基础设施水平…… Cohort：队列，每个截面的出生年月，一般看作群体共同经历了某种社会环境、历史事件，因此具有相似性。 由于 age+cohort=period ,因此这几个变量常常混淆，同时实操时有会产生共线性的问题。 在计量中，往往是通过某些手段（根据对象特性进行巧妙的差分）率先估计出其中一个效应量，然后回归剩余部分；要么对回归施加额外的线性约束；或者使用高阶差分（类似个体效应估计）的方式单独估计三个要素的效应。 人口统计学常常使用 APC 面板绘制 Lexis 图： 横纵坐标为年份时间（period）和年龄时间 (age)，中间线条按照队列（Cohort）进行分组，通过对比线条趋势和区别展开分析和预测。 Lexis 图（图片来源维基百科）\r","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:3:1","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"变量与计量式子 因变量 短期效应：如果妇女在数据收集年份一年内内生育了孩子，则值为 1，否则为 0 (基于家庭花名册和出生数据) 。样本包括 1981 年至 1999 年育龄 (15 岁至 44 岁) 的女性受访者。 长期效应：45岁女性的生育总数（包括存活和死亡的孩子）。样本包括1930年至1969年出生的女性受访者，她们在特定调查年份的年龄在45岁至69岁之间。作者将在调查年（1984-2014）年龄高于45岁的受访者的生育总数回溯到她们45岁时(1975-2014)的生育数。 实验组为城市职工；对照组为农村职工。 计量回归 双重差分 $$ \\begin{aligned}y _{igtr}^{SR}\u0026= \\alpha^{SR}+\\beta\\big(RURAL _{g}^{SR}\\times POST _{t}^{SR}\\big)\\\\\u0026+ \\gamma RURAL _{g}^{SR}+\\lambda_{t}^{SR}+\\phi _{r}^{SR}+\\psi^{\\prime}\\mathbf{X} _{igtr}^{SR}+\\epsilon_{igtr}^{SR} \\end{aligned} $$ 脚标：r 地区 g 农村城市组别 i 个体 t 年份 r 地方州。 $y_{igtr}^{SR}$: 短期效应。调查年份一年内生了孩子。 $RURAL_{g}^{SR}$：农村工人女性虚拟变量。 $POST_{t}^{SR}$：1991 年 7 月农村养老金政策改革虚拟变量。 $\\mathbf{X}_{igtr}^{SR}$：个体特征、工作特征、家庭特征和地区层面的控制变量。 效应：时间效应 $\\lambda_{t}^{SR}$、个体效应 $\\phi_{r}^{SR}$、稳健聚类到联邦州。 养老金改革使得生育率短期下降； 分组回归中，年轻群体（15-29岁）不显著，年长群体（30-44岁）生育率显著下降；孩子数量越多，孩子男性比例越多，生育欲望越低。 工具变量 将 did（养老金改革政策实施差异） 视为养老金($\\ln(pensionwealth)_{igtr}$)的工具变量。 一阶段： $$ \\begin{aligned}\\ln(pensionwealth)_{igtr}\u0026= \\sigma^{SR}+\\theta\\big(RURAL_{g}^{SR}\\times POST_{t}^{SR}\\big)\\\\\u0026+\\eta RURAL_{g}^{SR}+\\delta_{t}^{SR}+\\tau_{r}^{SR}+\\kappa^{\\prime}\\mathbf{X}_{igtr}^{SR}+\\mu_{igtr}^{SR}\\end{aligned} $$ 二阶段： $$ \\begin{aligned}y_{igtr}^{SR}\u0026=\\alpha^{SR}+\\beta\\ln\\left(\\widehat{pensionwealth}\\right)_{igrt}\\\\\u0026+\\gamma RURAL_g^{SR}+\\lambda_t^{SR}+\\phi_r^{SR}+\\psi^{\\prime}\\mathbf{X}_{igtr}^{SR}+\\epsilon_{igtr}^{SR}\\end{aligned} $$ 事件研究法 关于事件研究法可以参考《计量：事件研究法 1》。 简单来说，事件研究法可以看作双重差分法的动态处理效应，式子变化上，就是对政策变量 $POST_{t}^{SR}$ 进行时间切片，进一步展开为 $\\sum YEAR_T^{LR}$。 $$ \\begin{aligned}y_{igtr}^{LR}\u0026=\\alpha^{LR}+\\sum_{t=-16}^{23}\\beta_t\\big(RURAL_g^{LR}\\times YEAR_t^{LR}\\big)\\\\\u0026+\\gamma RURAL_g^{LR}+\\lambda_t^{LR}+\\phi_r^{LR}+\\psi^{\\prime}\\mathbf{X}_{iglr}^{LR}+\\epsilon_{iglr}^{LR},\\end{aligned} $$ 脚标：r 地区 g 农村城市组别 i 个体 t 年份 r 地方州。 $y_{igtr}^{LR}$: 长期效应。45 岁时的孩子总数。 $RURAL_{g}^{LR}$：农村工人女性虚拟变量。 $YEAR_{t}^{LR}$：政策时间虚拟变量。 $\\mathbf{X}_{igtr}^{SR}$：教育年限、婚姻虚拟变量以及终身劳动力供给的控制变量。 效应：队列效应 $\\lambda_{t}^{LR}$、个体效应 $\\phi_{r}^{LR}$、稳健聚类到联邦州。 双重差分部分 $\\lambda_{t}$ 是调查数据年份时间虚拟变量，属于时间效应，代表数据调查时对应的科技水平、医疗水平、基础设施等随着时间变化的要素； 事件研究法部分 $\\lambda_{t}$ 是出生年份时间虚拟变量，用来标志特定群体经历过特定的历史社会环境。 对于这个细节，我也邮件询问了两位作者，得到如下回复（非常感谢两位老师的热心回复🥰）。 我也邮件询问了两位作者，得到了如下回信（片段）\rIn the short run (SR), we control for time fixed effects (FE) and age dummies. For the long run (LR), our sample includes women aged 45-69 years. We interpret their number of children as the number of children at age 45, regardless of their current age. Therefore, we control for different fertility patterns depending on the birth year of the women, which is why we include cohort fixed effects in the event study section. In this context, (current) time fixed effects are not relevant because we are looking at retrospective fertility patterns (in the past). To summarize, in the SR, time FE and age dummies are used, while in the LR, we use cohort FE to account for differences in fertility patterns based on birth year. Time FE do not coexist in the LR analysis because they do not directly apply to the retrospective nature of the data. 在我个人看来，做法是人为假设 age-period-time 中某个效应不重要，于是直接省略。这种做法坦白讲，个人依旧觉得不严谨。但还是可以辩护下，请参见下文： 动态处理效应图现实，改革后城乡差距不断缩小，改革后生育率不断下降4。横坐标展示的是队列，控制了 age 为 45 岁，以出生年份分组展现。由于 age+cohort=period, 但从统计的现实意义上说，period 在图的统计中没有特别含义，因此可以忽略时间效应。 工具变量部分\r混杂因子 比较农村和城市妇女之间的婚姻率，教育，医疗保健，收入，财富和就业的趋势；讨论了巴西文化变革在宗教和电视剧方面的作用、贸易自由化的作用，以及在儿童数量与对其质量 (即教育) 的投资之间的数量-质量平衡模式。 描述统计可以看出，婚姻率，教育，医疗保健，收入，财富和就业的趋势没有随着改革产生突然变化，同时农村和城市有着相同的趋势\r附录A15 同样，在实施绝育政策的背景下，绝育也是从政策实施后出现大幅波动\r","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:3:2","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"稳健性 更换年龄段分组回归对比：使用新的年龄段分组，对比不同队列的妇女对养老金政策的生育反应。 更换计量函数：加入教育水；作为控制变量；线性时间趋势，线性时间-区域；区分是否和领取养老金的人住在一起。 样本选择：（1）三种类型的样本抽样：非自我代表性的市政局样本框；自我代表性的地区；大都市地区。（2）根据个人职业信息、家庭住址、家长职业信息严格化实验组和对照组的划分和范围。（3）加入妻子丈夫不同职业领域工作的农村城市样本。（4）排除年龄在 15 岁以下和 44 岁以上的妇女样本。（5）排除超过 45 岁的生育妇女。 标准误：除了地方州聚类外，加入集中定居点的聚类。为解决自相关问题，结果分别减去治疗前后的结果均值。 ","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:4:0","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":"结论 我想重点从升华和细化角度归纳本文的结论。 验证了历史经验——养老金的扩大可能降低生育率。 升华：公共福利的支出可能存在一定的政策代价，社会福利和人口变动存在相关机制。 细节：前文提到过了。本文的亮点特色在于结合了 1981 和 1991 年的巴西改革国情，强化了农村-城市，妇女年龄段的分组对比，因此事件研究法也运用的很好。 个人的一些怀疑。 为啥一般人想不到把养老服务和生育联系在一起呢？因为大家默认领取养老金的人已经丧失了怀孕能力。所以这是一个预期问题，妇女们预期未来将得到养老金收入，所以生育决策改变。这个逻辑过程，文章并未采用过计量数据来证明，主要是通过社会历史背景的分析加以阐述。 这么概括的话，这个问题瞬间变得有趣起来 ↩︎ 个人理解这里是强调人们确实对养老金改革产生了预期，从而改变了她们的生育决策。 ↩︎ 论文使用了巴西土地继承数据作为男性偏好的证据，大部分的巴西土地由男性继承。 ↩︎ 文章基于历史背景加入事件分析法，个人认为配合非常完美 ↩︎ ","date":"2024-07-13","objectID":"/zh-cn/posts/paf/:5:0","tags":["文献阅读"],"title":" 养老金和生育率","uri":"/zh-cn/posts/paf/"},{"categories":["经济学习"],"content":" 计量：事件研究法 1 计量：事件研究法 2 计量：事件研究法 3 书接上回，本文是《An Introductory Guide to Event Study Models》的代码学习记录。 ","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:0:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"附录 A：区分 DID 和 Timing-base 这部分代码属于描述统计，描述样本分布（或者作为政策实施背景）。 DID type：既有实验组又有对照组（从未实施过政策） Timing-based：只有实验组，但实验组内部事件冲击时间不同。 代码结果：第一排Hybrid数据结构；第二排Timing-based数据结构\r代码如下，结构是生成数据-画频率图-画累计图。原文累计图先使用 cumul 计算积累比例值，然后通过 twoway 画折线图。太复杂了，这里修改成 cdfplot 命令一步到位。 结果图片和原文不同也不用意外——原文代码在两侧额外插值插入了端点值，我删去了这部分。 clear *-生成双重差分面板随机数据 set seed 2024 set obs 100 gen i = _n gen treated = i \u003e 50 gen E_i = 11 if treated == 1 expand 20 sort i qui by i: gen t = _n xtset i t *-设置处理效应 gen D = (t == E_i) gen etime = (t - E_i) label var i \"个体编号\" label var t \"日期\" label var D \"did变量=time*post\" label var E_i \"事件冲击时间\" *-画出实验组和处理组的分布 replace E_i=16 if treated==0 replace E_i=5 if treated==1 \u0026 i\u003e=51 \u0026 i\u003c=61 replace E_i=6 if treated==1 \u0026 i\u003e=62 \u0026 i\u003c=68 replace E_i=7 if treated==1 \u0026 i\u003e=69 \u0026 i\u003c=70 replace E_i=10 if treated==1 \u0026 i\u003e=71 \u0026 i\u003c=75 replace E_i=11 if treated==1 \u0026 i\u003e=76 \u0026 i\u003c=90 replace E_i=12 if treated==1 \u0026 i\u003e=91 #delimit ; /* 分界符设置，修改分号；为命令分行符号。 如此以来，除非末尾加上分号，即便分行写也看作一排 画图命令这样使用会方面很多 */ twoway (histogram E_i if treated==1, discrete frequency start(4) barwidth(0.8) xscale(range(0 17)) yscale(range(0 1200)) color(cranberry%100)) (histogram E_i if treated==0, discrete frequency start(4) barwidth(0.8) xscale(range(0 17)) yscale(range(0 1200)) color(navy%40)), title(\"实验组和对照组事件冲击分布图\", color(black) size(v.small)) legend(off) xlabel( 5 \"5\" 6 \"6\" 7 \"7\" 8 \"8\" 9 \"9\" 10 \"10\" 11 \"11\" 12 \"12\" 16 \"NA\") text(1100 15.5 \"从来没接受干预\", size(small)) name(histogram4 , replace); #delimit cr *-画出实验组和处理组的分布 preserve //保存当前数据集 #delimit ; cdfplot E_i, title(\"事件时间的累计分布图\", color(black) size(v.small)) legend(off) ytitle(百分比) name(CDF4, replace) note(Hybrid事件数据类型，实验组事件时间不同，同时对照组从未受到事件冲击) ; #delimit cr restore //重新加载保存数据集 *-实验组和处理组的分布 replace treated=1 replace E_i=5 if treated==1 \u0026 i\u003e=1 \u0026 i\u003c=20 replace E_i=6 if treated==1 \u0026 i\u003e=21 \u0026 i\u003c=32 replace E_i=7 if treated==1 \u0026 i\u003e=33 \u0026 i\u003c=37 replace E_i=10 if treated==1 \u0026 i\u003e=38 \u0026 i\u003c=58 replace E_i=11 if treated==1 \u0026 i\u003e=59 \u0026 i\u003c=64 replace E_i=12 if treated==1 \u0026 i\u003e=65 \u0026 i\u003c=90 replace E_i=15 if treated==1 \u0026 i\u003e90 #delimit ; twoway (histogram E_i if treated==1, discrete frequency start(4) barwidth(0.8) xscale(range(0 17)) yscale(range(0 800)) color(cranberry%100)), title(\"实验组和对照组事件冲击分布图\", color(black) size(v.small)) legend(off) ylabel(0(100)800) name(histogram5 , replace) ; #delimit cr *-画出实验组和处理组的累计分布 #delimit ; cdfplot E_i, title(\"事件时间的累计分布图\", color(black) size(v.small)) legend(off) ytitle(百分比) note(Timing-based事件数据类型，由于实验组事件时间不同，内部也能形成比较) name(CDF5, replace) ; #delimit cr *-合并展示以上图 graph combine histogram4 CDF4 histogram5 CDF5 iscale 0.25 //图片比例缩小为四分之一 ","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:1:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"附录 B：Timing-based 的参数限制 在估计 DID 的事件效应时，一般不加入时间趋势，但会加入个体固定和时间固定，这些固定效应的作用是分解截距。处理共线性的方法一般是默认 $t_{-1}$ 为 0 、合并删除部分变量、施加其他约束、非线性化…… 对于 Timing-based 的数据形式，由于没有对照组，我们只能在实验组内部进行比较。需要的加入的参数限制会更多。 事件时间的差异也是提供信息的一部分。 实验组之间事件时间差异最小值越大，信息流失越多。 个体越多，信息越多。 于是附录 B 计量代码研究的是—— 当研究 Timing-based 数据结构时，对于不同的时间分布和个体分布，需要多少个额外参数才能求解？ 个人理解：这里可能是通过一系列回归建立方程组，通过方程组建立矩阵，再通过矩阵秩来判断，还需要多少个参数约束才能求解。 附录B代码结果：一张作者说非常奇怪的结果图\r解释下附录 B 代码的结果图含义。 先给出一个数据集，都受到事件冲击，但事件时间不同。初始样本生成的数据集中，事件冲击时间分别是 4 和 16。此时求解需要的额外约束参数为 12（可以理解为自由度估计还差多少）。 图像的含义是： 先看蓝色圆点部分第一列。 当加入其他样本，且样本点事件冲击时间为 4 (横坐标)时，此时没有带来额外信息。整体数据集依旧是两类样本——事件冲击时间为 4 或 16，求解需要的额外参数依旧为 12(纵坐标)。 同理，蓝色圆点第二列的含义是，加入时间冲击时间为 5 的第三组样本，由于事件冲击时间差异减少，信息增多，此时需要的额外参数减少为 1。 红色三角形的含义则是在给定每列圆点数据的基础上，再加入三角形代表的样本，需要的参数又会发生什么变化。 本来预期，时间差异给定的情况下，个体分组越多，额外参数需求越小，没想到只有第五列出现了这种情况，所以论文情况说这很奇怪，也值得研究，但他也不知道为什么。 以下代码通过 GPT 加入注释： #delimit ; cap log close ; set trace off ; set more off ; clear all ; set seed 101 ; cap prog drop runme ; prog def runme ; args list ctrl trends ; qui gendata \"`list'\" `ctrl' `trends' ; qui forvalues i = 0/20 { ; gen D_p`i' = (etime == `i') ; // 生成处理组正向虚拟变量 gen D_m`i' = (etime == -1 * `i') ; // 生成处理组负向虚拟变量 summ D_p`i' ; // 汇总处理组正向虚拟变量 local dropme = (r(mean) == 0) ; if `dropme' == 1 { ; drop D_p`i' ; // 如果均值为0，则删除处理组正向虚拟变量 } ; summ D_m`i' ; // 汇总处理组负向虚拟变量 local dropme = (r(mean) == 0) ; if `dropme' == 1 { ; drop D_m`i' ; // 如果均值为0，则删除处理组负向虚拟变量 } ; } ; drop D_m0 ; // 删除处理组负向虚拟变量的基准情况 egen unittype = group(E_i) , miss ; // 根据 E_i 生成单位类型变量，处理缺失值 qui tab unittype , gen(udum) ; // 汇总单位类型变量，生成对应的虚拟变量 qui tab t , gen(tdum) ; // 汇总时间变量，生成对应的虚拟变量 unab vars : D_* udum* tdum* ; // 生成所有与 D_*、udum* 和 tdum* 相关的变量列表 mata: count() ; // 调用 Mata 函数计算变量的统计信息 local c1 = count[1,1] ; // 获取统计结果中的第一列信息 local c2 = count[1,2] ; // 获取统计结果中的第二列信息 local c3 = count[1,3] ; // 获取统计结果中的第三列信息 di \"`list'\" _column(20) `c1' _column(25) `c2' _column(35) `c3' ; // 显示变量列表及其统计信息 end ; mata: ; void count() { ; v = st_local(\"vars\") ; // 获取 Stata 定义的局部宏变量 \"vars\" X = st_data(.,v) ; // 从当前数据集中获取变量数据 mycols = cols(X) ; // 计算数据矩阵的列数 myrank = rank(X) ; // 计算数据矩阵每列的非缺失值数量 gap = mycols - myrank ; // 计算数据矩阵每列的缺失值数量 output = (mycols,myrank,gap) ; // 将统计结果组合成元组 st_matrix(\"count\",output) ; // 将统计结果存储到名为 \"count\" 的矩阵中 } ; end ; cap prog drop gendata ; program define gendata ; args list ctrl trends ; drop _all ; local numobs = 48 ; // 定义观察值数量 local treatedunittypes = wordcount(\"`list'\") ; // 计算处理单元类型数量 /* \"ctrl\" is 0/1 whether we have control (untreated) units */ /* if we have them, put half of data into control units */ local numtreatedobs = round(`numobs' / (1 + `ctrl')) ; // 计算处理单元观察值数量 local numuntreatedobs = `numobs' - `numtreatedobs' ; // 计算对照单元观察值数量 local obspertype = floor(`numtreatedobs' / `treatedunittypes') ; // 计算每种处理单元类型的观察值数量 forvalues i = 1/`treatedunittypes' { ; local eventdate_`i' = word(\"`list'\",`i') ; // 获取每种处理单元类型的事件日期 } ; set obs `numobs' ;/* 观察值数量 */ gen i = _n ; gen treated = i \u003e `numuntreatedobs' ;/* 处理组单元 */ gen E_i = . ; forvalues i = 1/`treatedunittypes' { ; local start = (`i'-1)*`obspertype' + `numuntreatedobs' + 1 ; local stop = (`i')*`obspertype' + `numuntreatedobs' ; replace E_i = `eventdate_`i'' if i \u003e= `start' \u0026 i \u003c= `stop' ; // 根据每种处理单元类型设置事件日期 } ; replace E_i = `eventdate_`treatedunittypes'' if i \u003e `stop' ; tab E_i , miss ; // 汇总事件日期变量，显示缺失值情况 expand 20 ;/* 时间期限 */ sort i ; qui by i: gen t = _n ; xtset i t ; // 定义面板数据的单位和时间变量 /* make variables that determine the DGP */ gen etime = (t - E_i) ;/* 事件时间 */ /* gen TE = 1 * (etime \u003e= 0) ;/* 步骤功能处理效应 */ */ gen TE = (etime \u003e= 0) * (etime+1) ;/* 无尽的斜坡功能处理效应 */ replace TE = 0 if E_i == . ; gen Y0_pure = 0 ;/* 最简单的反事实情况 */ *gen Y0_pure = 4 * treated + 0.3 * treated * t ;/* 处理组有前趋势 ... */ *gen Y0_pure = 4 * treated + 0.1 * treated * (t-10) * (E_i - 9);/* 基于 E_i 的前趋势 ... */ gen eps = sqrt(0.2) * rnormal() ; gen actual = Y0_pure + TE * treated ; gen y = actual + eps ;/* 观察到的 Y */ end ; cap prog drop bigone ; prog def bigone ; runme \"10 11\" 0 0 ; forvalues i = 4/16 { ; runme \"4 16 `i' \" 0 0 ; local r","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:2:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"附录 C：估计器的选择 目前有两种种估计器选择： 约束事件前一期变量的系数为 0 约束事前虚拟事件变量系数加总为 0 不同约束条件下的估计，两种估计都使用了个体固定效应加总为0\r这部分的代码是仿真实验。 先根据条件生成处理效应，处理效应确定为 1（图中的红色线就是实际生成的处理效应）。然后加入偏差随机数，最后进行回归估计。 左侧的约束条件选择了规范化事件前一期，右侧的约束条件选择了约束事前虚拟时间变量，可以发现右侧更接近实际治疗效应（红线）。 以下代码由 GPT 进行注释，个人进行了部分修正。 代码结构：设置数据结构生成函数和约束条件选择函数，绘图 #delimit ; cap log close ; set trace off ; set more off ; clear ; set seed 2024202431 ; cap prog drop runme ; prog def runme ; gendata ; /* 创建估计变量 */ /* 事件时间虚拟变量 */ forvalues i = 0/20 { ; gen D_p`i' = (etime == `i') ; gen D_m`i' = (etime == -1 * `i') ; summ D_p`i' ; local dropme = (r(mean) == 0) ; if `dropme' == 1 { ; drop D_p`i' ; } ; summ D_m`i' ; local dropme = (r(mean) == 0) ; if `dropme' == 1 { ; drop D_m`i' ; } ; } ; drop D_m0 ; gen byte group2 = E_i == 11 ; gen trend_group2 = t * group2 ; summ ; /* 1 规范化事件事件-1的虚拟变量为0 */ constraint define 1 D_m1 = 0 ; /* 2, 所有组的固定效应加总为0 */ constraint define 2 1.i + 2.i + 3.i + 4.i + 5.i + 6.i + 7.i + 8.i + 9.i + 10.i = 0 ; /* 7 处理前的事件时间虚拟变量的平均值设为零*/ constraint define 7 D_m10 + D_m9 + D_m8 + D_m7 + D_m6 + D_m5 + D_m4 + D_m3 + D_m2 + D_m1 = 0 ; cnsreg y D_m* D_p* ibn.t ibn.i , cluster(i) nocons constraints(2 1 ) collinear ; matrix myb_ES1 = e(b) ; matrix myV_ES1 = e(V) ; cnsreg y D_m* D_p* ibn.t ibn.i , cluster(i) nocons constraints(2 7 ) collinear ; matrix myb_ES2 = e(b) ; matrix myV_ES2 = e(V) ; tempfile main ; save `main' ; /* 画图 */ *开始调试; tempfile pooled ; forvalues i = 0/10 { ; drop _all ; set obs 2 ; gen label = \"m`i'\" in 1 ; replace label = \"p`i'\" in 2 ; gen etime = -1 * `i' in 1 ; replace etime = `i' in 2 ; foreach j in 1 2 { ; gen cf_m`j' = . ; /* 设置治疗效应的估计方程 */ gen truth_m`j' = (0) in 1 ; replace truth_m`j' = (1) in 2 ; local myb = 0 ; cap local myb = myb_ES`j'[1,\"D_m`i'\"] ; gen ES_b_m`j' = `myb' in 1 ; local myv = . ; cap local myv = myV_ES`j'[\"D_m`i'\",\"D_m`i'\"] ; local myse = sqrt(`myv') ; gen ES_se_m`j' = `myse' in 1 ; local myb = 0 ; cap local myb = myb_ES`j'[1,\"D_p`i'\"] ; replace ES_b_m`j' = `myb' in 2 ; local myv = . ; cap local myv = myV_ES`j'[\"D_p`i'\",\"D_p`i'\"] ; local myse = sqrt(`myv') ; replace ES_se_m`j' = `myse' in 2 ; } ; capture append using `pooled' ; save `pooled' , replace ; } ; drop if label == \"m0\" ; drop if label == \"p10\" ; sort etime ; save `pooled' , replace ; local note1 \"gam(-1)=0\" ; local note2 \"Avg(gam(-))=0.\" ; forvalues i = 1/2 { ; gen top_`i' = ES_b_m`i' + 1.96 * ES_se_m`i' ; gen bot_`i' = ES_b_m`i' - 1.96 * ES_se_m`i' ; graph twoway (connected ES_b_m`i' truth_m`i' etime , msize(medsmall medium) msymbol(o oh) lpattern(solid dot) ) (line cf_m`i' etime , lpattern(dash) ) (line top_`i' bot_`i' etime, lpattern(dash dash) lcolor(brown brown)) , legend(off) xline(-0.5) note(\"`i': `note`i''\") name(g`i' , replace) yscale(range(-3,3.5)) yline(0 , lpattern(dash) lcolor(black)) ; } ; graph combine g1 g2 , ti(\"不同等标准化估计会影响结果\") note(\"All models: Avg(alpha)=0; DiD data structure. T=20, E1=11.\") ; graph export figures/apdx_fig_A04.png , replace ; end ; cap prog drop gendata ; program define gendata ; /***************** 主要数据生成过程选项 /* 可能的治疗效应类型 */ 1 - 零治疗效应 2 - 阶梯函数治疗效应 3 - 永久爬坡 4 - 爬坡到平台 5 - AR(1)类型 /* E_i的分布 */ T = 19; E_i ~ U(6,14) /* 是否存在从未被处理的单位？ */ 是; 否 /* Y0（潜在结果的\"信号\"）动态 */ 1 - 基本: Y0 = 0 2 - 水平变化: Y0_i,t = E_i 3 - 趋势变化: Y0_i,t = t * E_i 主要选项结束 ******************/ drop _all ; /* /* 经典 ES 数据结构 */ set obs 9 ;/* 组数 */ gen i = _n ; gen E_i = 5 + i ; gen treated = 1 ;/* 全部实验组 */ expand 20 ;/* 时间段数 */ */ set obs 10 ;/* 组数 */ gen i = _n ; /* NxT DiD 数据结构*/ gen treated = i \u003e 5 ;/* 一半实验组 */ gen E_i = 11 if treated == 1 ; expand 20 ;/* 时间段数 */ sort i ; qui by i: gen t = _n ; xtset i t ; /* 创建决定 DGP 的变量 */ gen D = (t == E_i) ; /* 事件\"脉冲\" */ gen etime = (t - E_i) ;/* 事件虚拟时间 */ gen TE = 1 * (etime \u003e= 0) ;/* 实验组判断 */ *gen TE = (etime \u003e= 0) * (etime+1) ;/* endless ramp function for treatment effect */ replace TE = 0 if E_i == . ; gen treated_post = etime \u003e= 0 ; gen Y0_pure = 0 + 1 * treated ;/* 偏移量 counterfactual */ *gen Y0_pure = 4 * treated + 0.3 * treated * t ;/* treated have a pre-trend ... */ *gen Y","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:3:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"附录 D: 接近原始数据 DID 又又又封神啦🤣（ 附录 D 本质可以理解为加入了时间趋势（斜率对比）的分解。和前文代码结构依旧相同，这次增加点的是反事实组的预测，通过反事实组再次对比强化因果论证。 /* 创建反事实预测值 cf_ES2 */ gen cf_ES2 = y ; // 将 cf_ES2 初始化为观测变量 y /* 按时间范围循环处理 */ qui summ etime ; // 求 etime 的汇总统计 local mymin = r(min) ; // 获取最小值 local mymax = r(max) ; // 获取最大值 forvalues i = `mymin'/`mymax' { // 循环遍历时间范围 if `i' \u003c 0 { // 如果时间小于0 local j = abs(`i') ; // 取绝对值 replace cf_ES2 = cf_ES2 - _b[D_m`j'] * D_m`j' ; // 减去处理效应系数乘以对应的 dummy 变量 } else { // 如果时间大于等于0 replace cf_ES2 = cf_ES2 - _b[D_p`i'] * D_p`i' ; // 减去处理效应系数乘以对应的 dummy 变量 } } /* 按单元类型和时间求反事实预测均值 */ egen meancf_ES2 = mean(cf_ES2), by(t unittype) ; // 按 t 和 unittype 求 cf_ES2 的均值 使用前后的系数差异再次相减得到结果\r","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:4:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"附录 E：重复的事件冲击 这部分要解决的问题是。如果一个事件在不同时间重复发生，应该如何选择。此时生成的真实处理效应是不断衰减的曲线。 做法 1是约束事件虚拟变量的系数（$\\gamma_1=\\gamma_2$）相同： 如下约束就是分别为两期一组、三期一组、四期一组的分段。 以下是约束代码的例子: #delimit; /*两期一组*/ constraint define 9 D_m10=D_m9; constraint define 10 D_m8=D_m7; constraint define 11 D_m6=D_m5; constraint define 12 D_m4=D_m3; constraint define 13 D_m2=D_m1; constraint define 14 D_p0=D_p1; constraint define 15 D_p2=D_p3; constraint define 16 D_p4=D_p5; constraint define 17 D_p6=D_p7; constraint define 18 D_p8=D_p9; /*三期一组 */ #delimit; constraint define 21 D_m1=D_m2; constraint define 22 D_m1=D_m3; constraint define 23 D_m4=D_m5; constraint define 24 D_m4=D_m6; constraint define 25 D_m7=D_m8; constraint define 26 D_m7=D_m9; constraint define 27 D_p0=D_p1; constraint define 28 D_p2=D_p1; constraint define 29 D_p3=D_p4; constraint define 30 D_p3=D_p5; constraint define 31 D_p6=D_p7; constraint define 32 D_p6=D_p8; 做法一：约束事件时间虚拟变量间的值相等\r做法 2 是约束系数与系数间的斜率（$\\gamma_1-\\gamma_0=\\gamma_2-\\gamma_1$）相等 以下是约束代码的例子: constraint define 9 D_m10=D_m9; constraint define 10 D_m8=D_m7; constraint define 11 D_m6=D_m5; constraint define 12 D_m4=D_m3; 系数间都斜率相等的约束\r左上角是普通情况。 右上角是两期斜率相等的分组。 左下角是三期斜率相等的分组。 右下角是事前事后两期各自相等的分组。 ","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:5:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"附录 F：时间趋势的控制 本文研究的是——是否加入时间趋势的控制和其他约束。 ","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:6:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"DID：一个个体，两个时间 两种约束，一种是加入趋势控制——控制变量加入 trend_group2 //趋势控制变量 gen byte group2 = E_i == 11 gen trend_group2 = t * group2 相同的约束 //其他约束类型和前文相同，保证事件虚拟时间系数相等或者斜率相等 施加的约束包含加入趋势控制和事件时间虚拟变量的约束\r","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:6:1","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"Time-based ：一个个体，两个时间 接下来验证 Time-based 数据形式 DID 形式有对照组辅助生成反事实预测，但是 time-based 缺少对照组。一般有如下几种选择： 事前、事末的几期事件虚拟时间系数相同，使图像更加平滑 事前、事末地几期事件虚拟时间系数间的斜率相同，更体现趋势 事前趋势系数加总约束为 0 多个事件时间的趋势加权约束加总为 0 可以发现，在下图实验约束条件时，第四个图居然得出来奇怪的结果。 其施加的约束有： 个体固定效应加总为 0 事前效应加总为 0 事后末期斜率相同 加权事前趋势为 0 \\\\我没看明白这里约束5.5的基期怎么来的？ constraint define 8 (10-5.5)*D_m10 + (9-5.5)*D_m9 + (8-5.5)*D_m8 + (7-5.5)*D_m7 + (6-5.5)*D_m6 + (5-5.5)*D_m5 + (4-5.5)*D_m4 + (3-5.5)*D_m3 + (2-5.5)*D_m2 + (1-5.5)*D_m1 = 0 ; time-based的仿真实验\r那我们是选择约束系数斜率相同还是系数值相同呢？ 答案是根据情况来。如果一个政策的真实效果不会随时间变动，就选择系数值相同的约束，如果政策效果随时间变动就选择系数斜率相同。 事件效果不随时间改变的跳跃冲击仿真，此时系数值相同估计更有效\r个人觉得这个结论变成循环论证了。本来就是通过事件研究法估计处理效应（动态还是静态是需要我们研究的结果），现在倒变成根据结果来选择方法来。 当然，启发无非就是分析政策背景做出假设，进而选择约束方式。 ","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:6:2","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"DID：多个体，多时间 对于多期 DID 来说，加入多个事件时间的趋势加权约束为 0则会使得估计更加有效。如图： 第一列是普通估计，没有施加个体时间双向固定以外的限制 第二列是在第一列基础上加入了事件事前趋势加总为 0 的约束： //事件日期依旧是10和5两期，个人没有看懂5.5的基期设置怎么来的 constraint define 3 -4.5*D_m10 - 3.5*D_m9 - 2.5* D_m8 - 1.5* D_m7 - 0.5*D_m6 + 0.5 * D_m5 + 1.5 * D_m4 + 2.5 *D_m3 + 3.5 *D_m2 + 4.5 *D_m1 = 0 ; 第三列是加入了类型控制 gen treated_time = treated * t DID估计：橙色部分是基于残差预测的反事实组\r","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:6:3","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"Time -based：多个体，多时间 time-based，橙色也是反事实组\r上面全是实验组的 Time -based 结构中，但是这次多了个体差异。 第二列比第一列多了个体分组和时间加权趋势为 0 //个体分组 Egen unittype = group (E_i) ; Egen meany = mean (y) , by (t unittype) //时间趋势加权，我还是没看懂3.5的基期是怎么出来的 constraint define 103 (6-3.5) * D_m6 + (5-3.5) * D_m5 + (4-3.5) * D_m4 + (3-3.5) * D_m3 + (2-3.5) * D_m2 + (1-3.5) * D_m1 = 0 ; 第三列比第二列多了系数约束 constraint define 8 D_m7 = D_m6 ; constraint define 9 D_m6 = D_m5 ; ","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:6:4","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":"总结 事件分析法是 DID 的一种推广。 个人理解是，事件分析法会基于 DID 进一步进行时间切片。由于时间虚拟变量增多，求解也需要更多的约束，因此我们得根据研究背景添加时间趋势的控制。 DID 和事件研究法互为补充，事件研究法能进一步展现 DID 估计的动态效应（随时间增加，减少，变异后回归正常值）。如果两种估计都方向相反，可能是由于选择了错误的约束条件，或者存在共线性的相关问题。 不同的数据结构，事件分析法应选择不同的额外约束数量和方式。 从附件代码实验来说—— Time-based 数据集求解需要添加约束，约束的添加根据事件时间数和个体数判断。 事件研究法中，事前趋势标准化一般会比较准确。 只有一个个体、不同时间冲击的数据集，得谨慎添加约束，可能得出相反的结果。 多个个体的数据，无论是 time-based 还是 did，都应该加上组类别控制。 ","date":"2024-06-24","objectID":"/zh-cn/posts/event2/:7:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 2","uri":"/zh-cn/posts/event2/"},{"categories":["经济学习"],"content":" 计量：事件研究法 1 计量：事件研究法 2 计量：事件研究法 3 做过 DID 的必然对平行趋势检验不陌生。而平行趋势检验就是事件研究法的一种特殊运用。 最近老师让阅读学习论文《An Introductory Guide to Event Study Models》。 作者们也发过一个油管系列视频。 本文将基于这篇论文框架记录个人感悟。 代码还没有细看，这里先放上统计理论理解。 ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:0:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"经济学如何研究事件冲击？ 事件研究法就是研究特定事件是否对研究对象产生了影响 。这种方法最先在金融领域得到应用。例如分析公司改名，公司丑闻爆发，公司信息披露对股票波动的影响1。 这种方法当然需要更严谨地统计分析——例如某乎动不动就出现以下形式的问题： 政策实施 or 发布会后，苹果 or 英伟达公司股价第二天就蒸发 or 暴涨几十亿，原因是什么？ 这种分析就是事件研究法的起点，但统计学上的检验还需要更严谨些。 被引入到计量经济学中，事件研究法主要用于研究动态处理效应。通过处理效应的时间分组切片，进一步讨论事件影响。 例如下图研究失业对收入2的影响中，根据每个人失业时间建立动态的时间虚拟变量：失业前一年（t-1）、失业后一年(t+1)、失业后两年(t+2)。其中包含了预期趋势和事后趋势。 Earnings losses of displaced workers\r事前趋势：例如大家都预期失业潮要来了，在事件到来之前，可以看出就有缓慢下降的趋势，但在时间出现那一刻（横坐标为 0）的前后，冲击效果依旧明显。 事后趋势：随着时间冲击后，效应开始逐渐反弹。也就是比较时间冲击后每年都效果是逐年增强还是减弱。 模型假设：DID 中的平行趋势检验也是事件研究法。证明政策满足模型假设——外生冲击。因此，在政策开始前，处理效应应该不显著且系数接近 0，政策开始后，系数显著异于 0。 以英语听力考试与教育不平等3的一个论文为例子。 论文设置的时间虚拟变量是英语听力何时加入高考。 被解释变量：英语成绩、数学语文成绩、录取率。 异质性分组：城市和农村样本。 通过图也可以看出，在引入英语听力前，城乡差距不大，引入后城乡水平差距不断扩大。 英语听力考试与教育不平等\r","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:1:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"事件研究法的“亿”点细节 ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:2:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"回归估计式 在计量经济学中，事件研究法就是估计动态处理效应——对回归进行时间切片。 以面板数据为例，特点是加入了事件时间虚拟变量 $D_{i, t-j}$ 。 $$ y_{ii}=\\underbrace{\\left(\\sum_{j\\in{-m,\\ldots,0,\\ldots,n}}\\gamma_{j}\\cdot D_{i,t-j}\\right)}_{\\text{事件时间虚拟变量}}+\\underbrace{\\alpha_{i}+\\delta_{i}}_{\\text{面板固定效应}}+\\underbrace{\\beta\\cdot X_{ii}}_{\\text{ 控制变量}}+\\epsilon_{ii}. $$ ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:2:1","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"数据结构分类 《An introductory guide to event study models》4给出了两种分类依据： 是否有“从未经历处理”的样本组？ 不同样本组的受到处理的事件日期是否存在较大差异？ 分组 没有“从未经历处理”的样本 有“从未经历处理”的样本 事件日期相同 N/A DID-type 事件日期不同 Timing-based Hybrid 省流总结一下—— N/A：没有对照组，处理效应根本不能估计。 DiD-type：完美的对照实验，传统 DID。 Timing-based：虽然都是实验组，但是实验组的事件冲击有差异，也可以做对照实验。 以易地搬迁的一个面板数据研究为例子5。人大这个易地搬迁数据库长期在易地搬迁安置点做问卷调查，所以他们的研究其实是 ITT ——所有样本都是经历了易地搬迁政策的实验组。 但是！易地搬迁是分批执行的，也就是有人先搬出去，有人后搬出去，于是同样的年份，也存在搬了的实验组和没有搬走的对照组，因此还是可以做。 顺便一提，本文的结论是居住环境变好了，打工人就不想离开家了。所以文章题目叫《甜蜜陷阱（Home sweet home）》 Hybrid： 既有实验组和对照组的对比，又有同样年份实验组内部的对比。 ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:2:2","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"事件时间的选择 实验研究法的整体逻辑为： 选择 事件和发生时间，选择 事件基期，选择 窗口期（动态处理效应范围），选择 实验组和对照组，计算和分解 平均处理效应。 事件发生时间的选择 ： 即便一个政策在全国某个具体时间统一普及，可能市场会提前做出反应；更何况，大部分事后，事件的冲击是不均匀的，分群体、分载体、分时间、分空间地慢慢波及出去。不过经济学统计也就只是有啥，就选个最好的就行。 以研究 Facebook 对大学生心理健康的一个研究为例子6每个人何时开始使用 Facebook 显然难以获取数据，这个研究就使用大学生个体心理问卷，和 Facebook 展开校园合作的校园时间匹配到一起回归。 顺便一提研究结果：社交媒体的使用加剧了大学生的心理不健康。渠道测试显示是攀比焦虑导致的。 事件基期的相关处理 补充计量中虚拟变量（dummy）的知识点： 为了避免共线性——使用 n-1 个虚拟变量估计 n 个变量间的相对差距。 例如比较空气污染的春夏秋冬周期水平。 这种处理效应的估计需要一个基期作为对照。 我们可以默认春天为基期， 那么夏、秋、冬的系数估计其实都是和春天数据比较出的结果。 时间研究法的的时间虚拟变量也需要设置一个基期，于是有了以下选择或处理： 绝对基期：一般选择事件发生的前一期 （对比效果更好些，能突出跳跃性）：能反映长期差距，事前期数较多时用。 相对基期：相对前一期位置作为基期：关注预期效应，或者事前期数较少时用。 期数合并：目的是处理共线性问题。例如把 t-6 及其以前的合并为一期，把 t+5 及其以后的合并为一期。或者删除某一期。 基期处理：归一化，设为 0…… 时间趋势：是否添加时间趋势、个体固定效应、时间固定效应。 事件端点：端点可能偏移而不好看，也可能反映了事件趋势。 《An introductory guide to event study models》中提到考虑到事件虚拟变量的设置可能会影响分析结果，这里应该加强虚拟变量的设置和限制描述。 但就我最近读的 top5 论文而言，似乎事件研究法主要用于直观地展现异质性差异、模型外生冲击假设。所以这方面的描述基本都是一带而过，只说了怎么设置，而不强调为何要这么设置。 窗口期选择 窗口期的选择，本质就是结果美观和统计偏差的平衡。 太短统计有偏差，太长反事实估计不够有效。 从实用主义的角度来说🤪——让回归结果体现一种趋势是最好的。 事前和事后窗口期对称是最好的。 可以进一步拟合，例如先按月份估计动态变化，再按季节进行加权，从而反映一种趋势变化。多事件的加权拟合也是一样的方法。 二次加权拟合，更能反映一种趋势变化\r实验组和对对照组的选择 排除特殊样本。例如中国城市数据，我们往往会排除直辖市，因为他们太特殊了！而在异质性部分，一般会看下省会城市和非省会城市的区别。 注重平行趋势检验。也就是事件冲击前，实验组和对照组越像越好。 加入控制变量。 加权匹配。例如合成控制法和倾向匹配法。 如果一个事件研究具有 Hybrid 数据结构，可以选择剔除未被处理组的数据。 论文作者也推荐把系数标准化。 一个有趣的问题：控制变量和倾向匹配有什么区别？在我个人看来，一个是后门控制，通过因果路径估计；一个是前门控制，通过样本匹配加强对照。 趋势的干扰问题 趋势分解这部分太复杂，不能完全看懂，就大致说说了 需要考虑以下两个方面的趋势问题： 个体趋势和时间趋势如果不控制，处理效应的估计就会有偏差。 处理效应本身也会随时间变化而变化，需要加以分解。 论文有关讲解中举例的一些趋势变化\r个人画过的一个平行趋势检验的图，虽然勉强通过，但可以看出很明显的事前趋势，因此说服力会稍微次一点\r1、一些情况下，由于事件时间、日历时间和个体固定效应存在多重共线性，因此不可能在处理线性趋势。除非估计成非线性估计。 对于趋势的估计，个人确实感触颇深，其实有一些很巧妙的思路来分解，例如《生命周期与工资分解 》。这里面的经济分析非常巧妙。即便是个体、时间、事件时间共线了，依旧能通过理论分解出来。当然，这种处理只能针对特定对象，非统计学数理通用方法。 2、可以设置一期为 0，进而讨论非线性趋势 3、一些具体的内生性。例如一些政策是分时间进行的。此时可能得到后处理的效应比先处理的效应大。但可能是因为个体随时间发育从而影响。因此，做社会调查数据库时，很多人也会设置问卷入库批次的固定效应。 4、加入时间趋势和个体虚拟变量的交互项。 5、Timing-based 的数据结构建议引入二次趋势变量，避免共线性。 6、加入时间趋势。时间固定效应分解的是截距，时间趋势估计分解的是斜率。 左图没有加入时间趋势，右侧加入时间趋势后——这种对比逻辑就是双重差分法的逻辑。来源：论文作者的油管视频讲解\r","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:2:3","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"事件研究的推断统计 聚类检验的是自相关问题。哪个层级存在自相关就在哪个层级进行聚类。 可以参考计量数据的分组与测度（STATA 版）。 ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:2:4","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"未来展望 1、测度强度可变的事件效应 时间虚拟变量和事件规模大小交互项。 个人感觉这种思路和差额移动法工具变量（shift-IV）比较类似。利用排除个体的组内趋势乘以个体规模作为工具变量。 2、每个单位有多个事件 进行加权，或者限定唯一——只计入最大的事件或者第一次出现的时间。 3、异质性处理 交互项，或者根据时间分组，例如较早受到影响的组和较晚受到影响的组。 通过反事实进一步估计。事件研究法由于固定效应和趋势没有估计到会产生偏差，文章使用了一种估计手段让其估计更准确（这里我没看懂）。 事件研究法由于固定效应和趋势没有估计到会产生偏差，文章使用了一种估计手段让其估计更准确（这里我没看懂）。\r4、考虑非年份事件时间 例如队列效应。其实就是自定义时间虚拟变量分组。 5、状态转变 《An Introductory Guide to Event Study Models》虽然没有提到这点，个人觉得还有个可以展望的地方——广延边际和集约边际的分解。 请参考《Log (y+1) 的转化是否可靠》 ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:3:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"省流总结 事件研究法本质估计的是动态处理效应。 为了估计准确，有以下建议： 系数标准化 选择合适的基期和事件窗 考虑个体效应、时间效应、时间趋势 考虑样本特性带来的混杂因子（采用论文提供的估计器）。 ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:4:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["经济学习"],"content":"本文主要参考文献 Stata：事件研究法的编程实现 从DID到事件研究（一）：三幕剧构成一台戏 Stata：一文读懂事件研究法Event Study An Introductory Guide to Event Study Models 许文立计量经济学讲义 ES，启动！——事件研究法入门指南 【文献学习】事件研究法入门指南 很符合我对金融研究信息因子无情挖掘的刻板印象。 ↩︎ Jacobson L S, LaLonde R J, Sullivan D G. Earnings losses of displaced workers[J]. The American economic review, 1993: 685-709. ↩︎ Li H, Meng L, Mu K, et al. English language requirement and educational inequality: Evidence from 16 million college applicants in China[J]. Journal of Development Economics, 2024: 103271. ↩︎ Miller D L. An introductory guide to event study models[J]. Journal of Economic Perspectives, 2023, 37(2): 203-230. ↩︎ Qiu H, Hong J, Wang X, et al. Home sweet home: Impacts of living conditions on worker migration with evidence from randomized resettlement in China[J]. Journal of Economic Behavior \u0026 Organization, 2024, 220: 558-583. ↩︎ Braghieri L, Levy R, Makarin A. Social media and mental health[J]. American Economic Review, 2022, 112(11): 3660-3693. ↩︎ ","date":"2024-06-20","objectID":"/zh-cn/posts/event1/:5:0","tags":["因果效应","文献阅读"],"title":" 计量：事件研究法 1","uri":"/zh-cn/posts/event1/"},{"categories":["游记"],"content":" 北京热门旅游地方位常在东与南——东去秦皇岛；南下天津海滨。东南靠“海”，游客最爱。 西北，则是徒步和山川的天下。例如往北的密云 《调研小记 2：密云野长城 》。这次调研，目的地是北京西侧的门头沟区。 ","date":"2024-06-17","objectID":"/zh-cn/posts/rose/:0:0","tags":["旅游","调研"],"title":" 调研小记 3：妙峰山与红玫瑰","uri":"/zh-cn/posts/rose/"},{"categories":["游记"],"content":"山与徒步者 ","date":"2024-06-17","objectID":"/zh-cn/posts/rose/:1:0","tags":["旅游","调研"],"title":" 调研小记 3：妙峰山与红玫瑰","uri":"/zh-cn/posts/rose/"},{"categories":["游记"],"content":"三峰连穿 这次调研地点为门头沟区村涧沟村，位于妙峰山脚下。妙峰山主峰海拔 1291 米，是离北京城区最近的千米高峰1。 在路上几乎每 20 分钟，就有一位背包客挥舞着登山杖从山上小跑下来。打听后才知道这里是著名的\"三峰连穿\"徒步路线。 三峰连穿：海淀区大觉寺-阳台山-妙峰山\r北京这种徒步商业模式很常见，朋友圈也有不少人跟着参加过。多在北京郊区的山里逛逛，你就可以看到树上时不时飘着一条有字的红丝带——一般都是徒步团队的路线标记兼广告。 ","date":"2024-06-17","objectID":"/zh-cn/posts/rose/:1:1","tags":["旅游","调研"],"title":" 调研小记 3：妙峰山与红玫瑰","uri":"/zh-cn/posts/rose/"},{"categories":["游记"],"content":"妙峰山 由于时间关系，只来得及爬妙峰山主峰。简略图如下 妙峰山简略图\r","date":"2024-06-17","objectID":"/zh-cn/posts/rose/:1:2","tags":["旅游","调研"],"title":" 调研小记 3：妙峰山与红玫瑰","uri":"/zh-cn/posts/rose/"},{"categories":["游记"],"content":"平西情报站 涧沟村在抗日战争中，担任联合东北抗日的情报联络站，平西情报站正是这个主题的红色教育主题馆。沿着马路可以骑自行车上妙峰山，山脚还有骑行驿站（一个咖啡店）。 ","date":"2024-06-17","objectID":"/zh-cn/posts/rose/:1:3","tags":["旅游","调研"],"title":" 调研小记 3：妙峰山与红玫瑰","uri":"/zh-cn/posts/rose/"},{"categories":["游记"],"content":"大云寺 如果选择走山路（徒步路线），上山的路隐藏在街巷之中。注意看路牌和不断下山的背包客就行。 上山的起点隐藏在山下的居民街巷之中\r山脚到山顶大约 40 分钟左右，山腰是灵官庙（免费）。 山腰的灵官庙\r山顶是大云寺（付费）。这些庙都是私人管理。 大云寺名义上的开门时间是 8:30-17:00。门票是 40 元/人。由于售票人迟到早退，我 7 点 20 开始登山，早上 7 点 55 分就到了山顶门口。售票员还没来，门口也开着2，我就直接进去了。 入口处\r存档点\r里面有四个殿——下层娘娘庙、财神庙和一个正在装修的庙。 财神庙的“宝”少了一点，说是少了一点你。挺会营销\r再上一段长楼梯就是山顶洞玉皇庙。我进玉皇庙时，庙门刚刚打开。开门的师傅还对我感叹来居然来这么早。 2024 年 6 月 16 日妙峰山玉皇庙入庙第一人，正是在下！ 从玉皇顶俯瞰，风景还是挺不错的。早起的鸟儿😤白嫖高处的风景！ 玉皇顶俯视第一层\r站在登上玉皇顶的楼梯顶上\r","date":"2024-06-17","objectID":"/zh-cn/posts/rose/:1:4","tags":["旅游","调研"],"title":" 调研小记 3：妙峰山与红玫瑰","uri":"/zh-cn/posts/rose/"},{"categories":["游记"],"content":"山与红玫瑰 这里离樱桃沟不远，同时也有一样红色的特产——红玫瑰。 周围只有这里能种，也被称为高山玫瑰或者妙峰山玫瑰。 涧沟一带坐北朝南，呈簸箕形盆地，受热排水条件好；夏至日照时数不少于13小时，花期雨少，光照充足，有利于芳香油的形成和积累；土壤腐殖层较厚，呈微酸性，铁、锰、铜、锌等微量元素含量高。自然条件得天独厚，所产玫瑰花有独具特色的香气和品质。 参考自特产中国。 饭店老板说，她祖奶奶那辈这里就以红玫瑰为特色了。有玫瑰饼，玫瑰酒，玫瑰酱，玫瑰香水。 玫瑰炒蛋确实好吃😍，玫瑰饼味道没有什么独特的，主要是气味。 山楂、红果3也是当地特色果蔬，而且都是红色。 决定我排位的是定语！ ↩︎ 景区们门打开是因为山上的工作人员下来修山路。 ↩︎ 吃起来和山楂没啥差别的样子 ↩︎ ","date":"2024-06-17","objectID":"/zh-cn/posts/rose/:2:0","tags":["旅游","调研"],"title":" 调研小记 3：妙峰山与红玫瑰","uri":"/zh-cn/posts/rose/"},{"categories":["游记"],"content":"古北水口镇 因为调研队伍缺人，被老师拉去参加周末的入户调查——地点是北京市密云区古北水镇潮关村。这地还真挺神奇，深处是北方的根骨，却又有着一副南方的皮相。 密云区以水库闻名，古北水镇沿河而立，虽在北方，却颇有江南水景的氛围。白墙黑砖，街巷相连，河流纵贯，芦苇随风摇晃。 密云的水资源非常丰富\r然而沿着河道向远处看去，这里北靠燕山余脉，村落边缘是险峻山脉，遮蔽了大半个天空。错落之间，明代长城蜿蜒盘旋，如同地龙翻身。如今正是这条长城，分开了北京和河北。 明长城，接着司马台长城，山海关前的一站\r","date":"2024-06-04","objectID":"/zh-cn/posts/mycc/:1:0","tags":["旅游","调研"],"title":" 调研小记 2：密云野长城","uri":"/zh-cn/posts/mycc/"},{"categories":["游记"],"content":"卧虎山长城 来到北京这么久了，还没爬过野长城。卧虎山长城是明长城，最特别的地方是有圆形的烽火台1。民宿老板2给其他同学讲了上长城的路，正好我也跟着去看日出。 3 点出发，沿着民宿旁的国道马路走，见到一个旅游宣传路标立牌后，旁边就是杨七郎3坟庙。穿过坟庙，就是山里的土路。一路上长城的石砖路坏的差不多了，只剩下烽火台附近的砖块比较完整。从这里出发比较有感觉的点是有火车隧道。 到达的第一处比较完整的烽火台。4 点左右，天空已经泛起红光。\r因为还需要时间去做入户调查，所以我们在倒数第三个烽火台就结束登山了。这时候四点左右，完整地登上去大概一个半小时，下山会快很多，不到一个小时。 我爬过的山不多，在此之前，看日出更只在峨眉山看过。峨眉山看日出，给人的感觉更像打铁4。山顶云海滚滚，冷如冰河，忽然之间冒出一丝太阳的火花，把幕布戳穿了一个洞。转眼间，云海沸腾，流云飞溅，确实是打铁淬火时热气弥漫的感觉。配合山顶金光闪闪的大佛，这是仙境。 在卧虎山山腰看日出，太阳先被更远处的山峰阻挡，日出过程更加缓慢，更有孕育的感觉。随着红色的泡沫在远处缓缓上涌，从近到远，水墨画的意境逐渐攀升。群山叠翠，云雾渐消，远处灯火也一盏一盏亮起，这是人间。 日出景色\r这时候拍照有剪影的感觉——其他同学的拍照技术太好了。我手中是随手捡起来的木棍（\r四点四十六分，太阳正式5越上山头。当时我的心中一直想的是史铁生的那番话—— 但是太阳，它每时每刻都是夕阳也都是旭日。当它熄灭着走下山去收尽苍凉残照之际，正是它在另一面燃烧着爬上山巅布散烈烈朝晖之时。 那一天，我也将沉静着走下山去，扶着我的拐杖。有一天，在某一处山洼里，势必会跑上来一个欢蹦的孩子，抱着他的玩具。 当然，那不是我。 但是，那不是我吗？ ——史铁生《我与地坛》 四点四十六分正式日出\r","date":"2024-06-04","objectID":"/zh-cn/posts/mycc/:2:0","tags":["旅游","调研"],"title":" 调研小记 2：密云野长城","uri":"/zh-cn/posts/mycc/"},{"categories":["游记"],"content":"调研总结 这次调研是村级的，应酬难度比以前去过的县级调研好很多——终于没有酒桌应酬了。 个人感想上： 气候变化应对确实迫在眉睫。古北水镇水资源充足，分得的都是水浇地，甚至不少水田。但是村民们说 2018 年后水位每年都在下降，现在很多水浇地都转为林地了，就是因为水位下降。 北京郊区和我老家其实也没差多少。一般认为越穷的地方越重男轻女，但是这边由于男性找的工作不足以支撑家庭，由于彩礼制度，大家反而觉得生女更好了。 居民态度反应治理质量啊。去贪污比较多的地方，村民明显对我们不信任——调查这么多，不还是什么用都没有？我们老百姓，说再多也没有用。去治理好，福利好的地区，则每一句是都是感激国家，国家要我们怎样我们就怎样。 我实在是一个粗心大意的人啊！其他同学，尤其是女同学们，比我仔细太多，问卷填写和审核也更严谨，应该向他们学习！ 调查方法上： 老一辈党员和热情的老奶奶是最好的访谈对象，认真仔细又诚恳，也愿意积极配合入户调查。 在涉及收入相关的调查时，访谈对象容易哭穷，这时候一要观察房间情况（装修，是否有车，面积，家具质量……），而要学会分治提问。例如将种田分解为一亩地的产量，种了几亩地，每斤多少钱。同样的还有前后印证，打个出其不意。例如收入和支出分别统计，注意平衡，几口人家庭消费多少，也要注意平衡。在对方不确定时也可以自己设定范围——有 100 块吗？有 200 块吗？ 提问答案其实很容易被操控。一个问题是“村民遇到困难是不是会大家一起商量办法”。如果直接提问，得到的回答一定是会团结。如果问具体问题呢？ 前几日北京出现风灾，北京很多公园学校的树都被刮倒了，这时候问他们前几日的风灾，田地肯定损失惨重，再问他们有没有一起想办法，得到的则一定是自己管自己的田，不会互相商量。 村户合一。村级实施补贴方案时其实是简单粗暴的。例如退耕还林和生态公益林有区别，但在村民看来都是种树并发钱。补贴分为种植补贴和钟什么的补贴，但村里都是一起发，在农户看来是种了就有钱。要解决需要结合村政策和村民们的回答进行分解。 夸奖也要适度。一般一次问卷得问一个小时。为了对方的配合，都会在访谈时进行赞扬6。但当对面完全高兴，一些态度测量的问题由于太过正面反而可能失真。此外，对于询问夫妻和睦，邻里和睦这类问题，除非是询问领居，个人感觉都是正面回应。 民宿老板说这里的圆形烽火台是北京仅有的两座之一。 ↩︎ 民宿老板非常好心。免费接送我们，而且饭菜量大美味，根本吃不完。 ↩︎ 杨家将中杨业的第七子。杨家将可能是历史虚构人物。这里坟庙是为了平息杨七郎死亡的怒气而修的。 ↩︎ 小学作文写过好多次峨眉山的日出😂。 ↩︎ 其实我第一个想到的是天线宝宝的开场🤪。 ↩︎ 也都是真情实感，例如在学校里没接触社会，向您请教经验。我们虽然读了点书，但没有人生阅历。您这个年纪记忆力、身体、精神还这么好，太厉害了。您的孩子都读出去来？书香门第啊！ ↩︎ ","date":"2024-06-04","objectID":"/zh-cn/posts/mycc/:3:0","tags":["旅游","调研"],"title":" 调研小记 2：密云野长城","uri":"/zh-cn/posts/mycc/"},{"categories":["软件工具"],"content":"最近开始接触 Obsidian，在此记录使用流程。 个人主要用 ob 编写管理博客文档和文献阅读笔记。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:0:0","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Obsidian 和插件使用 论坛： https://forum-zh.obsidian.md/ 推荐教程：obsidian新手不完全指南 Obsidian 代表双链笔记理念——让笔记文件能相互联系，进而构建知识网络。对我而言，使用 obsidian 的唯一理由是它的无数神级插件，让笔记编写和整理成为一种享受！ 提示：最基本的使用门槛是掌握 markdown 语法。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:1:0","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"软件下载 在官网下载软件： https://obsidian.md/ 下载后打开界面如下，仓库就是笔记存储文件夹。例如我的两个仓库就是博客文档和文献笔记的存储位置。 打开页面\r选择完仓库地址后，文件夹里会多出一个 .obsidian 文件，对应的就是软件设置——包含插件、界面样式等设置文件。 个人页面设置如下： 页面如下\r富人分屏（副屏），穷人分屏（复屏）😤 Obsidian 文件设置： 替换仓库中 .obsidian 文件即可。 可在 github 仓库下载我的.obsidian配置 下载后注意把其中 themes.zip 解压一下。 每一个仓库设置是独立的！也就是说每个仓库可以设置完全不同的主题风格和插件！这一点很棒，比如编写博客文档和编写笔记文档的功能诉求是存在矛盾的，仓库的独立设置显得非常必要👍。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:1:1","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"界面字体 调整页面字体，在左下角设置-外观-字体里面即可调整。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:1:2","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"双链相关 文档属性：在空白第一行连续输入三次短横线 --- 即可添加文档属性。非空白第一行时 --- 作用是添加分界线。 标签添加： #标签1、 #标签2 链接： 链接到某一篇笔记：[[文件名]] 链接到某一篇笔记中的某个标题：[[ # ]] 链接到某一篇笔记中的某个段落（块）：[[ # ^ ]] 为链接创建定义（关键词）：[[ | 关键词]] 链接到外部文件如印象笔记：[关键词]（链接） 图片添加：![[]] 或者![图片标题](图片引用路径) ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:1:3","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"插件使用 替换 .obsidian 文件后打开仓库，点击信任对方并关闭安全模式。 设置页面，外观部分可以更换主题，第三方插件设置安装和开启\r左下角齿轮图案 设置 ，打开所有已安装插件。 可以检查插件更新和浏览第三方插件市场（需要梯子）。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:2:0","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Command 大部分插件在界面显示后应该能直接上手，剩余插件则是通过快捷键命令驱动。 点击最左侧竖条的 \u003e_ 符号（快捷键为 ctrl+p），在弹窗里输入对应命令，然后执行插件功能。 一些插件需要命令调用\rCommand 插件能帮我们添加命令快捷运行按钮。 出现添加命令的地方\r打开鼠标右键菜单，或者笔记栏顶部右侧的三点符号，点击添加命令，经过 选择指令-选择栏目符号-选择栏目名称 三次选择后，快捷按钮完成添加。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:2:1","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Pandoc 不是只下载好插件就行！ Obsidian 笔记语法为 markdown 语法，支持输出 pdf 格式。Pandoc 能帮助我们输出更多格式（例如 latex、equb、html……） 使用分为两步： 去官网下载 Pandoc 软件本体。 安装并启动 Pandoc 插件、Enhancing export 插件。在两个插件的设置中填写好 Pandoc 文件路径，设置好输出地址。 此时笔记栏右上角三点中会多出来 导出为... 选项，完成设置。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:2:2","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Easy typing 吸引我使用 obsidian 的主要插件！中英文混杂的文档编写有很多规范需要注意，例如： 中文间夹杂数字和英文，应该用空格隔开； 中英文输入法切换也麻烦； 英文句子开头需要大写。 有了 easy typing 后，中文环境的数字和英文会自动空格；中文符号重复输入一次就会变成英文符号；首句英文单词字母自动大写…… ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:2:3","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Annotator Obsidian 自身并不能阅读 pdf 文件，一般使用 annotator 插件阅读。 在新建笔记第一行输入 --- 添加文档属性 annotation-target 再在之后的格子中点击自己要读取的 pdf 文件，然后关闭再打开笔记页面，就变成了 pdf 阅读界面了，并且支持批注添加！ 文档属性例子\r","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:2:4","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Copilot chat Obsidian 嵌入 ai 有三种流派，一种是直接嵌入，通过命令根据上下文续写笔记；一种是内置管理搜索文件和笔记样式。 一种是保持侧边栏对话。个人推荐第三种的代表插件：Copilot chat。 安装完成后，进入界面设置。 Default model 设置，我推荐选择 OPEENROUTER. AI。这是一个 ai 中介商，能通过它调用各自 ai 模型。 往下找到模型设置，选择自己想要的模型，我推荐选择 OPEENROUTER. AI\r再往下滑找到 OPEENROUTER 的 api 输入处。 往下找到模型设置，选择自己想要的模型\rOpenrouter. Ai 的 api key 生成处 模型选择网站在这里： 也不局限于 gpt3.5，可以直接搜索关键词 free, 显示的 ai 都免费调用 选择自己想要的free模型名称\r例如将以下模型名称选一个复制到 openrouter model 处即可 openchat/openchat-7b:free meta-llama/llama-3-8b-instruct:free google/gemma-7b-it:free gryphe/mythomist-7b:free 点击左侧竖条中的 copilot chat，右侧就会增加一个 ai 聊天框。而且自带读取笔记功能。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:2:5","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"其他插件 Better word count 插件：更好地统计中文字数（obsidian 右下角有字数统计）。 Footnote shortcut 插件：更好的脚注编辑体验，使用命令自动添加脚注。在编好的脚注上再次使用脚注命令就能实现文章尾部脚注内容和脚注位置的跳转。 Word Splitting for Simplified Chinese in Edit Mode and Vim Mode 插件：双击句子自动选择词语，这个插件能更好地识别中文分词。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:2:6","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Obsidian 与移动端 2022年3月如何同步obsidian文件（阶段性总结） Obsdidian 的缺点之一就是麻烦且不稳定的多端互通（有钱上官方服务是最好的） 省流总结： ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:3:0","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"全平台同步方案 ：Remotely save Remotely save（同步插件）是本周讨论最火的插件，教程中已经收录了许多内容： Obsidian 同步 Remotely Save S3 配置指南 by 恐咖兵糖 第三方同步插件（Remotely save介绍） by 软通达:Dropbox Obsidian Remotely Save 插件实现电脑和移动端同步 by yaozhuwa:onedrive方式 （个人测试时发现纯 Remotely save+ondrive 方案已经挂掉了，安卓端 ondrive 文件夹识别有问题，需要 foldersync 这类第三方转移软件作为 onedrve 中介，还得手动启动同步） 最舒服的Obsidian第三方多端同步 by 维客笔记：Dropbox remotely插件搭配腾讯云cos教程 by 八宝周：腾讯云，S3 Obsidian通过Remotely save插件实现坚果云同步 by BCS：坚果云，webdav Obsidian使用Remotely Save 和阿里云 OSS 实现多平台同步 by zm：阿里云oss，S3 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:3:1","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"PC和安卓同步 Win和安卓可以考虑 Syncthing（同步软件）或者类似的微力同步。可见使用腾讯云搭建Syncthing来同步obsidian by 软通达。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:3:2","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Mac和iOS同步 可以考虑iCloud，没有设备，没有尝试。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:3:3","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"仅电脑之间同步 推荐使用坚果云等同步软件。这里注意2点： 不要两台机同时开着ob和同步软件，这样会导致保存出错。 注意分辨同步盘和储存盘（网盘）的区别。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:3:4","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Hugo 与 obsidian 推荐参考： Hugo 博客写作最佳实践 使用 Obsidian 一键发布博客 obsidian 配合 hugo、cloudflare：让发布博客简单到不可思议 个人额外推荐 hugo preview 这个插件——相当于加载一个在线博客预览页面。启动插件后点击右下角的蓝色方块即可打开页面。其实就是把特定网页导入 obsidian 预览。 左右开弓！\r值得一提的还有 mermaid 插件。Loveit 主题的 hugo 博客支持流程图渲染，有些流程图的细节命令我记不住可以使用这个插件辅助。 我目前还是本地图片引用（就是喜欢本地管理😀）， imge converter 能自动压缩、重命名并转化图片格式； clear unsed images 插件能帮助清理未被引用的本地图片。 至于图片引用路径的修改（post/img 复制到 static/img），和博客上传到 git，我没有使用 obsidian 的 git 插件，都使用的 .bat 脚本代劳（让 gpt 写就完了！），也简单。如此一来专注写作就行了。 至于新建博客模板，用不着设置 quick 插件，obsidian 自带模板设置，新建一个模板文件夹放入 markdown 模板文件，每次新建文章时在左侧竖条点击对应模板导入的图标即可。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:4:0","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"Zotero 与 obsidian 推荐参考：Zotero + Obsidian联动方案汇总盘点 - 2023最全 悲伤的是——最好用的都是有付费的🤧。 在 zotero7 刚刚更新的时候，个人上了青柠学术付费插件的车，采用他的插件能实现 zotero 文献注释笔记和 obsidian 无缝传递。 青柠学术的插件对接。想要图片丝滑无缝传递，无论如何都得搭建图床\r到 2024 年，zotero 分为了 zotero6 和 zotero7 版本，且 zotero 插件 mdnote 的作者明确表态不会完善插件适配 zotero7。所以可选的方案更少了。 个人目前也在用的其他免费方案是—— zotero 的 better note 插件加 obsidian 的 zotero integration 插件方案。 个人的 zotero better note 模板和教程 在 zotero 中使用 better note 建立文献笔记，然后通过 zotero integration 插件将文献笔记导入 obsidian 进行归纳整理。 ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:5:0","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":"笔记软件之争 网上很多人在比较 notion、obsidian 和其他笔记软件。个人选择 obsidian 的原因主要是丰富的开源插件和安全感满满的本地储存。 不过 obsidian 被吐槽的点是——插件太多，功能太花哨，上手门槛也比较高，于是显得主次不分。不过到目前为止，我尚未用 obsidian 建立知识图谱，光是使用他来编辑文档就已经很舒服了。 除此之外，obsidian 的初衷是构建知识体系。对于他人的使用分享，我受到启发的并不是他们的笔记美观程度，而是他们如何让利用 obsidian 贯彻自己的资料整理理念🦾。利用插件建立周期笔记轮替复习；建立关键词分块不断扩展；利用 obsidiana 联动工具完善自己的工作流程；笔记分块逻辑与设计结合…… ","date":"2024-05-24","objectID":"/zh-cn/posts/ob/:6:0","tags":["Zotero","Hugo","Obsdian"],"title":"Obsidian 管理文献阅读和博客文档","uri":"/zh-cn/posts/ob/"},{"categories":["软件工具"],"content":" 个人目前最新串流方案是 moonlight，试过的各种串流方案评价放在结尾。 最近终于换上了游戏本。考虑到我一般会背着电脑到处跑，我选了性价比游戏本中续航最强重量最轻的天选 31。 但终究失算了，适应了一段时间后还是觉得太笨重，于是决定采用平板远程控制的方法。 远程控制有很多方案： Todesk、向日葵、Teamviewer、RustDesk、Parsec…… 速度、便利、画质，Todesk 都是第一（Parsec 更好，但链接需要外网支持），虽然免费版没有防窥屏，但放寝室里压根没人关注我的电脑屏幕 ( 个人控制：华为 matepad 柔光版+ Todek +天选 3 酷睿版 这里主要介绍如何开启声音远程传递。 ","date":"2024-05-19","objectID":"/zh-cn/posts/todesk/:0:0","tags":["Todesk"],"title":"Todesk 平板远程控制电脑的声音问题","uri":"/zh-cn/posts/todesk/"},{"categories":["软件工具"],"content":"电脑端 需要有声卡驱动协议把电脑声音传递到控制端。 如果没有声卡驱动，创建如下 .text 文档，输入代码后修改为 .bat 结尾然后运行。 @echo off pushd \"%~dp0\" dir /b C:\\Windows\\servicing\\Packages\\Microsoft-Windows-GroupPolicy-ClientExtensions-Package~3*.mum \u003eList.txt dir /b C:\\Windows\\servicing\\Packages\\Microsoft-Windows-GroupPolicy-ClientTools-Package~3*.mum \u003e\u003eList.txt for /f %%i in ('findstr /i . List.txt 2^\u003enul') do dism /online /norestart /add-package:\"C:\\Windows\\servicing\\Packages\\%%i\" pause 然后启动声音调用： 打开运行窗口，在运行窗口中输入 gpedit.msc 命令，点击确定按钮 输入gpedit.msc命令\r打开编辑界面 打开本地组策略编辑器界面\r在菜单栏中，依次选择【计算机配置】-【管理模板】-【所有设置】选项。 选择配置\r滑动右侧的页面，找到允许音频和视频播放重定向选项，单击右键，选择编辑选项 找到允许音频和视频播放重定向选项\r启动允许音频和视频播放重定向。 选择启用\r","date":"2024-05-19","objectID":"/zh-cn/posts/todesk/:1:0","tags":["Todesk"],"title":"Todesk 平板远程控制电脑的声音问题","uri":"/zh-cn/posts/todesk/"},{"categories":["软件工具"],"content":"平板端 点击控制页面右下角的展开箭头 键盘符号左侧的展开键\r点击打开声音，打开成功后，对应键变成关闭声音 如果切换平板页面后回来没声音了，就关闭声音再开启。 开启和关闭声音\r","date":"2024-05-19","objectID":"/zh-cn/posts/todesk/:2:0","tags":["Todesk"],"title":"Todesk 平板远程控制电脑的声音问题","uri":"/zh-cn/posts/todesk/"},{"categories":["软件工具"],"content":"注意事项 开启声音传递后，即便电脑静音，控制处依旧有声音，且声音大小调整由控制设备操控。 由于平板一般都没有听筒，声音都默认外放。 我使用的蓝牙耳机链接平板，有时外放有时能通过耳机播放。据我观察，应该是要先连接耳机和平板，然后远程控制，声音才会通过耳机传导而不是外放。 ","date":"2024-05-19","objectID":"/zh-cn/posts/todesk/:3:0","tags":["Todesk"],"title":"Todesk 平板远程控制电脑的声音问题","uri":"/zh-cn/posts/todesk/"},{"categories":["软件工具"],"content":"串流方案简评 华为：在天选上刷了个华为管家，进去里面的设置可以开启远程控制，在华为手机、平板的 智慧连接 里可以找到远程控制。包含隐私屏，速度不错，不支持游戏鼠标，画质比较低，相当于 todesk 多了个隐私屏。 华硕：需要微软账号个人版，个人是家庭账号，用不了。 Parsec: 画质高、延迟低、支持游戏，没有隐私屏幕、搭建简便（只需要设备登录软件时挂梯子）。应该是一般情况下的最优解——然而华为平板不兼容，鼠标滚轮和声音播放会失效。 Moonlight + sunshine: parsec 的平替方案，而且针对 steam 做了优化，旮旯串流终极方案。美中不足是校园网每次随机分配 ip 还得重新设置一下。个人目前在用的就是这个方案。还有个缺点就是——偶尔声音还在卡顿一下，鼠标优化也比较差，在 moonlight 中修改成适合远程的鼠标有用，但是此时不再适配游戏2。 4060 配置，基本锁定暗影精灵 9，联想 y 7000，天选 3 中选一个。 ↩︎ 例如原神、星穹铁道这类隐藏鼠标的游戏，启用这个功能玩游戏时将失去鼠标转向功能。 ↩︎ ","date":"2024-05-19","objectID":"/zh-cn/posts/todesk/:4:0","tags":["Todesk"],"title":"Todesk 平板远程控制电脑的声音问题","uri":"/zh-cn/posts/todesk/"},{"categories":["经济学习"],"content":"Log (y+1) 的转化是否可靠 ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:0:0","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"摘要 标题: Logs with Zeros? Some Problems and Solutions 作者: Jiafeng Chen; Jonathan Roth 期刊: The Quarterly Journal of Economics （2024/3/30） DOI: 10.1093/qje/qjad054 摘要翻译: 当研究一个结果变量 Y 可以等于 0 时 (例如收益) 时，多数研究者在估计时通常采用进行转换的平均处理效应 (ATE)，这种转换在结果变量 Y 很大时，可以表现为 log (Y)，定义为零值时，通常采用 log (1 + Y) 进行处理。我们的研究发现，此类对数转换的平均处理效应不应被解释为百分比效应，因为结果本身与百分比不同，平均处理效应的估计值取决于结果变量的单位。事实上，我们的研究表明，如果在进行类对数变换之前，改变 Y 的实际单位，就可以得到任意大小的处理效应。这种结果产生的原因是，对于在估计时结果从零变为非零的样本，样本水平的百分比效应没有明确定义，并且结果的单位隐含地决定了对数转换的平均处理效应在广延边际上的赋予权重。进一步研究中，我们发现了一个“不可能三角”: 当结果变量可以等于零时，不能同时满足估计结果即是样本的平均处理效应，且 Y 的单位不发生改变（或者说与单位变动无关）以及实现点识别。我们讨论了几种可能在具有集约边际和广泛边际的设置中是合理可行的替代方法，包括（1）以百分比表示平均处理效应水平 (例如使用泊松回归)，(2) 明确校准置于集约边际与广泛边际上的样本，以及 (3) 分别估计广延边际和集约边际的实际处理效应 (例如使用 Lee bounds)。我们在三个实证应用中说明了这些方法。 ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:1:0","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"省流的概括 讨论 包含 0 值的对数化 方式，例如 $log(1+y)$ 、$arcsinh(y)=\\sqrt{1+y^2}+y$ 是否可靠。 ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:2:0","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"代码例子 代码结果说明，数据中含有 0 时，可以通过对数化的 $y$ 单位修改影响回归显著性。 sysuse nlsw88, clear replace wage = 0 if _n\u003c=400 //前400个观测值的工资改为0值 gen lnwage1 = ln(1 + .128683 * wage) gen lnwage2 = ln(1 + .7744329 * wage) gen lnwage3 = ln(1 + 84.02252 * wage) gen lnwage4 = ln(1 + 4.68e+08 * wage) gen lnwage5 = ln(1 + 3.77e+25 * wage) reg lnwage1 tenure grade eststo m1 reg lnwage2 tenure grade eststo m2 reg lnwage3 tenure grade eststo m3 reg lnwage4 tenure grade eststo m4 reg lnwage5 tenure grade eststo m5 esttab m1 m2 m3 m4 m5, keep(tenure) b(3) se compress /*------------------------------------------------------------------------- (1) (2) (3) (4) (5) lnwage1 lnwage2 lnwage3 lnwage4 lnwage5 --------------------------------------------------------------------------- tenure 0.010*** 0.020*** 0.030** 0.050 0.100 (0.001) (0.003) (0.010) (0.032) (0.090) --------------------------------------------------------------------------- N 2229 2229 2229 2229 2229 ---------------------------------------------------------------------------*/ ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:3:0","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"解释 认识对数化处理 一般认为对数化处理后的经济意义变动 百分比。 对数化后的系数含义 对变量取对数后，一般认为系数结果反映的是百分比变化。例如 lnGDP ，在回归中代表的 GDP 变化百分之几。如果是 reg lny lnx, 系数经济含义则是弹性。参见取对数的意义。 对于以下回归式子 $$ \\ln y_n=\\alpha+\\beta x_n +\\varepsilon $$ 其系数有如下经济含义 $$ \\begin{align} \\beta \u0026 = \\frac{\\ln Y_{n+1}-\\ln Y_{n}}{X_{n+1}-X_{n}}\\\\ \u0026=\\frac{\\ln \\frac{Y_{n+1}}{Y_{n}}}{X_{n+1}-X_{n}}= \\frac{\\ln (1+\\frac{Y_{n+1}-Y_{n}}{Y_{n}})}{\\Delta X}\\\\ \u0026= \\frac{\\ln (1+\\Delta Y \\% )}{\\Delta X} \\approx\\frac{\\Delta Y \\% }{\\Delta X} \\end{align} $$ 有时研究者进行对数化还因为数据呈现长尾分布，对数化使得数据更加紧凑。 对数化的局限 文章核心结论是，当数据包含 0，且放缩单位有变化时（例如劳动经济学中经常使用每小时工资，每月工资，每周工资, 这涉及单位转化），对数化的估计会发生改变，因此不太可靠。 一般认为对数化后求出来的处理效应是一种百分比，和放缩参数 $\\alpha$ 无关。 $$ \\small ATE=E[\\log(1+aY(1))-\\log(1+aY(0))]=E\\left[\\log\\left(\\frac{1+aY(1)}{1+aY(0)}\\right)\\right] $$ 进一步考虑数据结构，会产生变化 $$ \\begin{aligned} \\lim_{a\\to\\infty}\\log\\left(\\frac{1+aY(1)}{1+aY(0)}\\right)=\\begin{cases}\\log\\left(\\frac{Y(1)}{Y(0)}\\right)\u0026\\text{if }Y(1)\u003e0,Y(0)\u003e0\\\\ 0\u0026\\text{if }Y(1)=0,Y(0)=0\\\\ \\infty\u0026\\text{if }Y(1)\u003e0,Y(0)=0\\\\ -\\infty\u0026\\text{if }Y(1)=0,Y(0)\u003e0 \\end{cases} \\end{aligned} $$ 上式的后三者说明了处理效应的估计值可能会受到影响。 文章关于对数化的偏差类似于 局部平均处理效应（LATE） 。 以就业政策为研究对象\r以就业政策为对象，政策冲击为实验组带来了不一样的反应 。 0 表示失业状态，1 表示就业状态。 原本实验组有失业人群 0 有就业人群 1，但是在政策冲击后全部变成了就业人群 1。 原本状态为就业 1，冲击后依旧为就业 1，但收入依旧有上升，此时解释变量的变化由政策冲击直接带来，为 集约边际（intensive margin） 原本状态为 0，冲击后变成了 1 ，解释变量变化除了政策冲击，还有自身状态改变带来的变化，这种变化为 广延边际（extensive margin） 于是处理效应的测度变成了以下情况： 因此平均处理效应也是两种边际效应的数学期望加总 $$ ATT=E(ATT^{int})+E(ATT^{ext}) $$ 假如使用 $lg(1+x)$ 来变化，同时放缩单位，从千元变为元 对于 集约边际（intensive margin) 来说， $$ \\begin{aligned} ATT_{1000}^{int}\u0026 =E{log(1000Y^{int}(1))-log(1000Y^{int}(0))} \\\\ \u0026=E{log(1000)+logY^{int}(1))-log(1000)-logY^{int}(0))} \\\\ \u0026=E{log(Y^{int}(1))-log(Y^{int}(0))}=ATT^{int} \\end{aligned} $$ 对于 广延边际（extensive margin） 来说， 这部分是状态从 0 到 1 的部分，采用 $ln(y+1)$ d 对数化后，原本为 0 的部分依旧为 0。 $$ \\begin{aligned} ATT_{1000}^{ext} \u0026 =E{log(1000Y^{ext}(1))-log(1000Y^{ext}(0))} \\\\ \u0026=E{log(1000)+logY^{ext}(1))-0} \\\\ \u0026=ATT^{ext}+\\color{red}{log(1000)} \\end{aligned} $$ 总体处理效应是这以上两部分的数学期望加总 $$ \\begin{align} ATT\u0026=P \\times ATT^{ext}+(1-P)\\times ATT^{int}\\\\ \u0026=ATT+\\color{blue}{P\\times log(a)} \\end{align} $$ 其中 $\\color{blue}{P\\times log(a)}$ 就是改变回归结果的偏差部分。 正是因为有这种偏差，很多文章会把 0 值处理作为稳健性检验的一部分。 还有其他更复杂的情况讨论，不过个人就无法理解了。 ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:4:0","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"结论和解决方法 ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:5:0","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"结论 在面对包含 0 的解释变量样本时！ 很多营销号夸大了文章的结论，文章批评的是解释变量包含 0 的对数化情况，处理效应估计上实际上有个不可能三角形。 ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:5:1","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"解决方法 以下每个方法就是在不可能三角形中进行取舍。 采用普遍的归一化和标准化去量纲，这样就没有单位影响 泊松回归最大似然估计 去除 0 值样本 理清样本分布，进一步分解集约边际和广延边际。 采用其他参数 lee bounds 之类的（这个没看明白怎么做） ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:5:2","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"参考资料 论文作者之一博客 可能你的老师一直都教错了：不能再用log(Y+0.0000000001)了 TOP5被质疑用log(1+x)数据转换, 固定效应, 双重差分事件图, 结论不可靠！ TOP5最新: 不接受log(y+1)或arcsinh(y)转换, 绝不接受！ 取对数：如何应对零值和负数 对数终结之日 因果效应 顶刊速览：QJE 对数化的末日 如何处理非正值 log with zero的论文代码 ","date":"2024-05-12","objectID":"/zh-cn/posts/log0/:6:0","tags":["文献阅读"],"title":"计量经济学：Log (y+1) 的转化是否可靠","uri":"/zh-cn/posts/log0/"},{"categories":["经济学习"],"content":"只因变分法的优美在此记录学习笔记，参考书为《动态最优化基础》（蒋中一），对经济学学习者是非常友好的动态优化入门教材。 本笔记是快速学习后的个人理解，若有不严谨之处，还请多多包涵。 ","date":"2024-05-07","objectID":"/zh-cn/posts/bff/:0:0","tags":["变分法","动态优化"],"title":"变分法学习笔记","uri":"/zh-cn/posts/bff/"},{"categories":["经济学习"],"content":"泛函 先来谈谈函数学习， 小学时开始接触未知数 $x$， 中学时开始了解具体函数 $f(x)=ax+bx^2+c$， 高中时开始了解抽象函数 $f(x)=f(-x)、f^\\prime(x)=f(x)$ 大学开始了解隐函数 $y\\prime=y+y\\prime \\prime$，解出的是一类函数。 随着函数学习从具体走向抽象，我们开始掌握根据函数性质推断函数形式的能力。 泛函中的非线性泛函，就是函数之函数，告诉特定函数特征，我们就能框定函数形式范围，最后根据约束选出最优的函数。 例如厂商选择最优的生产过程、建筑师选择最好的建筑弧线…… 以前，给定具体函数类型，我们寻找极值点； 现在，给定函数特征，我们寻找最好的具体函数。 一般而言，一个函数的特征约束可以用 $f(t,y(t),y\\prime(t))$, 可以理解为 $f(时间，状态，方向)$。 如下图，满足函数特征的从 a 到 b 的函数有三条，那条是最优的呢？于是引入了微积分算函数路径的极值。 满足约束的函数\r$$ V(t)=\\int_0^T{f(t,y,y^\\prime)dt} $$ 随着函数形式 $y$ 发生变化，$V(t)$ 也会产生变化，这就是泛函的分析起点，我们想要的是通过寻找 $V(t)$ 的极值和其他约束，进而从一堆函数形式 $y$ 中找到最优路径 $y^*$ ","date":"2024-05-07","objectID":"/zh-cn/posts/bff/:1:0","tags":["变分法","动态优化"],"title":"变分法学习笔记","uri":"/zh-cn/posts/bff/"},{"categories":["经济学习"],"content":"变分法 在接触导数时，求极限使用了逼近的形式： $$ \\lim_{\\Delta x \\rightarrow 0}{\\frac{f(x+\\Delta x )-f(x)}{\\Delta x}} $$ 这里也采用类似的引入，假设最优函数为 $y^*$, 在其附近的一类函数使用 $y^*+\\varepsilon P(t)$ 表示。 注意 $P(0)=P(T)=0$ 函数表示\r于是得到如下关于 $\\varepsilon$ 的式子 $$ V(\\varepsilon)=\\int_{0}^{T}F[t,\\underbrace{y^{*}\\left(t\\right)+\\varepsilon p\\left(t\\right)}_{y(t)},\\underbrace{y^{*}\\left(t\\right)+\\varepsilon p^{\\prime}\\left(t\\right)}_{y^{’}\\left(t\\right)}]dt $$ 极值点一阶条件为 $\\frac{dV}{d\\varepsilon}=0$ 微积分求导公式 $$ \\frac{\\mathrm{d}}{\\mathrm{d}t}\\int_{g(t)}^{h(t)}F(x,t)\\mathrm{d}x=F(h,t)\\frac{\\mathrm{d}h}{\\mathrm{d}t}-F(g,t)\\frac{\\mathrm{d}g}{\\mathrm{d}t}+\\int_{g(t)}^{h(t)}\\frac{\\partial F}{\\partial t}\\mathrm{d}x $$ $$ \\begin{aligned} \\frac{dV}{d\\varepsilon}\u0026 =\\int_{0}^{T}\\frac{\\partial F}{\\partial\\varepsilon}dt=\\int_{0}^{T}\\Big(\\frac{\\partial F}{\\partial y}\\frac{dy}{d\\varepsilon}+\\frac{\\partial F}{\\partial y^{\\prime}}\\frac{dy^{\\prime}}{d\\varepsilon}\\Big)dt \\\\ \u0026=\\int_{0}^{T}\\Bigl[F_{y}p\\left(t\\right)+F_{y}p^{\\prime}\\left(t\\right)\\Bigr]dt \\\\ \u0026=\\int_0^TF_yp\\left(t\\right)dt+\\color{red}{\\int_0^TF_{y^{\\prime}}p^{\\prime}(t)dt}=0 \\end{aligned} $$ 局部转化 $$ \\frac{dy}{d\\varepsilon}=\\frac{d y^{*}\\left(t\\right)+\\varepsilon p}{d\\varepsilon}=P(t) $$ 同理 $\\frac{dy^\\prime}{d\\varepsilon}=P^\\prime(t)$ 接下来对 $\\color{red}{红色部分}$ 变形，使用分部积分 $\\int_{t=a}^{t=b}vdu=vu\\mid_{t=a}^{t=b}-\\int_{t=a}^{t=b}udv\\quad(u=u(t),v=v(t))$ $$ \\begin{align} \u0026 \\color{red}{\\int_0^TF_{y^{\\prime}}p^{\\prime}(t)dt} \\\\ \u0026=\\begin{bmatrix}F_{y^{\\prime}}p(t)\\end{bmatrix}_0^T-\\int_0^Tp(t)\\frac d{dt}F_{y^{\\prime}}dt\\\\ \u0026=-\\int_{0}^{T}p(t)\\frac{d}{dt}F_{y^{\\prime}}dt \\\\ \u0026(因为P(0)=P(T)=0,详见P(t)干扰函数的设置图像) \\end{align} $$ 将 $\\color{red}{红色部分}$ 代入后可得： $$ \\int_0^Tp(t)[F_y-\\frac d{dt}F_{y^{\\prime}}]dt=0 $$ 考虑到扰动函数 $P(t)$ 可以是任意函数，因此如果要满足上式为 0，只能是 $F_y-\\frac d{dt}F_{y^{\\prime}}$ 为0。 于是我们得到了欧拉方程—— $$ F_y-\\frac d{dt}F_{y^{\\prime}}=0,t\\in[0,T] $$ 当方程约束只包含三个变量，也就是 $F(t,y,y^\\prime)$ 时，可以具体展开得到， $$ \\begin{aligned} \\frac{dF_{y^{\\prime}}}{dt}=\u0026\\frac{\\partial F_{y^{\\prime}}}{\\partial t}+\\frac{\\partial F_{y^{\\prime}}}{\\partial y}\\frac{dy}{dt}+\\frac{\\partial F_{y^{\\prime}}}{\\partial y^{\\prime}}\\frac{dy^{\\prime}}{dt}\\\\ =\u0026F_{ty^{\\prime}}+F_{yy^{\\prime}}y^{\\prime}(t)+F_{y^{\\prime}y^{\\prime}}y^{\\prime\\prime}(t) \\end{aligned} $$ 展开得到 $F_{y^{\\prime}y^{\\prime}}y^{\\prime\\prime}(t)+F_{yy^{\\prime}}y^{\\prime}(t)+F_{ty^{\\prime}}-F_{y}=0,t\\in[0,T]$ 一道题 给定泛函 $V(y)=\\int_0^2(12ty+y^{\\prime2})dt$ 欧拉方程通解为 $y^*(t)=t^3+c_1t+c_2$ 欧拉方程的推广 这里只说有哪些推广，不进一步展开。 当 $F$ 泛函只含有部分变量，例如 $F(t,y\\prime)、F(y,y\\prime)、F(t,y)$ 时，各有快捷处理方式。 欧拉方程的核心是 $F_y-\\frac d{dt}F_{y^{\\prime}}=0,t\\in[0,T]$ 当 $F$ 泛函含多元变量，高次变量时，核心也是从这个起点进一步展开。 ","date":"2024-05-07","objectID":"/zh-cn/posts/bff/:2:0","tags":["变分法","动态优化"],"title":"变分法学习笔记","uri":"/zh-cn/posts/bff/"},{"categories":["经济学习"],"content":"悬链问题 想象两个柱子间挂一根红线用于晾衣服。 建立坐标轴，将这根线绕着 x 轴绕一圈，这条线以怎样的曲度才能使绕一圈后的立体图形表面积最小呢？ 默默无闻的晾衣线也有大道理\r考虑微元的勾股定理 $$ (ds)^2=(dx)^2+(dy)^2 $$ 可以得到线段的微分 $$ \\frac{ds}{dt}=\\sqrt{1+\\left(\\frac{dy}{dt}\\right)^2}=(1+y^{\\prime2})^{1/2} $$ 按照线段进行微分，将每个微分的圆周长（$2\\pi r$）积分就是旋转后的表面积。 于是得到如下泛函： $$ V(t)=\\int_0^T 2\\pi y ds=2\\pi\\int_0^Ty(1+y^{\\prime2})^{1/2}dt $$ 将式子简化成以下式子： $$ V(t)=\\int_0^Ty(1+y^{\\prime2})^{1/2}dt $$ 使用欧拉方程可以得到 $$ y(1+y^{\\prime2})^{1/2}-yy^{\\prime2}(1+y^{\\prime2})^{-1/2}=c $$ 简单化简（尝试分母有理化、平方等手段消灭分母的平方根），就可以得到化简后的式子 $$ y^{\\prime}\\left(\\equiv\\frac{dy}{dt}\\right)=\\frac{1}{c}\\sqrt{y^{2}-c^{2}}\\\\ $$ 也就是 $$ \\frac{cdy}{\\sqrt{y^{2}-c^{2}}}=dt $$ 积分可得 $$ \\int\\frac{cdy}{\\sqrt{y^2-c^2}}=c\\ln\\biggl(\\frac{y+\\sqrt{y^2-c^2}}c\\biggr)+c_1=\\int dt=t+c_2 $$ 整理下上面式子的形式，并把$ c_1 、c_2 $两个任意常数整合为$ k $，即可得到通解 $$ y^{*}\\left(t\\right)=\\frac{c}{2}\\left[e^{\\left(t+k\\right)/c}+e^{-\\left(t+k\\right)/c}\\right] $$ 而 悬链曲线 就是以下形式 $$ y=\\frac{1}{2}(e^{t}+e^{-t}) $$ 悬链曲线，图片来自维基百科\r一个均匀质地的线带（例如晾衣绳）均匀受到引力作用下垂，弧度也能如此推出来。 悬索桥、双曲拱桥、架空电缆都用到悬链线的原理。 建筑设计中一般使用的是以下形式： $$ y=c+a\\cosh\\frac{x}{a} $$ 自然社会，总是最优化控制！ ","date":"2024-05-07","objectID":"/zh-cn/posts/bff/:3:0","tags":["变分法","动态优化"],"title":"变分法学习笔记","uri":"/zh-cn/posts/bff/"},{"categories":["经济学习"],"content":"最速降线问题 试想一下，弹珠比赛中有三种滑滑梯，一个参赛选手只有一次选择机会，那么选哪种滑滑梯赛道，小球能最快到达终点呢？ 没错，滑滑梯也藏着大道理\r来源，北京科技馆。想象古代建筑，哪种建筑弧线更容易排水，逻辑也是一样的\r通过能量守恒关系可以得到 $$ \\begin{align} \\frac{1}{2}mv^2\u0026=mgy\\\\ v\u0026=\\sqrt{2gy} \\end{align} $$ 在悬链问题中，已经介绍过线的微元为 $ds=(1+y^{\\prime2})^{1/2}dt$ 所以考虑速度就是路程对时间求导 $$ v=\\frac{ds}{dt}=\\sqrt{1+y^{\\prime2}}\\frac{dx}{dt} $$ 联立以上方程 $$ \\begin{cases} v=\\sqrt{2gy}\\\\ v=\\sqrt{1+y^{\\prime2}}\\frac{dx}{\\mathrm{d}t} \\end{cases} $$ 得到 $$ dt=\\frac{\\sqrt{1+y^{\\prime2}}}{\\sqrt{2gy}}dx $$ 而目标泛函所求的是总体用时最短 $$ T=\\int dt=\\int\\frac{\\sqrt{1+y^{\\prime2}}}{\\sqrt{2gy}}dx $$ 根据欧拉方程可以得到 $$ 2y^{\\prime \\prime}y+y^{\\prime 2}+1=0 $$ 完整解法推荐参考浅谈变分法，而且里面还提到了关于这个问题其他数学家的解法。 总之其中一种解的展示方法为 ($a、c$ 为任意实数)： $$ \\begin{cases} x=a(\\theta-\\sin\\theta)+c\\\\ y=a(1-\\cos\\theta) \\end{cases} $$ 这个形式和摆线相关 来源维基百科\r","date":"2024-05-07","objectID":"/zh-cn/posts/bff/:4:0","tags":["变分法","动态优化"],"title":"变分法学习笔记","uri":"/zh-cn/posts/bff/"},{"categories":["经济学习"],"content":"垄断经济学问题 考虑垄断企业，利润函数写为 $F(P,P^\\prime)$ 经济含义是垄断企业拥有自主定价权 泛函则为 $$ V=\\int F(P,P^\\prime)dt $$ 代入欧拉方程可以得到 $$ F_{p^{\\prime}p^{\\prime}}p^{\\prime \\prime}+F_{pp^{\\prime}}p^{\\prime }-F_{p}=0 $$ 解这种隐函数就得玩骚操作，两边同时乘以 $p^{\\prime}$，然后整体变形 $$ \\begin{aligned} \u0026 \\frac{d}{dt}(P^{\\prime}F_{P^{\\prime}}-F) \\\\ \u0026 = \\frac{d}{dt}(P^{\\prime}F_{P^{\\prime}}) - \\frac{d}{dt}F(P,P^{\\prime}) \\\\ \u0026 = F_{P^{\\prime}}P^{\\prime\\prime} + P^{\\prime}\\left(F_{PP^{\\prime}}P^{\\prime} + F_{P^{\\prime}P^{\\prime}}P^{\\prime\\prime}\\right) - \\left(F_{P}P^{\\prime} + F_{P^{\\prime}}P^{\\prime\\prime}\\right) \\\\ \u0026 = P^{\\prime}\\color{red}{\\left(F_{P^{\\prime}P^{\\prime}}P^{\\prime\\prime} + F_{PP^{\\prime}}P^{\\prime} - F_{P}\\right)} \\end{aligned} $$ 红色部分就是原式子 此时得到 $$ F-P^{\\prime}F_{P^{\\prime}}=c $$ $c$ 是常数，将 $F$ 写为常用利润函数 $\\pi$，也就是以下关系 $$ \\pi-P^{\\prime}\\frac{\\pi}{\\partial P^{\\prime}}=c $$ 考虑静态垄断，垄断企业只做一次定价决策（更细分的静态博弈还要考虑产品差异，信息差异，博弈顺序，厂商进出状态）。 此时利润函数只和 $P$ 有关，和 $P^{\\prime}$ 无关（毕竟都只有一次定价，压根就没产生过价格变化），显然 $P^{\\prime}\\frac{\\pi}{\\partial P^{\\prime}}=0$, 此时 $\\pi_s=c$。 再在静态博弈的基础上考虑动态博弈，在进行第一次定价后，垄断厂商们开始进行多次定价，此时利润函数如下， $$ \\pi-P^{\\prime}\\frac{\\pi}{\\partial P^{\\prime}}=\\pi_s $$ 此时利润函数 $\\pi$ 必然同时和和 $P$ 和 $P^{\\prime}$ 有关，于是考虑 $\\pi$ 和 $P^{\\prime}$ 弹性，记为： $$ \\frac{\\partial\\pi}{\\partial P^{\\prime}}\\frac{p^{\\prime}}{\\pi}=\\varepsilon_{\\pi P^{\\prime}} $$ 再代入动态垄断博弈的公式中，得到如下关系式： $$ \\varepsilon_{\\pi P^{\\prime}}=1-\\frac{\\pi_\\varepsilon}\\pi $$ 也就是说，动态垄断中，厂商应根据这个关系式不断调整自己的利润函数。 ","date":"2024-05-07","objectID":"/zh-cn/posts/bff/:5:0","tags":["变分法","动态优化"],"title":"变分法学习笔记","uri":"/zh-cn/posts/bff/"},{"categories":["经济学习","软件工具"],"content":"众所周知，zotero 有很多神级插件, Better note 就是其中一个。我们可以直接在 zotero 里边读文献边写 markdown 笔记。 很多时候老师会要求做 PPT 进行文献汇报。只要 markdown 模板写得好，当 PPT 用也不是不行（ 结合 zotero style 、茉莉花、绿青蛙、zoteroGPT、translate 等插件，我们还可以对笔记进行自动填充。 最近想出来的两个论文选题，一顿花哨操作，发现数据都不显著，又没有新灵感，于是回过头继续折腾数学和软件了。 不显著恰恰说明了计量的可靠，不是强行显著，而是全民炼丹，总有人会挖到真正的宝藏，挖到的大佬会说，我挖到是因为有经济直觉和科研品味——这确实有点玄学了1。 写这个文章也是因为 zotero 7 更新后原来的模板不再兼容，同时我想加个适合自己的文献阅读笔记模板。 better note 经典的 sci 阅读模板，以上信息来自文件元信息读取\r","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:0:0","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"一、Better note 的安装 github 项目地址：https://github.com/windingwind/zotero-better-notes 项目讨论区（discuss）就是大家分享模板的地方。 ","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:1:0","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"二、模板加入 复制我的模板，或者自己去讨论区复制想要的模板。 ","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:2:0","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"模板 1：极致简洁 内容是我自己阅读完写的，本模板不支持元数据自动导入，但小白也看得懂怎么修改代码标题\r文字部分就是标题，\u003ch1\u003e 代表一号标题，\u003c/li\u003e 代表无序列表。 \u003ch1\u003e标题\u003c/h1\u003e \u003cp\u003e\u003c/p\u003e \u003ch2\u003e创新与边际贡献\u003c/h2\u003e \u003cp\u003e\u003c/p\u003e \u003ch2\u003e模型方法\u003c/h2\u003e \u003cul\u003e \u003cli\u003e数据：\u003c/li\u003e \u003cli\u003e因变量：\u003c/li\u003e \u003cli\u003e自变量：\u003c/li\u003e \u003cli\u003e控制变量：\u003c/li\u003e \u003c/ul\u003e \u003ch2\u003e稳健性和内生性 \u003c/h2\u003e \u003cp\u003e\u003c/p\u003e \u003ch2\u003e机制检验\u003c/h2\u003e \u003cp\u003e\u003c/p\u003e \u003ch2\u003e异质性\u003c/h2\u003e \u003cp\u003e\u003c/p\u003e \u003ch1\u003e总结\u003c/h1\u003e \u003cp\u003e\u003c/p\u003e ","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:2:1","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"模板 2：花里胡哨 改自：自用SCI笔记模版 可以在 github 或者知乎找到我改造后的源码。 就是文章开始展示的图片。 需要额外安装 zotero style、绿青蛙、translate 插件作为模板支持。 主要加了表格和修改标题\r由于 HUGO 博客不支持放 zotero 的 html 代码（放代码块里也会渲染出错）， 可以在 github （ #973 ）找到源代码；也可以在知乎找到代码。 ","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:2:2","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"模板载入与报错： zotero 左上角 - 编辑 - 模板编辑器 - 新建 - 把代码复制到中间去 - 保存 如图\r可能报错情况 1：Template New Template: 1714978248098 Error: ReferenceError: topItem is not defined 因为模板名称得是 [Item]论文笔记 的形式。别问，问就是 zotero 6 流传下来的底层代码。 可能报错情况 2：Template Preview Error: TypeError: Zotero. ZoteroStyle. Data. Ztoolkit. ItemTree. FieldHooks. GlobalCache is undefined 这里是笔记模板通过 zotero style 读取文件元数据，如果版本不匹配就不行。 本文代码对应, Zotero 7.0.0-beta.77+adaa61f2c版本 + Ethereal Style4.4.2版本 + Better note1.1.4-49。 也是因为 zotero 7 最近几个版本都是优化 bug ，版本比较平稳了我才决定更新下 better note 的模板。 提醒一下， best note 版本还停留在 2023.122，所以笔记导出好像还有点问题。 可能报错 3：很多人完成以上两步依旧报错，原因还是在于这个笔记模板要读取文件元数据，如果直接对着 pdf 附件而不是论文条目加笔记模板，由于没有元数据，也会出错。 ","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:2:3","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"三、模板使用 打开自己要阅读的文件 pdf 后（确定这个 pdf 有 zotero 条目信息） 右侧条目笔记一排的加号-从模板新建条目笔记-然后在弹窗中打开自己要的模板即可。 右侧条目笔记一排的加号-从模板新建条目笔记\r","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:3:0","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"四、经济学国内外 最后说点最近读论文的感想。目前，国内经济学家的风评极度不好，大家也说要学经济学必须出国（贫穷如我加英语不好当然选择国内苟着了）。我是赞同的，毕竟主流经济学框架就是来自西方。 但是这不是一个总量比较问题，而是追击问题。国内大把高校连三高的优质教学资源都凑不出来3，但是研究进度已经日新月异，也算是新生代把难度卷上去了（ 10 年前，《经济研究》做个完整的回归流程就行。 5 年前，计量经济学已经普及。 毕业论文不写计量都要催着写计量。 如今，中国工业经济、管理世界、世界经济，一看最近的，大片好论文已经是 数理模型定性+社会现实分析+计量论证三合一。 至少模板上已经完全对齐了国际标准。 最近读的越来越多的论文、异质性、机制检验有点经由经济含义分析，从而使得检验混合的意思了？感觉大佬们颇有无招胜有招的感觉。 只考虑纯本土培养。研究规范性起来了，剩下的就是原创性思想，这个追上去起码还有 20 年时间吧？就算今年提出天才的创新理论，还要等 20 年理论经历历史和社会的考验。 ","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:4:0","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["经济学习","软件工具"],"content":"其他 zotero 相关 滑翔闪：Word替代LaTex？ 滑翔闪：是否选择更新zotero6到7？ 滑翔闪：Zotero与经济期刊RSS订阅 最近我怀疑我是不是被洗脑了，天天经济学要讲有趣的故事，然而所谓的品味却不由自己决定。再说问题，现在我国经济这么多问题我却不能提出来一个能具体研究的问题，也太悲伤了… ↩︎ zotero 6 更新到 7 炸了一大波插件的适配，而且我觉得越来越卡了。 ↩︎ 101 计划其实没有执行的土壤吧 ↩︎ ","date":"2024-05-06","objectID":"/zh-cn/posts/zoteronote/:5:0","tags":["Zotero","文献阅读","软件推荐"],"title":"Zotero 7 Better note 实证经济学笔记模板","uri":"/zh-cn/posts/zoteronote/"},{"categories":["软件工具"],"content":"R 语言笔记 1 界面介绍与语法结构 R 语言笔记 2 数据清洗、绘图与计量 推荐的学习资源在 R语言笔记1界面介绍与语法结构 常用数据库和清洗思想已经在 stata 版本介绍过了，这里重点记录 R 语言数据清洗常用代码。 在整理的过程中我反复感受到开源的力量。所有的处理都有 R 语言原生的技巧，但总会冒出各种包让你更省事，所以， 即便引导已经破碎，也请你成为调包之王！ ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:0:0","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"数据清洗 ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:0","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"工作目录 # 清楚所有变量 rm(list=ls()) # 查看当前目录 getwd() # 设置工作目录,注意使用的是斜杠 setwd(\"F:/桌面\") # 获取文件路径，此时会打开电脑文件手动寻找文件，然后点击后会返回文件路径 file.choose() ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:1","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"数据导入 表格出处：《数据科学中的 R 语言》 格式 命令 .txt read.table() .csv read.csv() and readr::read_csv() .xls and .xlsx readxl::read_excel() and openxlsx::read.xlsx() .sav (SPSS files) haven::read_sav() and foreign::read.spss() .Rdata or rda load() .rds readRDS() and readr::read_rds() .dta haven::read_dta() and haven::read_stata() .sas 7 bdat (SAS files) haven::read_sas() Internet download.file() 遇到中文乱码则加入编码 read.table(…, fileEncoding = “UTF-8”) 参考来源 《统计分析（以R语言为工具）：辅助材料》 ### 1. read.rable() ### #从txt中读入,分隔符为\"\\t\" # head表示查看前几行 tes = read.table(\"./data/top250.txt\", header = TRUE, sep = \"\\t\",fileEncoding = \"GBK\"); head(tes) ### 2. read.csv() ### #专用函数read.csv movie_csv = read.csv(\"./data/top250.csv\",fileEncoding = \"GBK\"); head(movie_csv) library(\"readxl\") # 加载包 # 其中col_names参数仍然是为了设定是否把第一行当做变量名 movie_excel = data.frame(read_excel(\"./data/top250.xlsx\", col_names = TRUE));head(movie_excel) 手动输入： mydatatxt\u003c-\"name gender age 张三 M 20 李四 F 23 \" 批量合并的 excel 和 CSV 代码 #批量获取csv文件 library(readr) library(dplyr) # 设置文件夹路径 folder_path \u003c- \"F:/桌面/文件夹/\" # 获取文件夹中的所有csv文件路径 csv_files \u003c- list.files(folder_path, pattern = \"\\\\.csv$\", full.names = TRUE) # 创建一个空的列表，用于存储读取的csv数据 data_list \u003c- list() # 循环读取每个csv文件，并将其存储在data_list中 for (file in csv_files) { data \u003c- read_csv(file) data_list[[file]] \u003c- data } # 将所有数据合并到一个数据框中 combined_data \u003c- bind_rows(data_list) # 查看合并后的数据 print(combined_data) #———————————————————————————————————————————————————— #批量获取xlsx文件 library(readxl) library(dplyr) # 设置文件夹路径 folder_path \u003c- \"F:/桌面/文件夹/\" # 获取文件夹中的所有xlsx文件路径 xlsx_files \u003c- list.files(folder_path, pattern = \"\\\\.xlsx$\", full.names = TRUE) # 创建一个空的列表，用于存储读取的xlsx数据 data_list \u003c- list() # 循环读取每个xlsx文件，并将其存储在data_list中 for (file in xlsx_files) { data \u003c- read_excel(file) data_list[[file]] \u003c- data } # 将所有数据合并到一个数据框中 combined_data \u003c- bind_rows(data_list) ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:2","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"查看数据类型 names(中国城市数据库) #查看变量名对应的列数 str(中国城市数据库) #查看数据类型 summary(中国城市数据库) #最大值最小值均值，只支持数值列表 summary(中国城市数据库[, c(2, 4:6)]) #查看第二列和四到六列 summary(中国城市数据库[,2:12]) #查看第二列到十二列 ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:3","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"修改变量名 最减简单的方法——select 注意！我们是想把年份改成 year ，等式为 year = 年份！ 如果文件含有特殊符号，使用``符号包围 library(dplyr) names(中国城市数据库) data\u003c-rename(中国城市数据库,year = 年份 ,GDP = `地区生产总值(万元)` ,one = `第一产业增加值(万元)`) 顺便提一下复杂的改名方式（ R 语言基本语法）： # 修改第一列数据的列名，修改为bb setwd(\"F:/桌面/R\") 中国城市数据库 \u003c- readxl::read_excel(\"中国城市数据库.xlsx\") colnames(中国城市数据库)[1] \u003c- 'bb' # 同理，行名修改为rownames 数据库$列名是指定列变量的方式，Rstudio的很多功能还是挺好用的\r如果变量太长，我们不知道要修改的数据变量在第几列，请使用 names(中国城市数据库)，结果会展示变量名和其对应列数。 ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:4","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"创建新变量 推荐使用方法一 方法一 d3 \u003c- mutate(中国城市数据库, year = 年份/2 ) 方法二 # 主要使用transform() # 第一个参数是要操作的数据框名称 # 接下来的参数就是操作公式 # 公式左边是新变量名 # 公式右边是具体的操作 mydata \u003c- transform( mydata, sum = x1 + x2, mean = (x1 + x2)/2 ) 方法三 mydata$mean \u003c- (mydata$x1 + mydata$x2)/2 # 新建名称为mean的变量，它是由原来的两个变量（x1和x2）取平均值后所得 mydata$empty_variable \u003c- NULL # 创建空白变量 截取与添加字符 新建变量 x ,截取变量 var 第一个位置开始，长度为 4 的字符串 中国城市数据库 \u003c- 中国城市数据库 %\u003e% mutate(x = substr(var, 1, 4)) # 在后面添加 中国城市数据库2 \u003c- 中国城市数据库2 %\u003e% mutate(x = paste0(var, \"_suffix\")) # 在前面添加 中国城市数据库2 \u003c- 中国城市数据库2 %\u003e% mutate(x = paste(var, \"_suffix\")) ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:5","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"数据类型转换 包括日期的转换 mydata$x \u003c- as.factor(mydata$x) # 其他类型 as.numeric('123') as.character(123) as.logical(FALSE) ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:6","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"时间日期相关 日期转换 as.Date('1/15/2020', format = '%m/%d/%Y') ###(2)将字符转换成POSIXct/POSIXlt时间格式### as.POSIXct(1472562988, origin = \"1960-01-01\")#日期值转换，以\"1960-01-01\"为起点 日期提取 library(lubridate) # 加载lubridate包 t = \"2020-11-20 01:30:29\" year(t)#提取年份 ## [1] 2020 month(t)#提取月份 ## [1] 11 mday(t)#提取日期是一个月中的第几天 ## [1] 20 wday(t)#提取日期是一周中的第几天 ## [1] 6 hour(t)#取出日期中的小时数 ## [1] 1 minute(t)#取出日期中的分钟数 ## [1] 30 second(t)#取出日期中的秒 ## [1] 29 日期计算 # 求任意两个日期距离的天数 begin = as.Date(\"2016-03-04\") end = as.Date(\"2016-05-08\") (during = end - begin) ## Time difference of 65 days # 求任意两个日期距离的周数和小时数 difftime(end, begin, units = \"weeks\") ## Time difference of 9.285714 weeks difftime(end, begin, units = \"hours\") ## Time difference of 1560 hours ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:7","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"排序、选择与分组 筛选行 # 选择数据集mydata中2020年且城市id大于等于1100的数据 filter(mydata, year == 2020, cityid \u003e= 1100) # 排除所有数据集mydata中2020年且城市id大于等于1100的数据 filter(mydata, !(year == 2020| cityid \u003e= 1100)) 筛选列 # 去掉年份到城市id对应的列 select(mydata, -(year:cityid)) 排序 # 按照GDP排序 order(中国城市数据库$$地区生产总值.万元.) # 当变量名含有（）时，使用..替代名称被R识别 # 按照GDP降序排列 sorted_values \u003c- sort(中国城市数据库$地区生产总值.万元., decreasing = TRUE) 分组处理 library(dplyr) # 使用 dplyr 包进行分组计算均值 中国城市数据库 \u003c- 中国城市数据库 %\u003e% group_by(国界) %\u003e% mutate( 乡村振兴边境 = mean(乡村振兴, na.rm = TRUE), 产业兴旺边境 = mean(产业兴旺, na.rm = TRUE), 生态宜居边境 = mean(生态宜居, na.rm = TRUE), 治理有效边境 = mean(治理有效, na.rm = TRUE), 乡风文明边境 = mean(乡风文明, na.rm = TRUE), 生活富裕边境 = mean(生活富裕, na.rm = TRUE) ) ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:8","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"匹配合并 虽然 R 语言自带 merge ,和 stata 的 merge 类似，但功能更弱且只能进行一对一匹配，这里推荐使用 dplyr 包。 横向\r纵向\rlibrary(dplyr) # 横向 dplyr::left_join(a,b,by=\"x1\") dplyr::right_join(a,b,by=\"x1\") dplyr::inner_join(a,b,by=\"x1\") dplyr::outer_join(a,b,by=\"x1\") dplyr::semi_join(a,b,by=\"x1\") dplyr::anti_join(a,b,by=\"x1\") # 纵向 dplyr::intersect(a,b) dplyr::union(a,b) dplyr::setdiff(a,b) dplyr::bind_rows(a,b) # 举例 # 按照id和year匹配城市数据和试点政策 # 如果进行局部匹配则按照索引[m,n:l]切分 merged_data \u003c- dplyr::left_join(中国城市数据库, 智慧城市,by = c(\"year\", \"id\")) merged_data2 \u003c- merge(中国城市数据库[,3:5], 智慧城市, by = \"year\", all = TRUE) ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:9","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"异常值处理 删除重复值 unique_data \u003c- 中国城市数据库 %\u003e% distinct(id, year, .keep_all = TRUE) 数据插补 na.rm = TRUE 是一个参数，通常用于在对数据进行计算时指定是否移除缺失值。当 na.rm 参数设置为 TRUE 时，函数会在计算前移除数据中的缺失值；而当设置为 FALSE 或省略时，函数将包含缺失值并返回结果为 NA。 截面插值 # 将中国城市数据库 gdp 列中的缺失值用该列的均值替代 中国城市数据库[is.na(中国城市数据库$gdp), ]$gdp \u003c- mean(中国城市数据库$gdp, na.rm = TRUE) # 将中国城市数据库 score 列中小于 0 的异常值替换为缺失值 中国城市数据库[which(中国城市数据库$score \u003c 0), ]$score \u003c- NA # 将中国城市数据库 score 列中的缺失值用该列的均值替代 中国城市数据库[is.na(中国城市数据库$score), ]$score \u003c- mean(中国城市数据库$score, na.rm = TRUE) 面板插值 参考 stata 的插值命令，在 R 中找到了相似的插入方法 library(dplyr) library(zoo) # 设置数据框为面板数据，按照 id year 分类，对“地区生产总值.万元.”进行插值 中国城市数据库_new \u003c- 中国城市数据库 %\u003e% arrange(id, year) %\u003e% group_by(id) # 内插 中国城市数据库_new \u003c- 中国城市数据库_new %\u003e% mutate(地区生产总值.万元. = na.approx(地区生产总值.万元.)) # 外插 中国城市数据库_new \u003c- 中国城市数据库_new %\u003e% mutate(地区生产总值.万元. = na.approx(地区生产总值.万元., method = \"constant\")) 缩尾处理 参考 R语言与Stata等价命令-statar，使用 statar 包。 将超过特定范围的值，替换为特定范围边界对应的值。 library(statar) statar::winsorize(v, probs = c(0.01, 0.99)) # R也可以线算数据分布，然后根据数据分布删除 # 计算百分位数 quantiles \u003c- quantile(中国城市数据库2$R.D内部经费支出.万元., probs = c(0.01, 0.99)) # 替换极端值 中国城市数据库2$R.D内部经费支出.万元.[中国城市数据库2$R.D内部经费支出.万元. \u003c quantiles[1]] \u003c- quantiles[1] 中国城市数据库2$R.D内部经费支出.万元.[中国城市数据库2$R.D内部经费支出.万元. \u003e quantiles[2]] \u003c- quantiles[2] 数据删除 删除空白值，问卷不适用值。 由于 stata 一次性只能操作一张表，所以都是在一张表上增减，但是 R 语言支持多张表操控，所以实际上是通过截取合适数据形成一张新的表来达成筛选目的。 # 删除为2020年年份的对应行，删去第5列，第10列 中国城市数据库_new \u003c- 中国城市数据库[中国城市数据库$year != \"2020\", -c(5, 10)] #使用循环函数 # 创建一个包含需要插值的变量名的字符向量 var \u003c- c(\"var0\", \"var1\", \"var2\", \"var3\", \"genshin\") # 循环遍历每个变量名 for (i in var) { # 删除变量中的特定值 data \u003c- subset(data, !(data[, i] == -88 | data[, i] == -99 | is.na(data[, i]) | data[, i] \u003c= 0)) } ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:1:10","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"绘图 这里参考《统计软件 R》 李东风老师写的电子讲义。 个人数据来源 Ggplot 2 就是分治画图，所以语法组成就是 $$ 步骤1(指定数据库，指定坐标轴)+步骤2(指定图像类型)+图像3(装饰)+组合4(……) $$ Ggplot 2 的作图一般步骤为： 准备数据，一般为数据框，且一般为长表，即每个观测时间占一行，每个观测变量占一列。 将数据输入到 ggplot() 函数中，并指定参与作图的每个变量分别映射到哪些图形特性，比如映射为 x 坐标、y 坐标、颜色、形状等。这些映射称为 aesthetic mappings 或 aesthetics。 选择一个合适的图形类型，函数名以 geom_ 开头，如 geom_point() 表示散点图。图形类型简称为 geom。将 ggplot() 部分与 geom_xxx() 部分用加号连接。到此已经可以作图，下面的步骤是进一步的细化设定。 设定适当的坐标系统，如 coord_cartesian(), scale_x_log10() 等。仍用加号连接。 设定标题和图例位置等，如 labs()。仍用加号连接。 这个流程的一个大致的模板为： library(ggplot2) p \u003c- ggplot(data=\u003c输入数据框\u003e, mapping=aes(\u003c维度\u003e=\u003c变量名\u003e, \u003c维度\u003e=\u003c变量名\u003e, \u003c...\u003e)) p + geom_\u003c图形类型\u003e(\u003c...\u003e) + scale_\u003c映射\u003e_\u003c类型\u003e(\u003c...\u003e) + coord_\u003c类型\u003e(\u003c...\u003e) + labs(\u003c...\u003e) ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:0","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"散点图与折线图 感觉语法上确实不如 stata 简洁好用（ geom_point(): 散点，同理，加折线图就是 geom_line() geom_smooth(): 拟合线 scale_x_log10：横坐标以 10 为低对数化 color = quality 按照 quality 变量分组填充颜色 facet_wrap(~ quality) 按照 quality 变量进行切片分组，也可以变成 （a~b），就是二维分组。也可以使用 facet_grid(行变量 ~ 列变量)。 setwd(\"F:/桌面/R\") testdata \u003c- readr::read_csv(\"wineQualityReds.csv\") names(testdata) library(ggplot2) # qplot快速画图 qplot(x=chlorides , y=chlorides , data=testdata, geom = \"point\") # ggplot画图 p \u003c- ggplot(data = testdata, mapping = aes( x = residual.sugar, y = chlorides, color = quality, fill = quality)) p1 \u003c- p + geom_point() + geom_smooth(method = \"loess\") + scale_x_log10(labels = scales::dollar) + labs( x = \"横坐标\", y = \"纵坐标\", title = \"test标题\", subtitle = \"随便找的数据\", caption = \"数据来源: github\" )+ facet_wrap(~ quality) print(p1) ggsave(filename=\"文件名.png\") 散点图加拟合线\r切片以后\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:1","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"条形图 # 使用数据集计数 数据集 \u003c- 原始数据集 |\u003e select(分类变量) |\u003e count(分类变量) |\u003e mutate(比例值 = n / sum(n)) p\u003c-ggplot(数据集, aes( x = 分类变量 y = n, #也可以改成比例值 fill =religion #不同分类不同颜色 )) p+geom_col() +labs(y = \"纵坐标名字\") +guides(fill = \"none\") #是否取消图例 + coord_flip() #x轴和y轴互换 + geom_col(position = \"stack\") #堆叠 +facet_grid(A ~ B) #切片分组 内部再分组的条形图 df3 \u003c- gss_sm |\u003e select(bigregion, religion) |\u003e group_by(bigregion, religion) |\u003e summarise(n = n(), .groups=\"drop_last\") |\u003e mutate(ratio = n / sum(n)) p \u003c- ggplot(df3, aes( x = bigregion, y = n, fill = religion)) p + geom_col() 内部再分组的直方图\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:2","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"直方图 # midwest是ggplot自带数据库 # 直方图 p \u003c- ggplot(midwest, aes(x = area)) p + geom_histogram() # 核密度图 ggplot(midwest, aes( x = area, color = state, fill = state)) + geom_density(alpha = 0.3) #alpha = 0.3设置透明度 #直方图加核密度 ggplot(midwest, aes(x = area)) + geom_histogram( mapping = aes(y = ..density..), alpha = 0.6) + geom_density(size = 1.1) 加上核密度线后的直方图\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:3","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"箱型图 # 只用更换 ggplot(数据库,aes(分类x,目标y)) p \u003c- ggplot(midwest,aes(state,area))+ stat_boxplot(geom = 'errorbar',width=0.3,cex=1)+ #errorbar geom_boxplot(cex=1)+ labs(x=NULL)+ theme_classic(base_size = 18)+ theme(panel.border = element_rect(size = 1,fill = 'transparent'), legend.position = 'none', axis.text = element_text(color = 'black')) #主题调整 p midwest是自带数据库\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:4","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"词云 library(wordcloud2) wordcloud2(demoFreq) wordcloud2包自带的数据库\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:5","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"相关系数热力图 参考 R语言绘制相关性热图 # 加载包 library(ggcorrplot) cormtcars \u003c- round(cor(mtcars), 3) #round()函数自定义小数点后位数 ggcorrplot(cor(cormtcars)) # 默认是方形，修改为圆形显示，并标上相关系数 ggcorrplot(cormtcars,method = \"circle\",lab=T) # 使用ggcorrplot包的cor_pmat()函数计算p值： pmtcars \u003c- cor_pmat(mtcars) ggcorrplot(cormtcars,hc.order = T, #分等级聚类重排矩阵 ggtheme = ggplot2::theme_void(base_size = 15), #主题修改 colors = c(\"CornflowerBlue\",\"white\",\"Salmon\"), #自定义颜色，看自己喜欢，或是参考好看的文献Figure用法。 lab = T,lab_size = 5, #相关系数文本字体大小 tl.cex = 15, #坐标轴字体大小 p.mat = pmtcars, #添加显著性信息 sig.level = 0.01, #显著性水平 pch = 4, #不够显著的色块进行标记，pch表示选择不同的标记方法，可以尝试其他数字表示什么标记方法 pch.cex = 10) #不显著标记的大小，使用insig = \"blank\"将不显著的空白处理 相关系数热力图\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:6","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"气泡图 # 设置工作环境 setwd(\"F:/桌面/R\") 中国城市数据库 \u003c- readxl::read_excel(\"中国城市数据库.xlsx\") # 加载包 library(ggplot2) library(dplyr) # 修改数据库名字 names(中国城市数据库) str(中国城市数据库) data\u003c-rename(中国城市数据库,year = 年份 ,GDP = `地区生产总值(万元)` ,one = `第一产业增加值(万元)` ,id=`行政区划代码`) data \u003c- mutate(data, pro = substr(id, 1, 2), #拆卸字符，cityid前两位代表省份 lgone=log(one,base=10) #对数化 ) # 画图 p\u003c-ggplot(data[1:400,], mapping =aes( x=year, y=GDP, size=lgone, #气泡大小权重 color = pro,#线条颜色分组，根据省份分组 fill = pro))#填充颜色分组，根据省份分组 p+ geom_point(shape=21,colour=\"black\",alpha = .5)+geom_smooth(method = \"loess\", aes(group = pro)) 气泡图\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:7","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"图片合并 推荐阅读目前最全的R语言-图片的组合与拼接 加载包和绘图 #加载绘图包 library(ggplot2) library(ggprism) library(reshape) library(ggpubr) #数据 df \u003c- data.frame(A = c(1, 2, 3, 4, 5, 6, 8, 12, 13), B = c(1, 2, 4, 5, 7, 10,5,6,8), C = c(1, 5, 6, 7, 8, 9, 10, 11, 13), D = c(1, 2, 5, 8, 10, 13,5,8,6)) df1=melt(df) colnames(df1)=c(\"group\",\"value\") # fig.1 p1\u003c-ggplot(df1,aes(x=group,y=value))+ stat_boxplot(geom = \"errorbar\", width=0.1)+ geom_boxplot(aes(fill=group), outlier.colour=\"white\")+ geom_jitter(width = 0.2)+ theme_prism(palette = \"candy_bright\", base_fontface = \"plain\", base_family = \"serif\", base_size = 16, base_line_size = 0.8, axis_text_angle = 45)+ scale_fill_prism(palette = \"candy_bright\")+ theme(legend.position=\"none\") p1 # fig.2 p2\u003c-ggplot( df1, aes(x = group, y=value,color=group,fill=group) ) + geom_bar(stat=\"summary\",fun=mean,position=\"dodge\")+ stat_summary(fun.data = 'mean_sd', geom = \"errorbar\", width = 0.3)+ labs(x=\"Samples\",y=NULL)+ theme_prism(palette = \"candy_bright\", base_fontface = \"plain\", base_family = \"serif\", base_size = 16, base_line_size = 0.8, axis_text_angle = 45)+ scale_fill_prism(palette = \"candy_bright\")+ theme(legend.position=\"none\") p2 # fig.3 p3\u003c-ggplot(df1, aes(x = group, y=value,fill=group))+ geom_violin(trim = T,position = position_dodge(width = 0.1))+ geom_boxplot(alpha=1,outlier.size=0, size=0.3, width=0.2,fill=\"white\")+ stat_summary(fun=\"mean\",geom=\"point\",shape=21, size=2,fill=\"blue\")+ labs(x=\"Samples\",y=NULL)+ theme_prism(palette = \"flames\", base_fontface = \"plain\", base_family = \"serif\", base_size = 16, base_line_size = 0.8, axis_text_angle = 45)+ scale_fill_prism(palette = \"candy_bright\")+ theme(legend.position = 'none') p3 # fig.4 p4\u003c-ggplot(df) + geom_segment(aes(x=A, xend=A, y=0, yend=B), color=\"grey\",size=1) + geom_point( aes(x=A, y=B,color=A), size=4 ) + theme_prism(palette = \"pearl\", base_fontface = \"plain\", base_family = \"serif\", base_size = 14, base_line_size = 0.8, axis_text_angle = 45) + theme(legend.position = \"none\") + ggtitle(\"Lollipop Chart\") p4 组合图片 # cowplot包 cowplot::plot_grid(p1,p2,p3,p4,ncol = 4) # gridExtra包 gridExtra::grid.arrange(p1,p2,p3,p4, layout_matrix=rbind(c(1,2),c(3,4)))#将图形分割为4个区域，上面两个放置图1与图2，下面两个区域则放置图3与图4 gridExtra::grid.arrange(p1,p2,p3,p4, layout_matrix=rbind(c(1,2,3,4)))#横向排列 gridExtra::grid.arrange(p1,p2,p3,p4, layout_matrix=rbind(c(1),c(2),c(3),c(4)))#纵向排列 2*2的分割\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:2:8","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"计量 推荐包，知乎大佬@ 包寒吴霜开发的 bruceR 包，开发目的还是为了取代 spss !我经常看大佬关于回归的文章分享，在大佬看来，经济学的回归只是一般/广义/多层线性模型的特殊变形。 由于 R 语言主要是生物医学统计在用，主流的 R 包三线表和经济学的三线表要求并不相同。 ","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:3:0","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"描述性统计和输出 描述统计 library(bruceR) head(mtcars) #R自带数据 mtcarsdemo \u003c- mtcars[c(\"mpg\", \"disp\", \"hp\", \"drat\", \"wt\", \"qsec\")] Describe(mtcarsdemo, digits = 2, file = \"describe\") # digits表示小数点保留位数 # 将结果输出到word 输出效果\r相关性分析 大佬开发的包真是恐怖如斯！简短优雅还高效！ 还是继续用 Describe 命令 library(bruceR) Describe(mtcarsdemo, #数据集 digits = 2, #小数点 plot = T, #画图功能 upper.triangle = T, #右上角的散点图 upper.smooth = \"loess\") #拟合线，如果是lm为一次，loesss是二次 bruceR的相关性分析，第一次使用时我惊呆了！\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:3:1","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"回归和 word 输出 回归 robust=\"HC1\": 稳健性模式设置，HC 1 就是 stata 中的 reg y x,r cluster=\"stratum\": 和 stata 相同， cluster 是层次聚类解决自相关 family=binomial: 是否二项回归 regress(Temp ~ Month + Day + Wind + Solar.R, data=airquality, robust=TRUE) regress(case ~ age + parity + education + spontaneous + induced, data=infert, family=binomial, robust=\"HC1\", cluster=\"stratum\") 回归输出 bruceR 包是将 reg 的三线表输出并入到了广义多层次回归中， 下面两个回归代码是等价的： # 代码一： lm2 = lm(Temp ~ Month + Day + Wind + Solar.R, data=airquality) model_summary(lm2, robust=\"HC1\") # 代码二： regress(Temp ~ Month + Day + Wind + Solar.R, data=airquality, robust=TRUE) 所以通过 lm 模型来输出回归结果： library(bruceR) head(airquality) #自带数据库 names(airquality) lm1 = lm(Temp ~ Month + Day, data=airquality) lm2 = lm(Temp ~ Month + Day + Wind + Solar.R, data=airquality) model_summary(lm1) model_summary(lm2, robust=\"HC1\") model_summary(list(lm1, lm2), file=\"OLS Models.doc\") 回归结果\r","date":"2024-04-22","objectID":"/zh-cn/posts/r2/:3:2","tags":["R"],"title":"R 语言笔记 2 : 数据清洗、绘图与计量","uri":"/zh-cn/posts/r2/"},{"categories":["软件工具"],"content":"R 语言笔记 1 界面介绍与语法结构 R 语言笔记 2 数据清洗、绘图与计量 记录下 R 语言学习过程。个人感觉作为只跑回归的经济学学习者， Stata 完全够用了1，不足的部分一般都用 Python 的轮子，即便是算 DSGE 用的也是 Matlab 的 Dynare 插件。对于计量经济学来说 R 语言回归表格样式和导出都不太友好，比较劝退。 虽然目前对我没啥用，但学习原因有三： 支持开源2，所以想浅浅学习下 R 语言； 个人目前在用 Rstudio 写博客文件； 看了下快手、字节、腾讯、百度等大厂的分析师类型实习招聘，一般都是要求用 R 语言处理 SQL 数据库。 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:0:0","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"教程推荐 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:1:0","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"个人推荐 论坛：统计之都 在线即可运行 R 语言代码：菜鸟编程 国外版本的菜鸟编程：w3schools 推荐博客网站 强烈推荐：《统计软件 R》 李东风老师写的电子讲义 强烈推荐：《数据科学中的 R 语言》王敏杰老师写的电子讲义 强烈推荐：《Introduction to Econometrics with R》教材互动感极强！ 由于 R 语言可以生成网站，国内外很多老师都把自己的课写成了在线电子讲义。 写博客是积累，写讲义是用心，这样的老师越来越多，中国以后也会越来越好吧。 可以参见 R 语言电子图书大集合 bookdown 大部分老师的电子讲义都会推荐的一本 R 语言项目： mounment 的 github仓库 国内教程3推荐： 个人喜欢快速入门且关键处足够细致的教程，本文笔记也主要来源于该视频： 看完视频语法介绍之后建议直接开看电子讲义了。 后面视频讲复杂了，没必要。 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:1:1","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"电子讲义教材 表格出处：【精心整理】2022年各专业领域全网最新最顶级的R语言新书 专业领域 TOP-R 书籍或资源 作者 书籍地址 R 编程 R 语言编程：基于 tidyverse 张敬信 https://zhuanlan.zhihu.com/p/467134727 R 编程 R 语言教程 李东风 https://www.math.pku.edu.cn/teachers/lidf/docs/Rbook/html/_Rbook/index.html R 编程 Advanced R Hadley https://adv-r.hadley.nz/ R 编程 Efficient R programming Colin Gillespie, Robin Lovelace https://csgillespie.github.io/efficientR/ R 可视化 ggplot 2: Elegant Graphics for Data Analysis Hadley https://ggplot2-book.org/ R 可视化 Interactive web-based data visualization with R, plotly, and shiny Carson Sievert https://plotly-r.com/ R 可视化 现代统计图形 赵鹏，谢益辉，黄湘云 https://bookdown.org/xiangyun/msg/ R 可视化 rstudio:: conf 2020 data visualization workshop Kieran Healy https://github.com/rstudio-conf-2020/dataviz R 可视化 R Graphics Cookbook, 2 nd edition Winston Chang https://r-graphics.org/ R 可视化 R 语言数据可视化之美 张杰 https://gitee.com/easyshu/Beautiful-Visualization-with-R 文档沟通 R Markdown Cookbook 谢益辉 https://bookdown.org/yihui/rmarkdown-cookbook/ 文档沟通 R Markdown: The Definitive Guide 谢益辉 https://bookdown.org/yihui/rmarkdown/ 文档沟通 bookdown: Authoring Books and Technical Documents with R Markdown 谢益辉 https://bookdown.org/yihui/bookdown/ 开发 R 包 R Packages Hadley https://r-pkgs.org/ Shiny Mastering Shiny Hadley https://mastering-shiny.org/ Shiny Engineering Production-Grade Shiny Apps Colin Fay, Sébastien Rochette, Vincent Guyader and Cervan Girard https://engineering-shiny.org/ Shiny JavaScript for R John Coene https://javascript-for-r.com/ 应用统计 Statistical Inference via Data Science Chester Ismay and Albert Y. Kim https://moderndive.com/ 应用统计 Introduction to Modern Statistics Mine Çetinkaya-Rundel https://openintro-ims.netlify.app/ 应用统计 现代应用统计与 R 语言 黄湘云 https://bookdown.org/xiangyun/masr/ 应用统计 统计学与 R 语言 (课件) 张敬信 tidy-R 语言 2 群（222427909）群文件 实验设计 The Grammar of Experimental Designs Emi Tanaka https://emitanaka.org/edibble-book/ 贝叶斯 Doing Bayesian Data Analysis in brms and the tidyverse A Solomon Kurz https://bookdown.org/content/3686/ 贝叶斯 Introduction to Bayesian Econometrics: A GUIded tour using R Andrés Ramírez-Hassan https://bookdown.org/aramir21/IntroductionBayesianEconometricsGuidedTour/ 贝叶斯 An Introduction to Bayesian Reasoning and Methods Kevin Ross https://bookdown.org/kevin_davisross/bayesian-reasoning-and-methods/ 贝叶斯 Statistical rethinking with brms, ggplot 2, and the tidyverse: Second edition A Solomon Kurz https://bookdown.org/content/70a06054-8138-4d90-aaa0-895f57aab1b4/ 数据科学 R for Data Science Hadley https://r4ds.had.co.nz/ 数据科学 Tidyverse Skills for Data Science in R Carrie Wright, Shannon Ellis, Stephanie Hicks, and Roger D. Peng https://leanpub.com/tidyverseskillsdatascience 数据科学 数据科学中的 R 语言 王敏杰 https://bookdown.org/wangminjie/R4DS/ 数据科学 Data Science Live Book Pablo Casas https://livebook.datascienceheroes.com/ 数据科学 R 语言实战（第三版） Rob Kabacoff https://livebook.manning.com/book/r-in-action-third-edition/ 数据科学 Modern Data Science with R (2 nd) Benjamin S. Baumer, Daniel T. Kaplan, and Nicholas J. Horton https://mdsr-book.github.io/mdsr2e/ 机器学习 mlr 3 book 官方出品 https://mlr3book.mlr-org.com/ 机器学习 Tidy Modeling with R MAX KUHN AND JULIASILGE https://www.tmwr.org/index.html 机器学习 Hands-On Machine Learning with R Bradley Boehmke \u0026 Brandon Greenwell https://bradleyboehmke.github.io/HOML/ 机器学习 Feature Engineering and Selection: A Practical Approach for Predictive Models Max Kuhn and Kjell Johnson http://www.feat.engineering/ 机器学习 An Introduction to Statistical Learning with R Gareth James, Daniela Witten, Trevor Hastie, Robert Tibshirani https://trevorhastie.github.io/ISLR/ 机器学习 R 机器学习：基于 mlr 3 verse (课件) 张敬信 tidy-R 语言 2 群（222427909）群文件 深度学习 Deep Learning with R, Second Edition François Chollet with Tomasz Kalinowski and J. J. Allaire https://www.manning.com/books/deep-learning-with-r-second-edition 文本挖掘 Supervised Machine Learning for Text Analysis in R EMIL HVITFELDT AND JULIA SILGE https://smltar.com/ 文本挖掘 QUANTEDA TUTORIALS Kohei Watanabe and Stefan Müller https://tutorials.quanteda.io/ 文本挖掘 Text Analysis Tuto","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:1:2","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"R 语言下载 个人环境： R 语言（本体）+ Rstuido（IDE）+ Rtools（插件包管理，win 系统限定） 下载很简单，都是点点点一路 yes 即可。 R 语言本体：https://cran.r-project.org/ Rstudio 桌面软件：https://posit.co/download/rstudio-desktop/ R 语言本体自带中文支持，但是 Rstudio 没有中文支持，有汉化github项目，但是不好用，也不推荐去用，产生闪退、不兼容 bug 就麻烦了。 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:2:0","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"R studio 界面与准备 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:3:0","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"界面介绍 菜单目录进入页面设置：tools - global option - Pane Layout 页面\r此时， 左上角的 source（新建 R script 项目后）页面代表代码编写部分。 左下角的 console 代表结果展示部分。 右侧上下部分就是自定义栏目，例如 history 代表代码运行历史；environment 代表变量环境，可以在里面通过 import Dataset 导入 stata、excel 等数据；file 代表运行环境的电脑目录。 随便加载了一个手头的数据集\r","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:3:1","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"包的管理与下载 手动安装 持续使用 R 语言很考验电脑内存，因为要不断地下载包。 win 系统上使用 R 语言，一般使用 Rtools 管理。最新版的 R 语言应该自带这个工具包，没有的话去官网安装即可，安装 .exe 的软件即可。 在包含 file 的部分，其中包含 Packages 部分，点击其中的 install 即可安装。 包的安装\r命令安装、加载 R 语言作为统计学家的语言，个人感觉本体程序语法不太优雅，但开源加载适合的包后就无比痛快了。 例如我们要安装 car 这个包，可以使用以下命令 # 包的安装 install.packages(\"car\") #这里是注释 # 包的加载 library(caret) # 单独加载其中某个字函数 # car::vif() # 更新包 update.packages() # 移除包 remove.packages() # 获取帮助 ?help help(\"library\") # 某个关键词的帮助 help.search(\"library\") # 某个packages的帮助 help(packages = \"ggplot2\") 由于包与包之前可能存在同样的函数名，在调用两个包产生冲突时，后面的包的同名函数将覆盖前一个包 设置工作目录 # 查看当前目录 getwd() # 设置工作目录,注意使用的是斜杠 setwd(\"F:/桌面\") # 获取文件路径，此时会打开电脑文件手动寻找文件，然后点击后会返回文件路径 file.choose() # 保存R文件.RData save() save.image() #加载R文件 load(\"F:/文档1\") load(file.choose() ) # 记载某个包的数据集 data() 载入数据 Stata 一个页面只能加载一个数据库，但是 R 语言可以加载多个。 环境部分可以手动载入\r# 展示当前环境栏中的所有数据对象，以数据库名称为单位 ls() # 移除某个对象 rm(list = ls()) ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:3:2","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"语法知识 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:4:0","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"数据类型 类型 示例或描述 类型 数值 2333 233.3 numeric 字符 ‘下一个就是你了’ “JOJO” “2333” character 逻辑 TRUE T FALSE F logical 缺失值 例如强行把文字转化为数字会转换失败 NA 空白值 NULL 非数 Not a Number 非数值 NaN 无穷大 “Infinite”的缩写 Inf # 判断数据类型 is.numeric(123) is.character('123') is.logical(FALSE) is.na(NA) is.null(NULL) is.nan(NaN) # 转换数据类型 as.numeric('123') as.character(123) as.logical(FALSE) ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:4:1","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"数据结构 赋值与向量 常规介绍顺序：赋值、索引、切片 # 赋值赋值 # 对象名 \u003c- 对象值 # 快捷键 alt - v1 \u003c- 1:5 #生成1到5对应的向量组v1 v2 \u003c- c(v1,3,2,44,6) #链接connect嵌套 v3 \u003c- rep(v2,times = 2)# repeat:按整体次序重复两次 v4 \u003c- rep(v2,each = 2)# repeat:按每个元素重复两次 v5 \u003c- rep(v2,times=2 , each = 2)# 优先执行each，后执行times v6 \u003c- seq(from = 2, to = 9, by = 3) #以2为取值起点，每次加3取值，直到大于9为止 v7 \u003c- seq(from = 2, to = 12, length.out = 3) #限制向量长度，因此多出来的数字会被取均值 v8 \u003c- c('JOJO' ,'下一个就是你了') v9 \u003c- c('JOJO' ,T , 123) #会存在强制转换，字符\u003e逻辑\u003e数值 # 向量名称 names(v2)\u003c- v9 #变量v2的名称改为v9 # 此时v2情况如下 JOJO TRUE 123 \u003cNA\u003e \u003cNA\u003e \u003cNA\u003e \u003cNA\u003e \u003cNA\u003e \u003cNA\u003e 1 2 3 4 5 3 2 3 6 # 向量长度 length(v9) length(v9)\u003c- 9 # 向量索引 # 不同于python重默认索引从0开始,R语言索引默认从1开始 # 不同于python加上负号代表反方向,R语言负索引代表去掉该索引值 v7[3] v7[c(1,3,5)] v2[c(1,4)] v2[-c(1,4)] #去掉1和4对应索引值 v2[c('JOJO' ,'TRUE')] v1[v1%%2==1] #条件索引，模2余1的奇数 # 常量 pi #圆周率 letters #小写字母 LETTERS #大写字母 month.abb #月份缩写 \"Jan\" month.name #月份全写 \"January\" 矩阵 矩阵相关就是向量命令的叠加 # 矩阵 m1 \u003c- matrix( 1:6, nrow = 2, # 两行 # ncol = 3, # 列 byrow = F, #按列进行填充，所以无需规定ncol dimnames = list(c('r1','r2'), c('c1','c2','c3')) ) # 和向量相同，矩阵只接受一种数据格式 # 生成一个3*3的空矩阵 m0 \u003c- matrix(NA,nclo = 3,nrow=3) m2 \u003c- matrix( c(1:6, letters[1:6]), nrow = 3, byrow = TRUE, dimnames = list(c('r1', 'r2', 'r3'), c('c1', 'c2', 'c3', 'c4')) ) # 行列名册 colnames(m1) #列 rownames(m1) #行 dimnames(m2)\u003c-list(c) #行列名称 # 维度信息,也就是python中的shape命令 dim(m1) ncol(m1) nrow(m1) # 矩阵索引 m2[1,2] #返回一行二列的值 m2[1,] #返回第一行的向量 m2[c(1,3),c(2,4)] # 换成按照索引名称切片等同 m2['r1',] # 转化成向量 as.vector(m1) #按列顺序抽取控制 #array 列表 不同于向量和矩阵，列表可以是不同数据类型和结构的组合 v1 \u003c- 1:5 m1 \u003c- matrix( 1:6, nrow = 2, byrow = F, dimnames = list(c('r1','r2'), c('c1','c2','c3')) ) # 不同于向量和矩阵，列表可以是不同数据类型和结构 l1\u003c- list(com1 = v1, com2 = m1) # 列表名称 names(l1) # 列表索引,虽然有视频说这几个命令不相同，也就是区别返回到到底是列表、矩阵还是向量，个人试了下似乎没有区别。 l1$com1 l1[['com2']] l1['com2'] l1[20] # 新建成分 l1$com3\u003c- 3:6 l1 # 释放列表 unlist(l1) # 把列表降维成向量，索引生成为第几个列表第几个值 数据框 特殊的列表，也就是我们常常处理的面板数据、时间序列，使用 Data frame 构建。 # 数据框生成 df1 \u003c- data.frame( C1 = 2:5, C2 = letters[2:5] ) df1 # 维度信息 dim(df1) ncol(df1) nrow(df1) # 行列名称 dimnames(df1) # 列和行名称 names(df1) # 行名称 colnames(df1) rownames(df1) # 数据框索引 df1[1:2 ,2] df1[,2] df1[,\"c1\"] df1['1',] df1[[2]] df1$c1 df1[2] df1['c1'] # 新间列 df1$c3 \u003c- 1:4 # 生成网格搜索的数据框 expand.grid(mtry = 2:5, ntree=c(200,500)) ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:4:2","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"基本运算和函数 基本运算 1+2 #加法 3-2 #减法 3*4 #乘法 8/5 #除法 c(1:4)/c(2:5) #长度不同则会循环扩展 2^3 #幂运算 exp(1) log(x=25，base=5) #5为底的25的对数 sqrt(4) #开平方 abs(-5.6) #绝对值 slign(-5.6) #符号 round(3.1415926,2) #保留指定小数 signif(3.1415926,2) #保留有效数字 ceiling(3.2) #大于此数的最小整数 floor(3.2) #小于此数的最大整数 # 数值对比 == != \u003e \u003e= \u003c \u003c= 2 %in% 2:5 #是否包含于 \u0026 #与 | #或 ! #非 向量函数运算 v2 \u003c- c(3,2,7,4,6,8,11,21) max(v2) #最大值 cummax(v2) #对应长度范围内的最大值，返回值也是向量 min(v2) cummin(v2) sum(v2) #求和 cumsum(v2) #累计求和 prod(v2) #乘积 cumprod(v2) #累计乘积 mean(v2) #均值 median(v2) #中位数 sd(v2) #标准差，计算使用的样本的公式 var(v2) #方差，计算使用的样本的公式 rev(v2) #向量逆转，倒过来reverse排序 sort(v2) #排序 v2 \u003c- rep(v2,times=2) table(v5) #频数统计 unique(v5) #取值水平，按照数字第一次出现的先后顺序排列数字 # 索引函数 which(v5==7) #返回满足条件的索引值 which.max(v5) #最大值有重复时返回第一次出现的索引 which.min(v5) # 交集 intersect(1:5,4:7) # 差集 setdiff(1:5,4:7) # 并集,只保留元素的位置值，有重复也保留一个 union(1:5,4:7) 数据框和矩阵运算 数据框 dfs \u003c- data.frame( a = 1:5, b = 3:7, d = letters[1:5] ) # 行列合并 df1 \u003c- dfs[1:3, ] df1 df2 \u003c- dfs[3:5, ] df2 # 行合并 rbind(df1, df2) # 行增加，列不变 cbind(df1, df2) # 列增加，行不变 # 行列运算 colMeans(dfs[,1:2]) #列均值 colSums(dfs[,1:2]) #列求和 rowMeans(dfs[,1:2]) #列均值 rowSums(dfs[,1:2]) #列求和 # apply(数据框,行1还是列2，运算函数) apply(dfs[,1:2],2,sd) #按列计算方差 apply( dfs[,1:2], 2, function(x){sum(is.na(x))} ) # 数据结构信息 str(dfs) #数据类型 summary(dfs) #最小值和最大值 View(dfs) #展示数据框 head(dfs,n=2) #展示前两行(n=2) tail(dfs,n=2) #展示末尾两行(n=2) 矩阵 m3 \u003c- matrix( c(5,7,3,4), ncol = 2, byrow = T, ) m3 m4 \u003c- matrix( c(5,7,3,4,8,9), ncol = 3, byrow = T, ) m4 t(m3) #转置 det(m3) #行列式 m3 %*% m4 #矩阵乘法 solve(m3) #m3 %*% x =E ，求出x solve(m3,m4) #m3 %*% x =m4 ，求出x 字符函数 # 连接字符 paste(1:5,collapse = \"+\") paste(letters[1:5],collapse = \"-\") paste(1:5,letters[1:8],collapse = \"~\") paste(1:5,letters[1:8]) # 字符长度 nchar(month.name) # 字母转大写 toupper(month.name) # 字母转小写 tolower(month.name) # 含有某个字符的元素的索引 grep(\"JU\",month.name) # 替换字符 gsub(\"e\",\"000\",month.name) #将month.name含有e的地方替换成000 分布函数 set.seed(24) #随机种子 sample(1:2,12,replace = T) #从1和2中进行12次有放回（T）的抽样。stata安慰剂检验随机抽样大家应该见过 rnorm(10,mean=1,sd=2) #r随机数+分布（norm） pnorm(1,mean=1,sd=2) #p累计概率 qnorm(0.5,mean=1,sd=2) #q分位数 dnorm(1,mean=1,sd=2) #d概率密度 plot(x = seq(-5, 7, length = 1000), y = dnorm(seq(-5, 7, length = 1000), mean = 1, sd = 2), type = \"l\", ylim = c(0, 0.25)) abline(h = 0, v = 1) # 从-5到7间取1000个数，1000个数服从均值为1，标准差为2的正态分布 # 增加值为0的横线和值为1的竖线 对应的分布函数图\r","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:4:3","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"基本语法 循环 stata 简化为了 local、global 结合 foreach 进行变量循环，缺点是不便于行间的加减。 # for循环 for (x in c(-2,3,0,4)){ print(x) y= abs(x) z=y^3 print(z) print(\"____\") } # 使用宏变量定义 for (variable in vector){ } # while循环 v1 \u003c- 1:5 i\u003c-1 while(i\u003c=length(v1)){ print(i) print(sum(v1[1:i])) i=i+1 print(i) print(\"####\") } df \u003c- data.frame(c1 = 2:5, c2 = 4:7, c3 = -19:-16) # 循环遍历数据框的每一行 for (i in 1:nrow(df)) { # 计算每行的总和并打印 print(sum(df[i, ])) } #next:跳过 #break:结束 for (i in 1:nrow(df)) { # 计算每行的总和并打印 if(i==3){break} print(sum(df[i, ])) } 条件 If else 老生常谈了，这里不再过多举例 a \u003c- 7 if (a \u003e 6) { print(\"a \u003e 6\") } else { print(\"a \u003c= 6\") } s = 45 if (s %% 2 ==0) { print(\"偶数\") } else { print(\"奇数\") } ifelse(55 %% 2 ==0,\"偶数\" \"奇数\") 函数构建 定义函数后，变量栏也会有展示\r名称\u003c- function(参数){ 具体操作 } # 定义函数：阶乘 f1 \u003c- function(aug1){ res1\u003c-1:aug1 res2\u003c-prod(res1) return(res2) } # 使用函数 f1(10) # 定义函数：加法 f2\u003c-function(aug1,aug2=4){ res \u003c- aug1+aug2 return(res) } f2(2333) f2(2333,6666) #此时覆盖默认值aug2=4 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:4:4","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"数据整理 tidyverse 包的官网：https://www.tidyverse.org/ 测试数据集可以在这里下载：https://moxingjiqi.shinyapps.io/dataset/ tidyverse 包的 haven 支持读取 spss、stata、SAS 文件路径最好别包括中文名，不然容易导入乱码失败 ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:5:0","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["软件工具"],"content":"导入和导出 表格出处：《数据科学中的 R 语言》 格式 命令 .txt read.table() .csv read.csv() and readr::read_csv() .xls and .xlsx readxl::read_excel() and openxlsx::read.xlsx() .sav (SPSS files) haven::read_sav() and foreign::read.spss() .Rdata or rda load() .rds readRDS() and readr::read_rds() .dta haven::read_dta() and haven::read_stata() .sas 7 bdat (SAS files) haven::read_sas() Internet download.file() # CSV数据导入 #自定义数据列表 d.small \u003c- read_csv(\"John, 33, 95 Kim, 21, 64 Sandy, 49, 100 \", col_names=c(\"name\", \"x\", \"y\") ) #文件读取1 data \u003c- read_csv(\"testcsv.csv\") #文件读取2 rawdata\u003c- read.table(file.choose(),head=T,sep=\",\") # head:第一行变变量名 sep：csv分割符 head(rawdata,n=4) #输出了数据的前 4 行 tail(rawdata,n=10) #输出了数据的后 10 行 rawdata[95:105] #输出95-105行 str(rawdata) #查看数据类型 # read.csv(file.choose()) # data.table::fread(file.choose()) # CSV数据导出 write.table(rawdata, #导出对象 \"test.csv\", #导出路径 sep=\",\", #导出分割符号 row.names=F) #行名称 # 读取excel表 library(readxl) data1\u003c- read_excel(file.choose()) #批量获取csv文件 library(readr) library(dplyr) # 设置文件夹路径 folder_path \u003c- \"F:/桌面/房地产PB/\" # 获取文件夹中的所有csv文件路径 csv_files \u003c- list.files(folder_path, pattern = \"\\\\.csv$\", full.names = TRUE) # 创建一个空的列表，用于存储读取的csv数据 data_list \u003c- list() # 循环读取每个csv文件，并将其存储在data_list中 for (file in csv_files) { data \u003c- read_csv(file) data_list[[file]] \u003c- data } # 将所有数据合并到一个数据框中 combined_data \u003c- bind_rows(data_list) # 查看合并后的数据 print(combined_data) 至少绝大部分期刊主体文件都是 do 文件。如果再论画图，stata 的schemepack包已经足够强大，可以调整成 R 语言的默认风格 ↩︎ 使用 Zotero 进行文献管理是我爱上开源理念的开始 ↩︎ 国内卖课确实天下第一 ↩︎ ","date":"2024-04-20","objectID":"/zh-cn/posts/r1/:5:1","tags":["R"],"title":"R 语言基础 1：界面介绍与语法结构","uri":"/zh-cn/posts/r1/"},{"categories":["阅读"],"content":" （本文系本报记者肖瑞、李利明 2003 年采访杨小凯时，根据其口述整理而成，并经其本人审校修改，编辑时有所删减。） 来源: 《经济观察报》 杨小凯是自学成才的天才，磨难之路让人唏嘘。最近我总抱怨环境不行，但是再次回顾杨小凯的成长之路后，个人羞愧万分。 学习理论，要进得去，走得出，能从知识跳出来分析现状，自顾自沉迷真空世界，无疑是失败的；积累应该是持之以恒；积极应用数学描述现实，进而理解背后的思想和培养直觉。 关于杨小凯理论的部分介绍，可以参见《发展经济学：边际分析与超边际分析 (导论)》 天行健，君子以自强不息！致敬！ 我原名杨曦光，杨小凯是我的乳名，1978年以后重新起用的名字，1948年出生于吉林，从小在湖南长沙长大。我的祖父是个地主，在乡下开办学堂。他受过严格的儒家教育，清末的兴洋学运动中，他也进过洋学堂。我们的父辈从小也受过儒学教育，记得我上小学时，父亲就请姑爹在家里教我读《论语》。 我的父母都是1938年参加革命的。我父亲原来是湖南省委的高级干部，他在1959年因支持彭德怀的观点，反对大跃进、公共食堂，就被打成右倾机会主义分子，那是1959年秋天的事情。当时我还很小，有天爸爸把我抱到窗边，亲切地对我说：“干部在上面机关里时间长了，对下面基层的情况不了解，所以要到下面去了解情况。”我看着窗外的一颗大枫树上的红叶，有点奇怪爸爸当时的态度为什么出人意外地温和。爸爸那些天情绪不好，常常和妈妈争论问题。三年后，我才知道爸爸1959年被打成右倾机会主义分子。爸爸告诉我1962年为他平了反，承认他们1959年的观点是正确的。 ","date":"2024-04-17","objectID":"/zh-cn/posts/yxk2/:0:0","tags":["阅读","转载"],"title":"转载：杨小凯《我的一生》","uri":"/zh-cn/posts/yxk2/"},{"categories":["阅读"],"content":"《中国向何处去？》 1966年爆发了文化大革命，由于我父母都比较同情刘少奇的观点和彭德怀的观点，又被打成反革命修正主义分子，在文革中我们就成了黑鬼的家庭，非常受歧视。当时我是长沙一中高一的学生，因为受歧视不能参加红卫兵，就参加了反对红卫兵的造反派。我参加的组织叫做“夺军权战斗队”，属于“省无联”组织。当时在学校里红卫兵和造反派的分歧就是红卫兵都是出身好的，造反派大多是出身不好的。所以在文革中我们就是支持造反派反对红卫兵，当时在高中的造反派主要反对的是“血统论”。在文革早期，群众可以自己组成组织，可以按自己的观点参加不同的组织。到了1967年，军方取缔群众组织，不准群众搞政治组织。1967年2月4日这一天，中央文革突然下令湖南省军区出动军队，镇压湖南的第一大造反组织“湘江风雷”，抓捕了上万人。这样造反派就和官方发生了冲突。当时我们的造反派组织“夺军权战斗队”也卷入了这场冲突，我被抓进了长沙市公安局看守所，关了两个多月。 那一次被释放出来以后，我陆陆续续写了很多大字报，包括《中国城市知识青年上山下乡的调查报告》、《枪杆子里面出政权》等等。1968年，我写了一篇大字报《中国向何处去？》，主张中国实行巴黎公社式的民主政体，这篇文章在当时产生了很大影响。当时湖南省革委会筹备小组的第二把手在看到了《中国向何处去？》以后，就连忙在当时的省级干部中打招呼，进行定性。很快，我的文章被报送到了中央文革。 1968年1月24日晚上九点，有些领导人在北京人民大会堂湖南厅接见湖南省革命委员会筹备小组成员与湖南省一些造反派组织代表，就宣布镇压湖南的一个名为“省无联”的造反组织问题，做了一些很严肃、语气很重的讲话与指示。在接见中，康生几次点到了“一中的杨曦光”与《中国向何处去？》一文，说那是“反革命的‘战马悲呜’”。康还断言说：“我有一个感觉，他（指我）的理论，绝不是中学生，甚至不是大学生写的，他的背后有反革命黑手！”江青说得更直接：“那个什么‘夺军权战斗队’，让它见鬼去吧！”几天以后我就被“钦点”抓进监狱，关在长沙市公安局左家塘看守所。 我在看守所被关押了一年多，到了1969年秋天，我在10月份从拘留转为正式逮捕。不久，在11月一个晴朗的冬日，我被以反革命罪判处有期徒刑十年，押送到岳阳洞庭湖边的建新劳改农场进行劳动改造，直到1978年初刑满释放。 ","date":"2024-04-17","objectID":"/zh-cn/posts/yxk2/:1:0","tags":["阅读","转载"],"title":"转载：杨小凯《我的一生》","uri":"/zh-cn/posts/yxk2/"},{"categories":["阅读"],"content":"十年铁窗 《中国向何处去？》这篇文章不光使我自己身陷囹圄，而且也给我的家庭带来巨大灾难。康生在1968年1月24日指示中说，省无联的《中国向何处去？》、《我们的纲领》、《关于当前形势的决议》不是中学生写得出来的，也不是大学生写得出来的，后面一定有黑手操纵，要揪出这些学生后面摇鹅毛扇子的陈老师。我母亲正好也姓陈，在康生那个指示传到长沙后，她被多次批斗，手被用墨汁涂黑并被强迫跪着示众。涂黑的手象征着“黑手”。她受尽侮辱后，不堪羞辱而悬梁自缢。我母亲被逼自杀后，我两个妹妹就没有了家，我父亲被关在“毛泽东思想学习班”，一个妹妹下放到湖南西部的山区，另一个妹妹跑到山西去投靠亲戚，哥哥也被开除公职赶到乡下去了。 在左家塘看守所关押的一年半时间里，我找了位教师学英文，找了位电机工程师学电机，找了位机械工程师学机械制图。我还读《世界通史》，马克思的《资本论》，和一本叫《毛泽东思想万岁》的书。我向同时被关押的一位陈老师借了《资本论》，这样我就在左家塘读完了厚厚的三卷《资本论》。《资本论》最初给我的印象相当好，学术味道浓得多。等我看完第一、二卷后，我却发现劳动价值论忽略了决定价值的另一个重要因素——使用价值。很多年后我才知道马克思称为使用价值的概念在当代经济学中叫做效用。但我相当喜欢马克思对亚当·斯密的分工论的发挥。看完《资本论》，我不知为什么心中期望未来的我成为一个经济学家。我有了三个念头，一个是把使用价值在价值论中的重要性搞清，第二个是把分工问题糅合到价值理论去，第三个是把价值理论数学化。后来我在劳改队沿着这个思路写了一本经济学笔记。好多年后我才发觉，这些思想早就在现代经济学中变成高明得多的理论了。把经济理论数学化的观点，我最早是在北京大学的一张大字报上看到的。那时另一张刺激我的大字报是关于中国已形成特权阶层，需要用马克思的经济分析方法重新分析中国社会。那个刺激是我后来写《中国向何处去？》的思想起点。 坐牢以后，我的政治哲学已经和写《中国向何处去？》时非常不同。写那篇文章时，我有对理想主义的追求，我认为民主政体应该是民选的，而坐牢的时候我已完全没有理想主义了。我相信人判断自己所追求的价值标准会随历史而变化，所以历史会怎么发展远比理想的目标更重要。以前我关心的问题是“什么是好的，什么是坏的，这个世界应该怎样”，在监狱里我问的却是：“这个世界会怎样发展”。最坏的事也许就发生在我们一生的时间内，因此关于好坏是非的主观判断没有任何意义，如何适应环境生存下去才是重要的事情。 在监狱里我学了一些数学，想着用数学来重新想价值理论，想着把当时能够看到的一些马克思的和古典的关于分工的思想数学化，然后慢慢就有了一些想法。由于当时自己也不相信官方的政治经济学，也没有西方的新古典经济学的训练，所以比较自由，在那种与世隔绝的状态中就有可能出现一些新思想。在劳改队，我自己推导出“戈森第二定律”（每一块钱的边际效用相等）、层级理论、纳什议价模型以及劳动分工理论，我以为这些都是自己的伟大发现，但当我能看到更多书时，才发现这些思想早就被西方经济学家发展成数学模型。不过，可庆幸的是，这些是自己想出来的东西，“英雄所见略同”，我也是英雄之一了！ 我这十年的经历都写在了牛津大学出版社1997年出版的《牛鬼蛇神录》一书中。 ","date":"2024-04-17","objectID":"/zh-cn/posts/yxk2/:2:0","tags":["阅读","转载"],"title":"转载：杨小凯《我的一生》","uri":"/zh-cn/posts/yxk2/"},{"categories":["阅读"],"content":"牛刀小试 1978年4月刑满释放以后，我回到了长沙，由于没有单位敢接收我这个《中国向何处去？》的作者，我就在父亲的家里待了一年，这一年在湖南大学数学系旁听了一年的数学课，这些旁听都是由湖南大学刚复职的一些右派教授安排的。这时候，我开始重用乳名杨小凯。后来，我就在邵阳的湖南新华印刷二厂做了半年的校对工人。 1979年我报考中国社会科学院经济所硕士生，但因为“反革命历史”，被拒绝参加考试。1980年我又再次报考，在当时的中国社会科学院副院长于光远的帮助下，终于获得参加数量经济学考试的机会，通过考试后被录取为实习研究员，开始在中国社会科学院数量经济和技术经济研究所工作了近两年。 从1979年到1982年，我很系统地学了新古典经济学，当时经常到一些大学去听课，到北京图书馆去借书，也参加过计量经济学的培训班，学一些系统论、信息论、控制理论、运筹学的东西，作一些计量经济学的研究，计算一些影子价格，翻译了一本经济控制论的教材，出版了《经济控制论初步》和《数理经济学基础》，大概是中级微观经济学的水平，当时还很新。后来我碰到很多人到国外去读书，都说当时他们在国内对西方经济学的主要了解就是看我的这两本书。 到了1982年，我被武汉大学聘为讲师，在武汉大学工作了一年半，教授数理经济学和经济控制论课程。这一段时间我又出版了《经济控制理论》和《数理经济学基础》，同时我开始准备出国留学。由于我的这几本书中的一些计量经济模型引起当时在武汉大学访问的普林斯顿大学教授邹至庄老师的注意，在邹教授的帮助下，1983年我被普林斯顿大学经济系录取为博士研究生。出国的时候，由于我还没有被平反，出国政审通不过，这个时候还是靠邹志庄教授的帮助，他写信给领导人，希望得到帮助。后来这封信被转到了武汉大学当时的校长刘道玉那里，请他办理。结果刘道玉校长批准了让我出国的手续。1983年我就到了普林斯顿大学。 同时，在有关领导“杨曦光的问题要由法院依法处理”的批示下，最高法院即责成湖南省高级法院重新审理我的“反革命”问题。到了1983年，湖南省高级法院审判委员会一致认为：《中国向何处去？》“属于思想认识问题，不具有反革命目的，不构成犯罪。椐此，原一审、二审定性判处不当，均应予以撤消，对杨曦光宣告无罪。” ","date":"2024-04-17","objectID":"/zh-cn/posts/yxk2/:3:0","tags":["阅读","转载"],"title":"转载：杨小凯《我的一生》","uri":"/zh-cn/posts/yxk2/"},{"categories":["阅读"],"content":"潜龙腾渊 我的劳动分工理论初步形成是在我坐监狱的时候，真正成熟还是在普林斯顿读博士学位的时候。读博士的时候，有两年的课程学习时间，这两年我就慢慢比较主流学派的思想和我的想法的差别。在北京的两年我基本上是把自己想的东西放在一边，去系统地学习新古典经济学。新古典经济学的很多东西都是那两年学的。到普林斯顿以后，学习的一些课程我原来在国内都教过，因此就把新古典的思想和我的思想去比较，看看到底有没有差别，看看我想过的那些东西哪些有价值、哪些没有价值，比如我原来在监狱里用数学自己推导出戈森第二定理，当时认为这是一个发现，一出监狱就发现在100年前人家就知道了。层级理论、纳什议价模型我都在监狱里想过，在我的《经济控制论初步》中都把这些理论写了进去。我发觉有很多问题我想的不如人家，比如后来我就发现纳什创建的议价模型比我想的好多了，我就放弃了。不过这对我也有一个鼓励：别人想过的很多东西我也想得出来，这就是所谓的英雄所见略同。 读的书多了就发觉要有所创新很难。人都是很类似的，你能想到的别人也能想到。我刚去美国就是这种感觉。我是一个新想法比较多的人，以后看的东西比较多了，发现很多所谓新想法其实几百年前就有人想过。慢慢看过他们的东西，自己的想法原来一点都不新。不过我的运气还好，读了很多书以后，最后比较下来发现我想过的有些东西还没有被别人想到，这就是劳动分工理论的均衡模型，后来这就变成了我的博士论文。 1987年我的论文通过答辩，之后我去了耶鲁大学经济增长中心做了一年的博士后。一年以后我到澳大利亚莫纳什大学经济系教书。1989年升任高级讲师，1992年成为正教授，1993年当选为澳洲社会科学院院士，2000年升任讲座教授。这些年来，虽然我一直在莫纳什大学教书，但是每年差不多有三分之一的时间在美国、香港、台湾作客座教授。从1998年开始回国的时间也比较多了，并担任北京大学和复旦大学的客座教授。 ","date":"2024-04-17","objectID":"/zh-cn/posts/yxk2/:4:0","tags":["阅读","转载"],"title":"转载：杨小凯《我的一生》","uri":"/zh-cn/posts/yxk2/"},{"categories":["经济学习"],"content":" 在《发展经济学：边际分析与超边际分析》中，杨小凯按照自己的理解重塑了发展经济学的理论历史。本文将概括其导论部分，并且补充一些个人觉得值得讨论的点。 ","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:0:0","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"一、思想来源：马克思 vs 亚当斯密 杨小凯定义的主流古典发展经济学核心是——分工是经济增长的源泉，而经济增长就是发展经济学的核心理念。 亚当斯密（Adam Smith）的相关逻辑链： $$ 运输条件\\Rightarrow市场大小\\Rightarrow分工\\Rightarrow 经济增长 $$ 以这条逻辑线为主轴，分工占据绝对核心——货币产生和专业化分工密不可分，投资是优化分工的工具。 威廉配第（William Petty）的相关逻辑链： $$ 交易成本降低\\Rightarrow促进分工交易成本降低\\Rightarrow促进分工 $$ 诺斯 (North) 和马克斯韦伯（Max Weber）等学者 将分工和资本主义扩张相联系，就成了杨小凯眼中的现代古典发展经济学： $$ 资本主义制度\\Rightarrow交易条件\\Rightarrow分工 $$ 马克思和亚当斯密的矛盾 在我接受的关于马克思资本论的课程中，老师认为马克思（Karl Marx）观点是分工决定市场，这和亚当斯密的观点完全相反。 例如按照马克思的观点，有产者和无产者就是一种分工，这种分工还带来了阶级性！基于劳动价值论，私有制不可取，这种分工归根结底来自财产占有。亚当斯密使用无形的手回避了“资本主义血腥原始积累”这个部分。 如果我们要反驳马克思的看法，就得论证分工确实带来了财富增长，杨小凯的超边际分析应该能回答这一点，这一矛盾在后文提及。 ","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:1:0","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"二、古典发展经济学 杨小凯主张从四个方面分析经济发展。这是古典发展经济学产生的时代背景——17-19 世纪英国的高速发展和 19 世纪欧洲自由改革。 地理政治格局 欧洲：支离破碎，贸易、防御成本低，自由城市发展先于民族国家。中国则相反。 意识形态、道德准则、法律规范 欧洲：财富追求使得商业合法（例如英国的光荣革命），工业革命商业积累雄厚。宗教改革使得教会竞争，较弱统一性。中国则不存在对民族国家的外来挑战。 工商业制度和实践 市场制度，专利法，财产法 分工与经济结构 国际贸易体系与殖民运动 生产力总和和经济福利 ","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:2:0","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"三、反驳凯恩斯主义 经济危机和一战二战导致政治权力过度集中。但是出现了经济危机就说明自由市场失败了吗？不是的，因为高度专业化的分工总是伴随着难以互相协调耦合的矛盾。 在杨小凯看来，经济危机是上高速路的车祸风险。如果选择加入政府，就像开高速因为撞了一次车就放弃高速，这是矫枉过正。 使用分工解释经济危机的数学方法：蛛网模型和分工视角下的一般均衡模型。 这也是林毅夫和张维迎产业政策之变的核心矛盾——政府干预会带来不良影响，因为干扰了正常的产业分工，那么比经济危机还严重。 不过请注意，这所有的逻辑都建立在分工决定经济增长这个大前提上。 后发劣势也是一样的，模仿只能优化短期分工，这不符合长期自然的市场趋势，自然会出问题。 苏联的计划经济让更多人崇尚了\"社会实验\"——尝试进行政府干预。但是苏联最后没有了，所以杨小凯认为苏联模式也证明了凯恩斯的错误。 在我个人看来，杨小凯的论证忽略了殖民运动的非正义性，也略过了一战二战的经济成因，或许就是过度放任自由市场导致的资源分配不均呢？或许市场带来了效率但忽视公平因此总会有革命呢？ 将自由纳入发展是发展经济学历史性的一刻。 探讨何为正义和公平也是发展经济学历史性的一刻。 哈耶克预言成功，但答案正确不等于过程正确。 ","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:3:0","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"四、何为超边际分析 边际分析考虑的是资源的分配，是给多少的问题的。 但是超边际分析是做选择题，是非此即彼的矛盾。 在生活中，人们通常会遇到很多在“是”与“否”之间的选择。 比如：你在高中毕业时要填报志愿选择大学的专业，如果在经济学、化学、物理学 3 个专业中选择了经济学专业，这就意味着你在大学期间不会去听化学和物理学的课，但你会去听微观经济学、宏观经济学、计量经济学及其他一些经济学的选修课程。 这意味着，在我们进行专业课程时间分配投入的边际分析前，我们会提前考虑选哪个专业——这个提前决定的过程就是探究国家市场分工情况的过程。这多出的一个选择专业的过程就是超边际。 从数学的角度，我们就是进行了两个步骤的最优化分析： 超边际分析部分：求出全局多个角点解，内点解，比较总成本收益，例如学经济、学管理、学物理哪个市场前景好？这时候我们不可能进行边际分析，只能比较总成本和总收益。 在确认选择一个专业后，我们再根据边际分析确定我们的学科学习时间分配，此时就是成绩和时间的边际分析了。 例如刘易斯拐点和政府公共选择理论，他们尚未被主流经济学数学化的原因就是因为存在利益冲突。政府不是谋求社会福利最大化而是各方利益的博弈，城乡二元对立也是分工带来的利益冲突问题。 最重要的是——无论是均衡和帕累托最优分析，还是马克思的经济学，都无法回答一个问题： 在生产函数和资源禀赋不变的情况下，为什么生产力能通过分工的改善提高？？？ 所以回到古典运筹和控制论吧，所以杨小凯也自己写了控制论初步。 很有年代感的书。杨小凯的书感觉挺有收藏价值，二手也好贵，我选择去图书馆借。如果谁家里有请好好保存，很保值的样子。\r","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:4:0","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"五、一般均衡与网络分析 杨小凯认为马歇尔的供求分析论局限为两个物品的关系，因此看起来很多东西是外生的。 外生和内生的区别 一般来说，作为固定参数使用，数值不变的就是外生变量，一般指的模型以外的变量。例如短期内，技术不变，制度不变，就可以理解为外生参数。 对应的，模型内的变量就是内生的。 长期来看万物皆可变，也就万物趋于内生化。 亚当斯密没有详细展开“无形的手”，这个过程和机器学习一样是黑箱子。从一般均衡的视角出发，由于大量的商品交换形成一个贸易圈，因此形成一个巨大的交易网络，很多物品交易互相影响，最终形成均衡，也就是一般这个概念的体现。所以杨小凯强调我们需要一种网络分析。杨小凯的模型通过网络分析把分工内生化，从而论证市场的自发发展。 ","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:5:0","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"国际贸易与经济学范式 这里额外谈谈经济学学科范式。很多人会抨击经济学是用数学包装的伪科学，这里主要想说的是这种范式形成的原因。 经济学想极力模仿的是物理学，也就是现象-数理模型-实验论证的过程。 但是由于社会科学不具备自然科学那样强而有力的实验论证，就用统计论证作为替代。 无论是杨小凯的新古典发展经济学，还是林毅夫的新结构经济学，都是从国际贸易推广而来的结论。同理，当理论遇上了无法解释的现象——在国际贸易领域就是里昂惕夫之谜（The Leontief Paradox），就得打补丁或者修正。很多人用人非理性来反驳经济学，但其实这方面的理论补丁非常多。 如果想要创立一个新框架，无疑也是要兼容回答以上流程图的现象。 比如后面， 克鲁格曼发现，即便没有比较优势，规模报酬递增也能使得贸易增加。 马克·梅利兹则以企业为单位解释国际贸易的产生，很多人认为该理论早晚会得到诺奖。 杨小凯在李嘉图贸易理论的基础上扩展了消费者-生产者的贸易模型。 每个人（不同于国家与企业）既是消费者又是生产者，这使得我们可以从个体角度理解国际贸易。 国内贸易是必须满足的，国际贸易由外生比较优势引起，并且交易成本会影响国内和国际贸易的个体选择。 将交易成本内生化、数理化。 ","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:5:1","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"六、古典发展理论继承者 1、科斯和布坎南：产权经济学、交易成本、制度经济学。诺斯新经济史。 例如外部性本质是产权问题而非公共物品的原因；委托代理也是分工利益冲突的超边际体现。 2、政策实践。认为政府干预对经济有害。 例如布坎南新政治经济学。 3、企业家和企业制度对经济发展的贡献 例如张维迎的企业家精神（认为企业家具有从无到有的能力，并以此反驳林毅夫的新结构经济学）。高宏罗默的经济增长模型。 高宏笔记正好更新到了罗默模型。 ","date":"2024-04-10","objectID":"/zh-cn/posts/yxk1/:6:0","tags":["宏观经济学","发展经济学"],"title":"发展经济学：边际分析与超边际分析 (导论)","uri":"/zh-cn/posts/yxk1/"},{"categories":["经济学习"],"content":"\r经济学装腔指南\r怎样才算是一种热爱呢？这个问题，我其实很早以前就尝试自我回答了， 参见： 《动机论：二次元的真物与伪物》 《经世济民or因为山在那》 《再见绘梨：追求奇幻的欺诈师》 反思一下我自己，何为经济学习热情，其实就是装逼，一般是先有成绩再有爱。 话虽如此，在潮水褪去后，一些海草不也留下了陆地上发芽的种子吗？这也是我所想的——假亦真时真亦假，真亦假时假亦真。 学科热情不需要纯粹的理由，纯洁的动机，坚持下来了就变成真的了。 认识的一同学之前觉得经济学不行，想转码，在取得成绩后开始盛赞经济学了。在看到这位同学向我抛出各种名词时，我简直就看到了当初的自己。 天啊，这简直就是我！（MyGo. jpg） 所以由此观之，我对经济学的热情起点应该是不纯粹的，就是享受思维上高人一等的感觉，但在深入学习后才发现自己的渺小和经济学的奇妙。 就我自己的学习心态来说，经历了以下路径： 而且就我互联网冲浪经历和跟身边同学的交流来说，大家几乎都是一样的鄙视链升级路径。 ","date":"2024-04-09","objectID":"/zh-cn/posts/fs/:0:0","tags":["反思"],"title":"反思：鄙视链中的经济学习心态","uri":"/zh-cn/posts/fs/"},{"categories":["经济学习"],"content":"理论框架上： 高中时期： 充满了对《资本论》的迷之想象。 选择专业： 个人的经济学启蒙书籍算是吴晓波的《历代经济变革得失》1。如今我不再赞同书中国民进退的循环论，但还是感谢这本书让我在大学就开始主动了解“李约瑟之谜”的相关理论。身边还有部分人则是混合了纯经济学、政治学、考公当官和华尔街的印象。 经济学学习： 开始接触主流经济学理论 先是两大互联网潮流立场——剑桥资本争论，哈耶克和凯恩斯天人交战（中国就是林毅夫和杨小凯）。 然后循序渐进思想史——希腊… 重农，重商… 古典，新古典，新古典综合… 理论认知逐渐细化：宏观微观叠加各自划分：劳经、产业、资源可持续、经济增长、历史量化… 然后越来越细，分对象，分方法，分领域。 加入现代补丁： 价值转型，博弈论、复杂经济学非均衡、行为经济学、交叉（演化经济、神经经济…） 此时不再执着大立场，而是关注理论范式和应用场景，同时更关注的是具体指导理论。 ","date":"2024-04-09","objectID":"/zh-cn/posts/fs/:0:1","tags":["反思"],"title":"反思：鄙视链中的经济学习心态","uri":"/zh-cn/posts/fs/"},{"categories":["经济学习"],"content":"论文方法上： 在没有自我认知的时候接触宏微结构式，此时对结构和简约之争不了解。 开始接触计量，接触因果关系，然后开始自称 reg monkey（实际情况是我连回归猿都没当明白）。 通过了解因果革命完成对结构范式（Structure form）和简约范式（reduce form）之争的了解。 到这时，我身边很多同学已经开始中英夹杂说话和打字了，但是个人十分讨厌这种混用，即便是默认专业名词，所以我选择中文加英文括号！ 当我刚开始了解计量和因果推断时，陷入的是统计学的神化。 完成 DID\\RDD\\PSM\\Bunching\\OLS… 祛魅后，是对机器学习和贝叶斯估计的神化。 R、python、Matlab、SAS 学不完啊… 当我意识到了结构式的存在后，就开始了对数学的神化。 DSGE，启动！人心不足蛇吞象——想掌握实分析、测度论、泛函了（ 然后就是学不完的数学，学不完的统计软件，看不完的经典书籍，和还没开始行动的我。 ","date":"2024-04-09","objectID":"/zh-cn/posts/fs/:0:2","tags":["反思"],"title":"反思：鄙视链中的经济学习心态","uri":"/zh-cn/posts/fs/"},{"categories":["经济学习"],"content":"论文认知上： 实证论文一开始让人不明觉厉，追求方法的花里胡哨。 对自己没有思想性感到悲哀，同时对到哪里找思想性感到迷茫。 论文选题无非方法，数据，问题驱动，大部分时候没有灵感都是数据变量的排列组合和历遍。 开始了解经济学必须读前沿英文文献，开始鼓吹中文期刊都是垃圾，只看英文 top 5。 这种论调在互联网被广泛赞同，但还是有点极端了吧。 开始明白故事包装的重要性，老是说论文是讲好一个故事。 是的，我们已经变成寓言故事家了2（张五常. jpg） ","date":"2024-04-09","objectID":"/zh-cn/posts/fs/:0:3","tags":["反思"],"title":"反思：鄙视链中的经济学习心态","uri":"/zh-cn/posts/fs/"},{"categories":["经济学习"],"content":"总结 回头来看都算是兴趣使然，但每一步进步确实都是站在鄙视上一步的基础上前进。我无法回答立场范式之争，因为过于庞大，我看不清。耳边只有经济学思想史老师的开课语——经济学就是一片混沌。 归根结底，我眼中最崇拜的经济学大佬思维是两个思维模式，一种是建立比较分析的社会学分析，熟悉各国历史，经济比较信手拈来，研究制度经济学的大神们，其直觉和知识储备让人直呼妖孽；另外一种是搞数学分析的，各种函数处理和均衡分析让人头皮发麻。 我不会反对鄙视链心态，因为我就是这样起来的，但最关键的是——顺着鄙视链成长很好，但我们不能一直如此。 最近逛图书馆，看到那些单色旧书上密密麻麻的借阅记录，还是感叹经典书看得少了。个人觉得自己面临的最大的幻觉是工具幻觉——以为学了点代码操作就心满意足了，经济学思维其实一点没增长。 感谢高中历史老师的馈赠 ↩︎ http://economics.efnchina.com/show-2204-65907-1.html ↩︎ ","date":"2024-04-09","objectID":"/zh-cn/posts/fs/:0:4","tags":["反思"],"title":"反思：鄙视链中的经济学习心态","uri":"/zh-cn/posts/fs/"},{"categories":["软件工具","经济学习"],"content":"今天这里记录的是用 Stata 画 Gis 着色图的过程。 本文列举所有数据可在仓库下载。 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:0:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"获取地图文件 ESRI Shapefile 文件是由美国环境系统研究所开发的空间地理数据。里面同时储存空间位置和特征数据。其基本文件主要为： 主文件 (. Shp)： 存储几何要素的的空间信息，也就是 XY 坐标。Gis 图片的地图轮廓信息就是这个文件储存的。 表文件 (. Dbf)： 存储地理数据的属性信息的 dBase 表。 索引文件 (. Shx)： 存储有关 .shp 存储的索引信息。它记录了在 .shp 中，空间数据是如何存储的，XY 坐标的输入点在哪里，有多少 XY 坐标对等信息。 这里介绍写我找到的一些数据源： 大饼的博客 全国地理信息资源目录服务系统 GADM data：国际地图很全。 github随手找到的中国地图数据 Rstata资料：中国地图省级分区。国内买课世界一流，个人觉得 stata 专题做得最好的是“连享会\"和\"Rstata\"。即便我是坚定的白嫖开源主义，也经常看他们的科普文章学习 stata。此处是有好心人上传了 Rstata 相关的数据库。 中科院地资所：或许是国内的半官方？ 中科院地资所\r如果还找不到自己想要的，可以使用阿里云地图来生成地图文件。 进入阿里云地图，点击文件下载（推荐其他下载，下载后得到 .json 文件）。 下载好后进入转化器转化。点击 Select，上传 .json 文件，然后点击 export 导出转化后的文件。 似乎是因为数据编码或者加密，有时候转阿里云地图化的文件无法被 stata 读取。 此时使用 spshape2dta 转化 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:1:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"StataGis 初步操作 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:2:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"下载相关命令 包含 主文件 (.shp) 和 表文件 (.dbf) 即可。 提前在 stata 下载相关命令。 ssc install shp2dta, replace //文件转化命令 ssc install mif2dta, replace //文件转化命令 ssc install spmap, replace //GIS画图命令 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:2:1","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"转译和编译乱码 使用 B 站一位用户用 GIS 画的文件：2019中国地图-审图号GS(2019)1822号 这里个人使用的举例数据是：北大数字普惠金融指数2011_2020 这里要转译的有两个文件，中国地图文件 市 和九段线文件 九段线 clear cd F:\\桌面\\GIS_sum\\2019中国地图审图号\\例子 //设置工作环境文件夹，因为gis一些命令参数使用相对路径更好用些 import excel \"F:\\桌面\\GIS_sum\\2019中国地图审图号\\例子\\北大数字普惠金融指数2011_2020.xlsx\", sheet(\"Sheet1\") firstrow keep if year == 2020 rename pref_name_year18 ct_name save d2020data ,replace //载入数据 spshape2dta 市 spshape2dta 九段线 //这里因为无法用shp2dta转化所以使用spshape2dta clear cd F:\\桌面\\GIS_sum\\2019中国地图审图号\\例子 unicode encoding set gb18030 unicode analyze 市.dta unicode translate 市.dta, invalid //部分中文乱码重新编译 //一次性命令，若要重新使用需要删掉目录生成的编码文件bak.stunicode 若文件无法被转化，例如阿里云的地图，似乎 gis 做的地图也无法被 shp2dta 转化。这里就是使用的 spshape2dta 转化。 两个命令除了这一点外区别不大。spshape2dta 命令缺点是不能自定义名字，后面直接跟文件名即可，会自动生成两个需要的文件。标签文件为 .dta, 轮廓文件为 _shp.dta ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:2:2","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"匹配数据和标签文件 use 市.dta rename __ ct_name save 市.dta ,replace use d2020data merge 1:1 ct_name using 市.dta drop _merge gen ID =_ID save city_data2020,replace ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:2:3","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"绘图命令 开始绘图，基本绘图命令如下 grmap digitization_level using 市_shp.dta , /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(-1 0 190 200 280 300 350) /// fcolor(gray \"224 242 241\" \"178 223 219\" \"128 203 196\" \"77 182 172\" \"38 166 154\") /// leg(order(2 \"无数据\" 3 \"0~190\" 4 \"190~200\" 5 \"200~280\" 6 \"280~300\" 7 \"300~350\")) /// graphr(margin(medium)) /// line(data(九段线_shp.dta)) /// ti(\"2020 年数字普惠金融指数\") /// subti(\"二级标题\") /// caption(\"数据来源：北大数字普惠金融指数\", size(*0.8)) 就画图命令而言，spmap和grmap似乎没有区别\r","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:2:4","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"参数解释 以下参数解释由 GPT 3.5 给出，个人进行简单补充。 grmap type：指定图形类型为地图。 using chinaprov40_coord.dta：指定地图数据文件，包含省级行政区划的坐标信息。 id(ID)：指定地图数据中的唯一标识符变量。通过标识对应地图坐标和标签和数据。 osize(vvthin ...) 和 ocolor(white ...)：设置地图边界线的粗细和颜色。 vvthin 是 Stata 中一种预定义的线条样式，它表示非常细的线条。在绘制地图时，可以使用不同的线条粗细来区分不同的地理要素或边界。 从细到粗排列为：vvthin、vthin、thin、medium、thick、vthick、vvthick。 clmethod(custom) 和 clbreaks(0 1 2 3 4 5)：自定义分类方法和分类间隔。这里对应的是省级分类，直辖市，省，特别行政区… fcolor(...)：指定不同分类的填充颜色。 例子中采用的是三元色定义表示，可以用 PPT 的颜色自定义查看颜色标识。 三元色定义\rleg(...)：设置图例的顺序和标签。 graphr(margin(medium))：设置图形的边距。 line(data(chinaprov40_line_coord.dta) by(group) ...)：绘制地图边界线，指定边界线数据文件和颜色等属性。这里用的是九段线文件。 polygon(data(polygon) fcolor(black) ...)：绘制地图多边形，指定填充颜色和线条粗细等属性。这里是图例和指南针。 label(data(chinaprov40_label) ...)：标注地图上的标签，指定标签数据文件和标签文本等属性。label(ename) 是英文，label(cnname) 是中文。 ti(\"一级标题: 2019 年中国省级行政区划\")：设置主标题。 subti(\"二级标题\")：设置副标题。 caption(\"使用 Stata 绘制中国省级地图\", size(*0.8))：设置图形的说明。 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:2:5","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"处理流程图 地图线条数据（非必要）：例如山川、河流、山脉、九段线、秦岭淮河、胡焕庸线的线条。 看起来很复杂？这里给出简单的步骤概括： 获得我们想要描述的数据，每个省数值是多少。 将描述数据和 _db.dta（索引文件，.dbf 文件转化而来）匹配到一起。 打开匹配完成的数据，额外载入地图轮廓数据（_coord.dta）（.shp 文件转化而来）。 选择：可以加入 label 文件（是否显示每个省份名称） ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:3:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"国内省级 来自 Rstata。可以从 github仓库下载学习材料——GIS 地图省级面板和相关数据。 文件简介 地图轮廓数据： chinaprov40_db.dta chinaprov40_coord.dta 线条数据：例如九段线，胡焕庸线等 chinaprov40_line_db.dta chinaprov40_line_coord.dta 标签位置数据 chinaprov40_label.dta 绘画指北针和比例尺 polygon.dta ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:4:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"正式绘图 cd /Users/ac/Documents/系列课程/使用Stata绘制中国省级地图（版本4）/ * 离散变量的绘制 use chinaprov40_db.dta, clear encode 类型, gen(type) codebook type *如果gramp命令没激活，输入grmap, activate命令即可 grmap type using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(0 1 2 3 4 5) /// fcolor(\"254 212 57\" \"253 116 70\" \"138 145 151\" \"213 228 162\" \"210 175 129\") /// leg(order(2 \"不统计\" 3 \"特别行政区\" 4 \"直辖市\" 5 \"省\" 6 \"自治区\" 11 \"秦岭-淮河线\" 14 \"胡焕庸线\")) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord.dta) by(group) size(vvthin *1 *0.5 *1.2 *0.5 *0.5 *1.2) pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 \"0 85 170\" /// 海岸线颜色 \"24 188 156\" /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 \"227 26 28\" /// 胡焕庸线颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// ti(\"一级标题: 2019 年中国省级行政区划\") /// subti(\"二级标题\") /// caption(\"使用 Stata 绘制中国省级地图\", size(*0.8)) gr export pic1.png, replace width(1200) * 英文版本 grmap type using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(0 1 2 3 4 5) /// fcolor(\"254 212 57\" \"253 116 70\" \"138 145 151\" \"213 228 162\" \"210 175 129\") /// leg(order(2 \"Not within the scope of statistics\" 3 \"Special administrative region\" 4 \"Municipality directly under\" \"the Central Government\" 5 \"Province\" 6 \"Autonomous Region\" 11 \"Qinling Huaihe River Line\" 14 \"Hu Huanyong line\")) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord.dta) by(group) size(vvthin *1 *0.5 *1.2 *0.5 *0.5 *1.2) pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 \"0 85 170\" /// 海岸线颜色 \"24 188 156\" /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 \"227 26 28\" /// 胡焕庸线颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(ename) length(20) size(*0.6)) /// ti(\"title1: China’s provincial administrative divisions in 2019\") /// subti(\"title2\") /// caption(\"Use Stata to draw provincial maps of China\", size(*0.8)) gr export pic2.png, replace width(1200) 使用 Stata 绘制 2019 年中国省级行政区划\r","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:4:1","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"其他例子 * 绘图示例： * 1. 2020 年中国各省市地区生产总值 import delimited using \"2020年中国各省市地区生产总值.csv\", clear encoding(utf8) gen prov = substr(省份, 1, 6) save 2020年中国各省市地区生产总值, replace use chinaprov40_db.dta, clear gen prov = substr(省, 1, 6) merge 1:1 prov using 2020年中国各省市地区生产总值 replace 地区生产总值 = -1 if missing(地区生产总值) grmap 地区生产总值 using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(-1 0 20000 40000 60000 80000 120000) /// fcolor(gray \"224 242 241\" \"178 223 219\" \"128 203 196\" \"77 182 172\" \"38 166 154\") /// leg(order(2 \"无数据\" 3 \"\u003c 2 万亿元\" 4 \"2～4 万亿元\" 5 \"4～6 万亿元\" 6 \"6～8 万亿元\" 7 \"\u003e 8 万亿元\")) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord.dta) /// /// 去除秦岭淮河线(4)、胡焕庸线(7) select(keep if inlist(group, 1, 2, 3, 5, 6)) /// by(group) size(vvthin *1 *0.5 *0.5 *0.5) /// pattern(solid ...) /// 实线 color(white /// 省界颜色 black /// 国界线颜色 \"0 85 170\" /// 海岸线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// ti(\"2020 年中国各省市地区生产总值\") /// subti(\"二级标题\") /// caption(\"数据来源：各地统计局\", size(*0.8)) gr export pic3.png, replace width(1200) * 2013 年中国工企业分布及距离秦岭淮河的距离 * 转换坐标系 * 转换方式一：https://czxb.shinyapps.io/crs-trans/ * 注意事项，上传的 csv 文件应该包含数值型的 lon 和 lat 变量，观测值上限大概是 10 万个，不可多人同时使用。 use gq2013sample, clear keep 经度 纬度 ren 经度 lon ren 纬度 lat export delimited using \"待转换.csv\", replace * 转换方式二：使用附件中的 R 脚本转换 * 处理转换后的数据 import delimited using \"转换后的数据.csv\", clear gen id = _n save 转换后的数据, replace use gq2013sample, clear gen id = _n merge 1:1 id using 转换后的数据 drop _m id *度 encode 北方或南方, gen(north) save pointdata, replace use chinaprov40_db.dta, clear spmap using chinaprov40_coord.dta, id(ID) /// ocolor(\"black\" ...) osize(vvthin ...) /// line(data(chinaprov40_line_coord.dta) /// /// 胡焕庸线（7） select(keep if inlist(group, 1, 2, 3, 4, 5, 6)) /// by(group) size(vvthin *1 *0.5 *1.5 *0.5 *0.5) /// pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 \"0 85 170\" /// 海岸线颜色 \"0 85 170\" /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// point(data(pointdata) by(north) /// fcolor(\"227 26 28%30\" \"24 188 156%30\") /// x(x) y(y) /// proportional(与秦岭淮河线的距离) /// size(*0.1) legenda(on)) /// leg(order(7 \"秦岭-淮河线\" 10 \"北方工企业\" 11 \"南方工企业\")) /// ti(\"2013 年中国工业企业与秦岭-淮河线的距离\", color(black)) /// subti(\"二级标题\") /// graphr(margin(medium)) /// caption(\"数据来源：2013 年中国工业企业数据库，使用高德地图地理编码接口解析经纬度\", size(*0.8)) gr export pic4.png, replace width(1200) * 2019 年中国各省地区生产总值 \u0026 产业结构 use 各省历年GDP, clear drop if 省份 == \"中国\" replace 地区生产总值_亿元 = 地区生产总值_亿元 / 1000 merge m:m 省代码 using chinaprov40_db.dta replace 地区生产总值_亿元 = -1 if missing(年份) grmap 地区生产总值_亿元 if 年份 == 2019 | missing(年份) /// using chinaprov40_coord.dta, id(ID) /// clmethod(custom) clbreaks(-1 0 40 60 80 100 120) /// fcolor(\"gray\" \"237 248 233\" \"199 233 192\" \"161 217 155\" \"116 196 118\" \"49 163 84\") /// ocolor(\"gray\" ...) /// ti(\"2019 年中国各省地区生产总值 \u0026 产业结构\", size(*1.1)) /// subtitle(\"数据来源：CSMAR经济金融数据库\") /// graphr(margin(medium)) /// osize(vvthin ...) /// legend(size(*1.1) /// order(2 \"无数据\" 3 \"\u003c 40千亿\" /// 4 \"40～60千亿\" 5 \"60～80千亿\" /// 6 \"80～100千亿\" 7 \"\u003e 100千亿\" /// 14 \"第一产业\" 15 \"第二产业\" 16 \"第三产业\")) /// caption(\"二级标题\", size(*0.8)) /// line(data(chinaprov40_line_coord.dta) /// /// 去除秦岭淮河线(4) 胡焕庸线（7） select(keep if inlist(group, 1, 2, 3, 5, 6)) /// by(group) size(vvthin *1 *0.5 *0.5 *0.5) /// pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 \"0 85 170\" /// 海岸线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// diagram(data(piedata) x(X) y(Y) v(第一产业占GDP比重_百分比 第二产业占GDP比重_百分比 第三产业占GDP比重_百分比) /// type(pie) legenda(on) os(vvthin) /// size(1.5) fc(\"102 194 165\" \"252 141 98\" \"229 196 148\") /// oc(\"102 194 165\" \"252 141 98\" \"2","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:4:2","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"调节指南针和图例 通过识别相应数据的标识，更改坐标数实现更改效果。 * 移动指北针的位置到右上方 use chinaprov40_line_db.dta, clear * 指北针对应的 ID 是 40 和 41 use chinaprov40_line_coord.dta, clear replace _X = _X + 3000000 if inlist(_ID, 40, 41) replace _Y = _Y + 4000000 if inlist(_ID, 40, 41) save chinaprov40_line_coord2.dta, replace use polygon, clear replace _X = _X + 3000000 if _ID == 38 replace _Y = _Y + 4000000 if _ID == 38 save polygon2, replace use chinaprov40_label, clear replace X = X + 3000000 if cname == \"N\" replace Y = Y + 4000000 if cname == \"N\" save chinaprov40_label2, replace use chinaprov40_db.dta, clear encode 类型, gen(type) grmap type using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(0 1 2 3 4 5) /// fcolor(\"254 212 57\" \"253 116 70\" \"138 145 151\" \"213 228 162\" \"210 175 129\") /// leg(order(2 \"不统计\" 3 \"特别行政区\" 4 \"直辖市\" 5 \"省\" 6 \"自治区\" 11 \"秦岭-淮河线\" 14 \"胡焕庸线\")) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord2.dta) by(group) size(vvthin *1 *0.5 *1.2 *0.5 *0.5 *1.2) pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 \"0 85 170\" /// 海岸线颜色 \"24 188 156\" /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 \"227 26 28\" /// 胡焕庸线颜色 )) /// polygon(data(polygon2) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label2) x(X) y(Y) label(cname) length(20) size(*0.8)) /// ti(\"使用 Stata 绘制 2019 年中国省级行政区划\") /// subti(\"二级标题\") /// caption(\"版本：使用 Stata 绘制中国省级地图数据包 4.0\", size(*0.8)) gr export pic8.png, replace width(1200) * 调节比例尺的位置（微微上移） use chinaprov40_line_db.dta, clear * 比例尺对应的 ID 是 42 和 43 use chinaprov40_line_coord2.dta, clear replace _Y = _Y + 200000 if inlist(_ID, 42, 43) save chinaprov40_line_coord3.dta, replace use polygon2, clear replace _Y = _Y + 200000 if _ID == 39 save polygon3, replace use chinaprov40_label2, clear replace Y = Y + 200000 if cname == \"1000km\" save chinaprov40_label3, replace use chinaprov40_db.dta, clear encode 类型, gen(type) grmap type using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(0 1 2 3 4 5) /// fcolor(\"254 212 57\" \"253 116 70\" \"138 145 151\" \"213 228 162\" \"210 175 129\") /// leg(order(2 \"不统计\" 3 \"特别行政区\" 4 \"直辖市\" 5 \"省\" 6 \"自治区\" 11 \"秦岭-淮河线\" 14 \"胡焕庸线\")) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord3.dta) by(group) size(vvthin *1 *0.5 *1.2 *0.5 *0.5 *1.2) pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 \"0 85 170\" /// 海岸线颜色 \"24 188 156\" /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 \"227 26 28\" /// 胡焕庸线颜色 )) /// polygon(data(polygon3) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label3) x(X) y(Y) label(cname) length(20) size(*0.8)) /// ti(\"使用 Stata 绘制 2019 年中国省级行政区划\") /// subti(\"二级标题\") /// caption(\"版本：使用 Stata 绘制中国省级地图数据包 4.0\", size(*0.8)) gr export pic9.png, replace width(1200) ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:4:3","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"国内市级 参考 Stata学习：如何绘制省级市级填色地图十段线版？ Using machine learning to model technological heterogeneity in carbon emission efficiency evaluation: The case of China’s cities 扒了下论文数据源 不过我使用时，地图命令使用的是 grmap，换成我的数据后莫名报错 r(198),option t() required ，按理说是缺少逗号或者括号，但是检查了下没问题，换成 spmap 就行了，两者语法没有区别，可以直接更换。 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:5:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"国内县级 同上，略 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:6:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"Geoplot 命令 和 spmap 和 grmap 相比命令更加简洁，定义功能更多，Ben Jann (University of Bern) 数据源 推荐教程 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:7:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"下载相关命令 clear ssc install geoplot, replace ssc install palettes, replace ssc install colrspace, replace ssc install moremata, replace ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:7:1","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"载入数据 cd F:\\桌面\\GIS_sum\\geoplot local url http://fmwww.bc.edu/repec/bocode/i/ geoframe create regions `url'Italy-RegionsData.dta, id(id) coord(xcoord ycoord) /// shpfile(Italy-RegionsCoordinates.dta) geoframe create country `url'Italy-OutlineCoordinates.dta geoframe create capitals `url'Italy-Capitals.dta, coord(xcoord ycoord) geoframe create lakes `url'Italy-Lakes.dta, feature(water) geoframe create rivers `url'Italy-Rivers.dta, feature(water) 含义解释： Geoframe create 调用名字地图标签文件和, id (独特标识) coord (经度纬度) /// Shpfile (地图轮廓文件) 每一个宏定义代表一个图层。 通过这种宏定义，下次只用调用名字就可以画图，省时省力。 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:7:2","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"画图 基本命令 命令优势在于使用简单的括号就满足了图层叠加 geoplot (area regions fortell, label(\"@lb-@ub (N=@n)\")) (line regions) area 表示这里是画区域图，使用 regions 宏名字的地图轮廓，绘图变量是 fortell label：在地图中，这些变量将被替换为实际的数值。例如，如果某个区域的下限值为 20，上限值为 50，并且该区域包含 100 个单元格，则最终的标签将显示为 \"20-50 (N=100)\"。 @lb：代表每个区域的下限值。 @ub：代表每个区域的上限值。 @n：代表每个区域的数量。 line 表示线图调用 regions 的线图 气泡图 geoplot /// (area regions) /// (point capitals i.size [w=pop98], color(Set1, opacity(50)) mlcolor(%0)) /// (label capitals city if pop98\u003e250000, color(black)) /// , legend compass sbar(length(300) units(km)) 气泡图\r(area regions)：绘制地图区域，表示地理区域的边界或范围。 (point capitals i.size [w=pop98], color(Set1, opacity(50)) mlcolor(%0))：绘制城市的散点图，其中城市的大小由 i.size 决定，颜色使用 Set1 调色板，不透明度设置为 50%，并且城市标签的颜色为 %0，即黑色。城市的大小基于 pop98 变量，表示城市的人口数量。 (label capitals city if pop98\u003e250000, color(black))：标记城市的名称，但只针对人口数量超过 250,000 的城市进行标记，标签颜色为黑色。 , legend compass sbar(length(300) units(km))：添加图例、指南针和比例尺。比例尺的长度设置为 300 单位，单位为公里。 局部放大图 geoplot (area regions) /// (area regions if id==1, fc(Coral*.5) lc(gray)) /// (label regions region if id==1, color(black)) /// (area regions if id==1, fc(Coral) lc(gray) /* */ box(circle pad(5) fc(gs14))) /// (pie regions relig1 relig2 relig3 if id==1, lab(, reverse)) /// , legend(pos(se) rowgap(1)) zoom(4/5: 6 90 210) (area regions)：绘制地图区域，表示地理区域的边界或范围。 (area regions if id==1, fc(Coral*.5) lc(gray))：根据条件 id==1 绘制特定区域的地图区域，填充颜色为 Coral*.5，边界线颜色为灰色。 (label regions region if id==1, color(black))：标记特定区域的名称，但只对 id==1 的区域进行标记，标签颜色为黑色。 (area regions if id==1, fc(Coral) lc(gray) /* ... */ box(circle pad(5) fc(gs14)))：根据条件 id==1 绘制特定区域的地图区域，并在周围添加一个填充色为 Coral 的框，边界线颜色为灰色。 (pie regions relig1 relig2 relig3 if id==1, lab(, reverse))：在特定区域绘制饼图，但只对 id==1 的区域进行绘制。饼图中包含 relig1、relig2 和 relig3 变量的数据，标签反向显示。 , legend(pos(se) rowgap(1))：设置图例位置为东南方向，行间距为 1。 zoom(4/5: 6 90 210)：设置地图的放大比例为 4/5，并指定地图显示的范围。 局部放大和饼图\r","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:7:3","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["软件工具","经济学习"],"content":"地图使用规范 自然资源部关于印发《公开地图内容表示规范》的通知 规范使用地图 一点都不能错 省流：使用单个省份地图，街道乡镇地图还行，使用我国整体的地图是比较麻烦的。 在使用我国整体地图时，比例画幅要求严格。 轮廓线，有些国界暂时未定或者每年有细微变动。 领土问题：香港、澳门、台湾、海南诸岛、钓鱼岛等等… 九段线最不能缺！ 不能出现军工等机密数据的标注。 图例问题和指北针最好加上且和官方保持一致。 针对期刊，最好参考：科技期刊地图插图的规范绘制和常见问题 最官方的地图详见：标准地图服务。自己画好地图后也可以在这里拿去送审。 官方是不提供 shap 文件的，只提供 eps 和 jpg 文件。 市面上流行的 shap 官方文件都是个人制作，需要仔细辨别。 ","date":"2024-03-22","objectID":"/zh-cn/posts/statagis/:8:0","tags":["Stata","Gis"],"title":"Stata 绘制 Gis 着色图","uri":"/zh-cn/posts/statagis/"},{"categories":["HUGO 搭建记录"],"content":"问题 1 环境：hugo 扩展版+loveit 系列主题 Hugo 会为每个博客文章生成目录，并且目录标题应该能实现点击跳转。几天前我发现我的博客，中文页面不能实现标题跳转，英文依旧可以。 hugo目录生成\r","date":"2024-03-21","objectID":"/zh-cn/posts/toc/:1:0","tags":["Hugo"],"title":"中文博客目录跳转失败","uri":"/zh-cn/posts/toc/"},{"categories":["HUGO 搭建记录"],"content":"原因 在询问 doit主题维护者后我得到了错误原因： 我在页面里添加了 BGM（如下）——这个功能使用了 APIayer，同时 APIayer 又调用了 smoothScroll。 smoothScroll 默认设置是英文参数，当引入 APIayer 播放音乐后，目录跳转返回值就变成了空值。 if (location.hash !== this.hash) window.history.pushState(null, null, this.hash) // using the history api to solve issue #1 - back doesn't work // most browser don't update :target when the history api is used: // THIS IS A BUG FROM THE BROWSERS. // change the scrolling duration in this call var node = document.getElementById(this.hash.substring(1)) if (!node) return; // Do not scroll to non-existing node ","date":"2024-03-21","objectID":"/zh-cn/posts/toc/:2:0","tags":["Hugo"],"title":"中文博客目录跳转失败","uri":"/zh-cn/posts/toc/"},{"categories":["HUGO 搭建记录"],"content":"解决方法 最后是在博客文章使用 Aplayer 导致博客目录跳转失效中找到了解决方法。 修改 \u003c个人网站\u003e\\assets\\lib\\aplayer 目录下的 APlayer.min.js。 博主鱼の乐给出了他修改好的 APlayer.min.js。 如果博主域名没用续费可以参考我复制下的文件： APlayer.min.js 全文替换即可。 这些问题都是 2018 年就暴露的问题，看来以后也不会有维护了，建议自己修改。 ","date":"2024-03-21","objectID":"/zh-cn/posts/toc/:3:0","tags":["Hugo"],"title":"中文博客目录跳转失败","uri":"/zh-cn/posts/toc/"},{"categories":["HUGO 搭建记录"],"content":"问题 2 当我添加 giscus 评论区后，这个问题又出现了？前面的解决办法也失效了。 这里超级感谢 @yllhwa 的帮助😍👍。 将 themes\\LoveIt\\assets\\data\\cdn\\jsdelivr.yml 复制到 \u003c自己网站\u003e\\assets\\data\\cdn\\jsdelivr.yml。 然后注释掉 aplayerJS: aplayer@1.10.1/dist/APlayer.min.js。 看来最后还是出现在调用问题上\r","date":"2024-03-21","objectID":"/zh-cn/posts/toc/:4:0","tags":["Hugo"],"title":"中文博客目录跳转失败","uri":"/zh-cn/posts/toc/"},{"categories":["经济学习","软件工具"],"content":"写经济实证论文时，经常输出大量的表格（主要是描述性统计和回归结果）。掌握了表格输出瞬发技巧，就像使用魔法不需要吟唱！ 当你和别人讨论便变量选择时，直接秒回，就是这种感觉！\r目前 stata 相应的命令五花八门—— asdoc、outreg2、logout、estout。这里简单概括下各个命令常用在哪，又有何特点。 ","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:0","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":"Estout: 全能，latex 输出 estout 由瑞士伯尔尼大学社会学研究所（University of Bern, Institute of Sociology）的 Ben Jann 教授编写。（coefplot命令也是大佬开发的）。 自定义效果好，是输出结果的主流命令。最强大之处是支持 latex导出。 ","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:1","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":"Asdoc：描述统计 在自己的操作中加入 asdoc 即可保存相应文件。 坏处是回归表格自定义效果差，且不符合一般期刊要求。大家默认只用来展现描述性统计。 tabout 支持强大的描述性统计自定义表格，新版安装详见：https://tabout.net.au/docs/home.php1 ssc install asdoc, replace //下载命令 sysuse \"auto.dta\", clear //使用stata自带的样本数据 asdoc sum price mpg rep78 trunk weight , dec(4) save(表1描述性统计1.doc) title(\"表1描述性统计1\") asdoc reg price mpg rep78 trunk weight, robust , save(表2基本回归.doc) title(\"表2基本回归\") asdoc描述性统计\rasdoc回归统计\r","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:2","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":" Sum2doc：描述统计 local varlist \"wage age race married grade collgrad south union occupation\" sum2docx `varlist' using Myfile.docx,replace /// stats(N mean(%9.2f) sd(%9.3f) min(%9.2f) median(%9.2f) max(%9.2f)) /// title(sum2docx_Table: Descriptive statistics) ","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:3","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":"Logout：均值差异、相关系数检验 logout 好处是在描述统计、回归结果之外，还能输出均值差异检验、相关系数检验2。 ssc install logout //下载命令 ************描述性统计***************** sysuse \"auto.dta\", clear //使用stata自带的样本数据 *输出至word(rtf格式) logout ,save(文件名) word replace: /// tabstat price wei len mpg rep78, /// stats(mean sd min p50 max) c(s) f(%6.2f) *输出至excel(xml格式) logout ,save(文件名) excel replace: /// tabstat price wei len mpg rep78, /// ************均值差异检验***************** ssc install ttable2 //均值t检验由中南财经政法大学的李春涛教授和张璇老师完成 logout, save(文件名) word excel replace: /// ttable2 price mpg trunk trunk weight length turn headroom, /// by( foreign ) f(%12.3f) ************相关系数检验***************** logout,save(相关系数文件名) word excel replace: /// pwcorr_a rep78 headroom trunk weight length , /// star1(0.01) star5(0.05) star10(0.1) //加入*标注 logout相关系数输出\r","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:4","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":"Outreg 2: 回归输出 表格输出，我选 outreg2! 表格美观，支持 word，导出便利。 ssc hot, n(10) 命令会展现 stata 热度前 10 的命令。outreg 排名第一！ stata外部命令排行榜\rssc install outreg2 //下载命令 webuse grunfeld,clear //使用默认数据 xtset company year //定义面板数据 ************描述性统计***************** outreg2 using 文件名.doc, replace sum(log) keep(company year invest mvalue kstock time) eqkeep(N min mix) title(Decriptive statistics) ************回归结果输出***************** //分别使用随机效应、固定效应、混合效应回归然后合并 //开始新表格还是合并上去对应的是replace和append xtreg invest mvalue kstock ,re outreg2 using 文件名.doc,replace tstat bdec(4) tdec(4) rdec(4) ctitle(RE) keep( mvalue kstock ) e(r2_a,F) addstat(F test,e(p)) addtext(Company FE, NO,Year FE, NO) xtreg invest mvalue kstock i.year ,fe outreg2 using 文件名.doc,append tstat bdec(4) tdec(4) rdec(4) ctitle(FE) keep( mvalue kstock) e(r2_a,F) addstat(F test,e(p)) addtext(Company FE, YES,Year FE, YES) reg invest mvalue outreg2 using 文件名.doc,append tstat bdec(4) tdec(4) rdec(4) ctitle(OLS) keep( mvalue ) e(r2_a,F) addstat(F test,e(p)) addtext(Company FE, YES,Year NO, NO) //bdec(4) tdec(4) rdec(4)分别代表着系数、t检验、r^2的小数位 //addstat和addtext对应的添加统计量和表格内容 //keep(var1 var2 var3)选择自己要保留的输出系数 outreg2回归输出\r","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:5","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":"Putdocx 系列：万法归一 docx 系列命令来自爬虫俱乐部开发。以上大部分命令（asdoc 不是）都意味着一个输出表格要单独占用一个 word 文件。docx 改进后就可以重复使用一个文件。 ssc install sum2docx, replace ssc install corr2docx, replace ssc install t2docx, replace ssc install reg2docx, replace 以下示例代码来自“君生我未生！Stata结果输出：论文四表一键出-reg2docx-corr2docx”。 clear all set more off putdocx begin //新建 Word 文档 putdocx paragraph, halign(center) //段落居中 *-定义字体、大小等基本设置 putdocx text (\"附：文中待插入表格\"), /// font(\"华为楷体\",16,black) bold linebreak *-保存名为 My_Table.docx 的 Word 文档 putdocx save \"My_Table.docx\", replace *-调入数据 sysuse \"auto.dta\", clear *-----Table 1----- sum2docx price-length using \"My_Table.docx\", append /// obs mean(%9.2f) sd min(%9.0g) median(%9.0g) max(%9.0g) /// title(\"表 1: 描述性统计\") *-Note: 选项 append 的作用是将这张新表追加到 \"My_Table.docx\" 尾部, 下同. *-----Table 2----- putdocx begin putdocx pagebreak putdocx save \"My_Table.docx\", append corr2docx price-length using \"My_Table.docx\", append /// star(* 0.05) fmt(%4.2f) /// title(\"表 2：相关系数矩阵\") *-----Table 3----- putdocx begin putdocx pagebreak putdocx save \"My_Table.docx\", append t2docx price-length using \"My_Table.docx\", append /// by(foreign) title(\"表 3：组间均值差异 t 检验\") *-----Table 4----- putdocx begin putdocx pagebreak putdocx save \"My_Table.docx\", append reg price mpg weight length est store m1 reg price mpg weight length foreign est store m2 probit foreign price weight length est store m3 reg2docx m1 m2 m3 using \"My_Table.docx\", append /// r2(%9.3f) ar2(%9.2f) b(%9.3f) t(%7.2f) /// title(\"表4: 回归结果\") shellout \"My_Table.docx\" //大功告成！打开生成的 Word 文档 ","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:6","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":"Etable: 支持中文 Stata 17 自带的输出命令, 虽然用起来不怎么便利，但它似乎是唯一一个3支持中文编码的命令。 clear input str6 性别 收入 消费 其他 \"男\" 8 1 90 \"女\" 9 2 21 \"女\" 10 3 22 \"男\" 11 4 31 \"男\" 1 6 49 \"女\" 2 7 95 \"女\" 3 8 86 \"男\" 4 9 17 end reg 消费 收入 其他 if 性别 == \"男\", robust est store 男性回归 reg 消费 收入 其他 if 性别 == \"女\", robust est store 女性回归 reg 消费 收入 其他 ,robust est store 全部回归 etable, estimates(男性回归 女性回归 全部回归) column(estimates) keep( 收入 其他 ) /// cstat(_r_b, nformat(%9.3f) ) /// cstat(_r_se, nformat(%9.3f) ) /// mstat(N, nformat(%9.0f)) /// mstat(r2,nformat(%9.3g)) /// stars(0.10 \"*\" .05 \"**\" .01 \"***\", attach(_r_b)) /// showstars showstarsnote /// title(\"表1 etable回归结果\") /// note(\"数据来源：自设\") /// export(\"文件名称.docx\") etable回归命令\r","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:7","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["经济学习","软件工具"],"content":"本文插图的代码 来自爬虫俱乐部公众号 clear set obs 12 gen x = _n gen y = x + uniform() gen emoji = ustrunescape(\"\\U0001f400\") if x == 1 replace emoji = ustrunescape(\"\\U0001f430\") if x == 2 replace emoji = ustrunescape(\"\\U0001f439\") if x == 3 replace emoji = ustrunescape(\"\\U0001f411\") if x == 4 replace emoji = ustrunescape(\"\\U0001f410\") if x == 5 replace emoji = ustrunescape(\"\\U0001f404\") if x == 6 replace emoji = ustrunescape(\"\\U0001f408\") if x == 7 replace emoji = ustrunescape(\"\\U0001f412\") if x == 8 replace emoji = ustrunescape(\"\\U0001f434\") if x == 9 replace emoji = ustrunescape(\"\\U0001f437\") if x == 10 replace emoji = ustrunescape(\"\\U0001f418\") if x == 11 replace emoji = ustrunescape(\"\\U0001f43a\") if x == 12 scatter y x,msymbol(none) mlabel(emoji) mlabposition(0) mlabsize(huge) graph export animals.svg, replace shellout animals.svg 久闻大名，但没用过，我也不了解相关命令 ↩︎ 相关系数似乎只有 logout 能做到输出 ↩︎ 之前的所有命令在加载中文变量名称时都会出现乱码 ↩︎ ","date":"2024-03-13","objectID":"/zh-cn/posts/regout/:0:8","tags":["Stata"],"title":"Stata 输出 Word 表格","uri":"/zh-cn/posts/regout/"},{"categories":["软件工具"],"content":"今天运行 anaconda 突然无法打开启动界面，但可以直接打开并运行 jupyter 和 notebook。报错情况如下图所示。 看这个的话，我也看不太明白\r网上常用解决方法都没起效，但这里还是列举一下 升级安装包， conda update navigator conda update anaconda-navigator conda update conda conda update --all 删除文件 删除 .condarc 文件（一般在 C 盘、用户、当前用户中）。 网络上没有和我相同的情况，最后我是打开anaconda powershell prompt 看到了具体问题，是路径识别出现问题。 看这个的话，我也看不太明白\r原因是 Windows 环境变量冲突：我的用户变量 path 和环境变量 path 设置冲突，不一致。导致在用户变量的 anaconda 被识别到了系统变量的 Java 环境。 解决方法：统一用户变量和系统变量、或者删除java路径\r解决方法：统一用户变量和系统变量、或者删除 java 路径。这里个人是因为无效的 path 路径挡路了。个人删除了 Java 的错误路径：%Java\\_Home%\\bin;%Java\\_Home%\\jre\\bin。之后检验 Java 环境没受到影响，anaconda 环境也恢复了。 ","date":"2024-03-10","objectID":"/zh-cn/posts/anaconda/:0:0","tags":["Anaconda"],"title":"[anaconda 报错解决]anaconda bytes object has no attribute get","uri":"/zh-cn/posts/anaconda/"},{"categories":["游记"],"content":" 时间：2024 年 3 月。11 点下武汉飞机，17 点 10 分下一班转机，拥有 6 小时 50 分钟转机时间。 武汉是从南到北的重要机场中转站之一，很多航班都在武汉有长时间中转。武汉黄鹤楼闻名天下且和机场地铁直通，在停靠时不妨速通一次黄鹤楼。 ","date":"2024-03-10","objectID":"/zh-cn/posts/hxl/:0:0","tags":["旅游"],"title":"天河机场转机攻略：速通黄鹤楼（6 h)","uri":"/zh-cn/posts/hxl/"},{"categories":["游记"],"content":"一、机场准备篇 关注微信号“中转旅客服务通”——中转服务免费赠送中转饮食和行李寄存服务，也可以预约转机行李直挂（无缝托运） 行李直挂：需要提前预约，可以实现无缝行李托运转移。 中转餐食：点击获得二维码。安检区域外出发大厅，A 号走廊道尽头，餐厅可以使用，兑换价值 30 元的餐劵或者伴手礼。个人选择了“食尚坊”的 30 元鸡肉套餐，还送了个鸡蛋和豆浆。同行者点了份 26 元的热干面（相比鸡肉套餐完全亏爆！） “食尚坊”的30元鸡肉套餐:小鸡炖蘑菇，蒸蛋，米饭加送的鸡蛋和豆浆\r行李寄存：点击获得二维码。安检区域外出发大厅，F 号走廊道尽头，京东快递处。寄存要求：和飞机安检一样，使用身份证登记，不接受充电宝这类不让托运的行李寄存。 原谅我的手机曝光\r这次速通没有使用行李直挂，11 点下飞机，取行李，寄托行李，吃完饭，时间正好来到 12 点整。 ","date":"2024-03-10","objectID":"/zh-cn/posts/hxl/:1:0","tags":["旅游"],"title":"天河机场转机攻略：速通黄鹤楼（6 h)","uri":"/zh-cn/posts/hxl/"},{"categories":["游记"],"content":"二、地铁前往黄鹤楼 地铁路线：轨道交通 2 号线$ \\rightarrow$ 积玉桥 $\\rightarrow$ 彭刘杨地铁口$ \\xrightarrow {步行} $黄鹤楼 彭刘杨地铁口地铁口：A 口和 C 口均可出站就见黄鹤楼，推荐 C 口出发进去——是网红墙所在地。 12 点整坐上机场地铁，13 点 10 分到达黄鹤楼景区门口。 网红墙，为了肖像权打个码先\r","date":"2024-03-10","objectID":"/zh-cn/posts/hxl/:2:0","tags":["旅游"],"title":"天河机场转机攻略：速通黄鹤楼（6 h)","uri":"/zh-cn/posts/hxl/"},{"categories":["游记"],"content":"三、参观黄鹤楼 微信小程序即可买票，学生票半价 35 元。没带学生证可以通过学信网（微信小程序）进行证明。特别感谢 @leland 同学向导。 黄鹤楼上去一条路，每一层需要绕一周到下一个楼梯口，下去是另外一条直接连续下去的走廊。 确实没什么好玩的\r黄鹤楼高处眺望，可看到新（红色）老（白色）两座跨江大桥。（忘拍照了） 参观完黄鹤楼，走回地铁口，整体花费不超过 40 分钟，此时时间为 13 点 50 分。 坐一小时地铁返回, 15 点左右到达机场，剩余一小时取寄存快递，过安检，16 点完成速通。 ","date":"2024-03-10","objectID":"/zh-cn/posts/hxl/:3:0","tags":["旅游"],"title":"天河机场转机攻略：速通黄鹤楼（6 h)","uri":"/zh-cn/posts/hxl/"},{"categories":["游记"],"content":"四、省流总结：5 h 足够速通黄鹤楼 到达机场， 花费一小时完成行李寄存，吃中午饭。 花费一小时坐地铁加走路到黄鹤楼。 40 分钟时间足够参观完黄鹤楼。 花费一小时返回黄鹤楼。 花费一小时在机场办理返回业务。 ","date":"2024-03-10","objectID":"/zh-cn/posts/hxl/:4:0","tags":["旅游"],"title":"天河机场转机攻略：速通黄鹤楼（6 h)","uri":"/zh-cn/posts/hxl/"},{"categories":["影视剧"],"content":" 祥子到死都觉得是自己还不够努力。当然，祥子只放眼于外，自认为看清了世界，却唯独遗漏了一点——向外看可以看清外在世界的所有角落，却唯独看不清自己，自然就无从谈起自己和这个时代。作为主角代入总是放眼于外，作为读者才能观“世界与我”，然后反求诸己。故鲁智深有言“今日方知我是我”，我想正有此意。 好的电视剧都有这个反转，就想美妙的画作，只用艳丽的外表已经足够打动读者，如果隐含的结构构思和理念能让人进一步感动，更是艺术。 2023 命运的讨论可为纪事派和荒谬派。 ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:0:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["影视剧"],"content":"《繁花》和《漫长的季节》 《繁花》和《漫长的季节》是纪事派。人在世界的发展中总显得手足无措。 《漫长的季节》里王响想不通为什么自己作为“劳模”会被裁员，儿子成了杀人犯，身边的人都没活明白。一场雪下了 20 年，他一直没跨过这个坎，不断地从这个世界找出过去的幽灵。沈默问王阳“信命吗？”，王响，彪子搞不清生活是什么了，他们同样开始认为都是“命运”。 《繁花》上演王家卫的错过1，阿宝和四个女人——雪芝，玲子，汪小姐，李李分别错过。各自财富，地点，身份，经历的不匹配导致的情感反复迂回。里面说“从至真园开始，一切结果都早已注定”，“一切都是必然的命运”。 原著最后曾说——走在这命运的漩涡，人终会走散，只剩下自己一人。 ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:1:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["影视剧"],"content":"《河边的错误》和《宇宙探索编辑部》 《河边的错误》和《宇宙探索编辑部》是荒谬派。小概率事件通过扎堆出现让人迷惑。 《河边的错误》中马原不承认疯子杀人，离真相越来越远。电影引用加缪的话“人理解不了命运，因此我装扮成了命运。我换成神的那副愚蠢又不可理解的面孔”。 《宇宙探索编辑部》中唐志军相信是命运在引导自己找到外星人。一切巧合都是必然 。只从主角视角出发时，我们总是向外看，放肆地嘲弄孔乙己。作为读者，却能感知到他们各自对命运不同的态度。 ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:2:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["影视剧"],"content":"《漫长的季节》是和解 一场雪下了 20 年，足够漫长，正如一个真相等待了 20 年才得到知晓。 王阳的诗 打个响指吧，他说 我们打个共鸣的响指 遥远的事物将被震碎 面前的人们此时尚不知情 吹个口哨吧， 我说你来吹个斜斜的口哨 像一块铁然后是一枚针磁极的弧线拂过绿玻璃 喝一杯水吧， 也看一看河在平静时平静， 不平静时我们就错过了一层台阶 一小颗眼泪滴在石头上很长时间也不会干涸 整个季节将它结成了琥珀块状的流淌， 具体的光芒在它背后是些遥远的事物 王响对应响指，一个案件让他二十年没跨过。在初期，他认为只要自己努力立功，就能避免被裁掉的境遇。职工大会上揭露和真相公开时开始反转——厂主想开谁就开谁，想留谁就留谁。倒卖资产是厂长组织的！东北工业，王响一辈子都骄傲终于碎掉了。悬疑案件的背后是东北在腐朽。 个人不能抵抗时代的变故，他只能和《一句话顶一万句》里的主旨一样，努力抓住自己想要的解答，继续想前看。命运不能抵抗，人们总要学会向前看。于是火车缓缓奏响，沿着铁轨在玉米地里前进。 ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:3:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["影视剧"],"content":"《繁花》也是和解 阿宝走进来能成为宝总，走出去就愿意继续当阿宝，从容不迫2，保持着《基督山伯爵》的口号： 面对命运只有两个词语——等待和希望。 ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:4:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["影视剧"],"content":"《河边的错误》就是单纯疯了 荒谬派总是提出困境并不会回答。人对抗不了时代，到此为止。 当知道这一点时，你就理解了克苏鲁，解决不了，想解决，于是人疯了。 荒谬的事件自然就没有解答了，因为我们无法理解，只有现实在无情地流动——Only The River Flows… ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:5:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["影视剧"],"content":"《宇宙探索编辑部》是醒了 主角团和西游记一样，分别对应唐、孙、沙、猪，一路向西，唐志军想要找到自己的真经——外星人。 表面上是找外星人，其实是求一个答案。婚姻不幸，职场难过，人生意义何在？如果人解决不了，那外星人呢？与其说是为科幻痴狂，其实还是在为人生飘零。电影结尾想表达反求诸己，寻找外星人是向外，这没有必要，人类自己就是奇迹，所以释然。但是这个过程展现地并不连贯。 ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:6:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["影视剧"],"content":"对待命运 当人的渺小遇上了局中人不能理解的时代，就用命运打个马虎眼。后来人和旁观者总归是看得清的，降临到自己头上就晕头转向了，这就是巨大的命运。 大部分人对命运发起质问，回答不外乎“只有相对公平，没有绝对公平”“英雄主义是看清世界依然爱”“世界以痛吻我，我却回报以歌”。 此时真相不重要，重要的坚持生存主义哲学，不管对不对，让我们保持活下去的积极态度总是好的。 当一个人定要研究出人与时代洪流的关系时，这些回答不足以提供答案3。 要么陷入疯狂；要么学会妥协——接受一切，活在明天，向前看。 生存哲学就是这样，有些东西已经证实了就是办不成，但就是心痒痒想去搞到手。这就是命运与人，放弃思考是一种解答，继续思考到崩溃还是种解答，继续思考到妥协，还是一种解答，也就是和命运相处的几个方式咯。 话说全网营销太恐怖了，《摆渡人》已经被遗忘在角落完成洗白。 ↩︎ 凯恩斯主义者反对市场总是对的这句话 ↩︎ 因为这个议题总是在时代悲剧时出现，我们默认此时人不可抵抗时代，此时命运总是个灰色的词汇 ↩︎ ","date":"2024-03-08","objectID":"/zh-cn/posts/kj_2024/:7:0","tags":["电视剧"],"title":"2024 观剧总结: 和“命运”相处的几种方式","uri":"/zh-cn/posts/kj_2024/"},{"categories":["软件工具","经济学习"],"content":"引入 何谓爬虫？即“可见即可得”的抓取。每一个网站都有源代码，源代码中自然就包含了网站显示的信息。抓取源代码时，数据和代码混杂在一起，我们再进行清洗就可以得到干净的数据。 stata 代码附件放在结尾。爬虫代码复用性并不高，本文主要是记录爬虫学习过程。 爬虫流程\r从整个爬虫过程来说，获取网站源代码是最关键的一步。对于严格加密的网站（例如\"中国裁判文书网\"），还要伪装 ip，进行多账号切换，突破文字加密等，遗憾的是这些 stata 都做不到。Stata 擅长的是对没有防备的网站爬取然后快速清洗，处理数据。虽然 stata 擅长的这部分——“切分代码和数据\"只是熟练度的问题，不过对于个人来说，使用 stata 进行爬虫的初步学习还是挺友好的。 ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:1:0","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"一、抓取网页源代码 数据网站：国信房地产信息网-土地市场库网站页面如下： 部分学校购买了该数据库，可以看看能否 ip 登陆。 使用 python 能伪装 ip 登陆，stata 目前似乎不行，本文只做学习分享。 网站\r右键——检查——右侧网站查看界面——点击进入“Network” 如图\r之后我们切换网站的页数，这时候网站自然会更新数据，于是我们在右侧得到对应的数据变化源代码 源代码\r对于该网站的数据切换源代码，多切换几次可以发现控制页面变化的是代码是 p=2。同理，当 p=1 时，对应的是第一页的数据页面。遇上加密网站时，这个工作会很困难。 http://www.crei.cn/tudi/tudibr1.aspx?p=2\u0026x=a0f010000\u0026k=\u0026k1=\u0026k2=\u0026k3=\u0026k4=\u0026c=\u0026j1=0\u0026j2=0\u0026m1=0\u0026m2=0 ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:2:0","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"二、stata 爬虫 ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:3:0","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"1、网站导入 先设定工作路径： *-网站：国信房地产交易网：http://www.crei.cn/tudi/index.aspx *-时间：2024年2月 *-设置工作路径 clear all global path \"F:\\桌面\\stata土地网爬虫\" global prcs \"$path\\process\" cd \"$D\" set scheme s2color //绘图风格 再导入网站，使用 stata 的 copy 命令将源代码导入。 看情况使用 unicode 进行编码防止乱码。 *-[1]url导入 copy \"http://www.crei.cn/tudi/tudibr1.aspx?p=1\u0026x=a0f000000\u0026k=\u0026k1=\u0026k2=\u0026k3=\u0026k4=\u0026c=\u0026j1=0\u0026j2=0\u0026m1=0\u0026m2=0 \" \"test.txt\", replace *-Note：设置字体格式防止乱码，最后强制删除备份文件 *-Note：储存1到第200000个字符并标记为变量v local file = \"test.txt\" unicode analyze \"`file'\" unicode encoding set gb18030 local file = \"test.txt\" unicode translate \"`file'\", transutf8 unicode erasebackups, badidea local file = \"test.txt\" infix strL v 1-200000 using \"`file'\",clear 可在 stata 里面对比网页源代码（进入对应网站后，右键查看网页源代码即可） ，可见下图： stata\r","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:3:1","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"2、初步切割 keep 命令： 保留 stata 数据的哪些行 split 命令: 将表格的内容按照某个符号进行切割，分为多个单元格。 sxpose 命令： 数据转置重排 结合网页源代码可以发现我们要的数据都在\u003cfont face=\"宋体\"\u003e那一行。地产信息间有\u003ctr onmouseover=this....分割。结尾代码\u003c/table\u003e\u003cbr\u003e\u003ccenter\u003e也应删掉。切割后转置一下。 *-[2]初步数据切割 *-Note：使用 spit 函数对保留后的数据进行切割，这部分需要了解正则表达式 *-Note：观察网页源代码，保留所需数据所在的行，这里注意到数据使用了宋体 keep if index (v,`\"\u003cspan id=\"bra1\"\u003e\u003cfont face=\"宋体\"\u003e\"') split v ,p(`\"\u003ctr onmouseover=this.style.background='#BDDFFF' onmouseout=this.style.background='#ffffff' style='background:#ffffff' \u003e\u003ctd style='height:35px'\u003e\u003cdiv class=td1 style='width:42px;text-align:center'\u003e\"') *-Note：额外去除下这段代码结尾的多余部分 v 211 v 212 split v 21 ,p(`\" \u003c/table\u003e\u003cbr\u003e\u003ccenter\u003e　\"') *\u003c/table\u003e\u003cp align=left\u003e Drop v v 1 v 212 v 21 Rename v 211 v 21 Sxpose ,clear *-Note：sxpose 数据转置重排 如图，到目前位置，第一页前 20 条数据已经被爬取下来并且进行了初步切割。 切割\r","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:3:2","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"3、进一步切割 replace: 将要切割的代码换成“滑翔闪”或者\"“表示删除，然后一次性切割。 *-[3]进一步切割数据 *-Note：把不要的中间字符换成知乎用户“滑翔闪”吧！ replace _var = subinstr (_var,`\"\u003c/div\u003e\u003ctd title='\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"'\u003e\u003cdiv class=td1 style='width:45px;text-align:center'\u003e\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"\u003c/div\u003e\u003ctd align=left style='height: 26 px'title='\"',\"滑翔闪\",.) Replace _var = subinstr (_var, `\"//\"' ,\"\", .) replace _var = subinstr (_var, `\"'\u003e\u003cdiv class=td1 style='width:220px'\u003e\u003ca href=http:www.crei.cn/tudi/tdbr.aspx?id=\"' ,\"滑翔闪\", .) Replace _var = subinstr (_var, `\" target=_blank class=tdbrw\u003e\"' ,\"滑翔闪\", .) replace _var = subinstr (_var,`\"\u003c/a\u003e\u003c/div\u003e\u003c/td\u003e\u003ctd title='\"', \"滑翔闪\",.) replace _var = subinstr (_var,`\"'\u003e\u003cdiv class=td1 style='width:40px;text-align:center'\u003e\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"\u003c/div\u003e\u003ctd width=40\u003e\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"\u003c/td\u003e\u003ctd align=right\u003e\"',\"滑翔闪\",.) Replace _var = subinstr (_var,`\"\u003ctd align=right title='\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"'\u003e *** \u003c/td\u003e\u003ctd align=right title='\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"'\u003e *** \u003c/td\u003e\u003ctd nowrap\u003e\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"\u003ctd nowrap\u003e\"',\"滑翔闪\",.) replace _var = subinstr (_var,`\"'\u003e *** \u003c/td\u003e\"',\"\",.) *-Note：就当是为了我，对字符“滑翔闪”使用炎拳吧！ Split _var ,p(`\"滑翔闪\"') Drop _var 1 ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:3:3","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"4、整理保存 *-[4]添加变量标签 Ren _var 11 城市 Ren _var 12 ID Ren _var 13 ID 2 Ren _var 14 地块 Ren _var 15 代码 Ren _var 16 地块 2 Ren _var 17 类型 Ren _var 18 用途 Ren _var 19 结果 Ren _var 110 编码 Ren _var 111 起始价 Ren _var 112 成交价 Ren _var 113 出让日期 Ren _var 114 成交日期 *-[5]保存数据 Save \"$path\\爬虫土地. Dta\", replace 起始价和交易价部分使用的 js 进行加密，所以无法爬取，本文主要是记录爬虫原理和流程。 起始价和交易价部分使用的js进行加密，所以无法爬取，本文主要是记录爬虫原理和流程\rStata 无法使用 ip 和账号登入，所以无法爬取价格 ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:3:4","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"5、多页爬取 Forvalues：stata 循环函数，我们将源代码的p=1换成 p=`i’ 即可实现循环爬取。 注意很多时候第一页和第二页以后爬取情况不同，例如本网站中结尾页码代码不同。由于土地市场网实行了加密，所以 stata 只能爬取第一页和第二页。 *====================================== * Part 2 爬取多页 (共 133 页) * 数据来源：国信房地产交易网-土地市场数据 *====================================== Forvalues i = 2/133{ //利用循环爬取 2-133 页并与第 1 页合并 Di `i' Clear *-[1]url 导入 qui copy \"http://www.crei.cn/tudi/tudibr1.aspx?p=`i'\u0026x=a 00000000\u0026k=\u0026k 1=\u0026k 2=\u0026k 3=\u0026k 4=\u0026c=\u0026j 1=0\u0026j 2=0\u0026m 1=0\u0026m 2=0\" \"test`i'. Txt\", replace *-Note：设置字体格式防止乱码，最后强制删除备份文件 *-Note：储存 1 到第 200000 个字符并标记为变量 v Qui local file`i' = \"test`i'. Txt\" Qui unicode analyze \"`file`i''\" Qui unicode encoding set gb 18030 Qui unicode translate \"`file`i''\", transutf 8 Qui unicode erasebackups, badidea Qui infix strL v 1-200000 using \"test`i'. Txt\", clear *-[2]初步数据切割 *-Note：使用 spit 函数对保留后的数据进行切割，这部分需要了解正则表达式 *-Note：观察网页源代码，保留所需数据所在的行，这里注意到数据使用了宋体 qui keep if index (v,`\"\u003cspan id=\"bra1\"\u003e\u003cfont face=\"宋体\"\u003e\"') qui split v ,p(`\"\u003ctr onmouseover=this.style.background='#BDDFFF' onmouseout=this.style.background='#ffffff' style='background:#ffffff' \u003e\u003ctd style='height:35px'\u003e\u003cdiv class=td1 style='width:42px;text-align:center'\u003e\"') *-Note：额外去除下这段代码结尾的多余部分 v 211 v 212 qui split v 21 ,p(`\"\u003c/table\u003e\u003cp align=left\u003e\"') Qui drop v v 1 v 21 Qui rename v 211 v 21 ylyih Qui sxpose ,clear *-Note：sxpose 数据转置重排 *-[3]进一步切割数据 *-Note：把不要的中间字符换成知乎用户\"滑翔闪\"吧！ qui replace _var = subinstr (_var,`\"\u003c/div\u003e\u003ctd title='\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"'\u003e\u003cdiv class=td1 style='width:45px;text-align:center'\u003e\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"\u003c/div\u003e\u003ctd align=left style='height: 26 px'title='\"',\"滑翔闪\",.) Qui replace _var = subinstr (_var, `\"//\"' ,\"\", .) qui replace _var = subinstr (_var, `\"'\u003e\u003cdiv class=td1 style='width:220px'\u003e\u003ca href=http:www.crei.cn/tudi/tdbr.aspx?id=\"' ,\"滑翔闪\", .) Qui replace _var = subinstr (_var, `\" target=_blank class=tdbrw\u003e\"' ,\"滑翔闪\", .) qui replace _var = subinstr (_var,`\"\u003c/a\u003e\u003c/div\u003e\u003c/td\u003e\u003ctd title='\"', \"滑翔闪\",.) qui replace _var = subinstr (_var,`\"'\u003e\u003cdiv class=td1 style='width:40px;text-align:center'\u003e\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"\u003c/div\u003e\u003ctd width=40\u003e\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"\u003c/td\u003e\u003ctd align=right\u003e\"',\"滑翔闪\",.) Qui replace _var = subinstr (_var,`\"\u003ctd align=right title='\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"'\u003e *** \u003c/td\u003e\u003ctd align=right title='\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"'\u003e *** \u003c/td\u003e\u003ctd nowrap\u003e\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"\u003ctd nowrap\u003e\"',\"滑翔闪\",.) qui replace _var = subinstr (_var,`\"'\u003e *** \u003c/td\u003e\"',\"\",.) *-Note：就当是为了我，对字符\"滑翔闪\"使用炎拳吧！ Qui split _var ,p(`\"滑翔闪\"') Qui drop _var 1 *-[4]添加变量标签 Qui ren _var 11 城市 Qui ren _var 12 ID Qui ren _var 13 ID 2 Qui ren _var 14 地块 Qui ren _var 15 代码 Qui ren _var 16 地块 2 Qui ren _var 17 类型 Qui ren _var 18 用途 Qui ren _var 19 结果 Qui ren _var 110 编码 Qui ren _var 111 起始价 Qui ren _var 112 成交价 Qui ren _var 113 出让日期 Qui ren _var 114 成交日期 *-[5]保存数据 Qui append using \"$path\\爬虫土地. Dta\" Qui save \"$path\\爬虫土地. Dta\", replace } ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:3:5","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"三、附件和参考资料： ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:4:0","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"1、参考资料 百度网盘 进阶就是了解 R、python、CURL 的爬虫命令，流程和原理都类似。Python 好处是多线并进，同时有灵活的轮子可以使用。 本文爬取的土地交易网由于使用了 js 加密无法爬取，但是他们没有关掉旧版源码入口，于是旧版依旧毫无防备——可以参考下面这篇文章的代码爬取旧源码的数据。 http://www.crei.cn/tudi/lawbr.aspx?p=1\u0026a=1\u0026jyzt=\u0026crfs=\u0026tdlx=\u0026rq1=\u0026rq2=\u0026rq3=\u0026rq4=\u0026key=\u0026ren=\u0026cs=%C8%AB%B2%BF 教你用 Stata 抓取全国土地交易数据 Stata：批量获取经纬度数据-空间计量 Stata爬虫：爬取地区宏观数据 正则表达式 ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:4:1","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["软件工具","经济学习"],"content":"2、一些论文 工业用地价格与企业产能利用率： 爬取土地数据，发现工业土地交易聚集和产能过剩的关系 1; 最低工资与异质性人力资本需求：基于招聘网站数据的研究： 爬取招聘信息，研究劳动力需求侧特征 2； 工业机器人应用与劳动关系：基于司法诉讼的实证研究 ——爬取法律文书，研究机器人应用与劳工纠纷 3。 刘若鸿, 许晏君. 工业用地价格与企业产能利用率[J]. 世界经济,2023,46 (11): 103-127. DOI: 10.19985/j.cnki. Cassjwe. 2023.11.004. ↩︎ 马双, 肖翰, 李丁等. 最低工资与异质性人力资本需求：基于招聘网站数据的研究[J]. 世界经济,2023,46 (12): 92-114. DOI: 10.19985/j.cnki. Cassjwe. 2023.12.003. ↩︎ 张军, 闫雪凌, 余沭乐等. 工业机器人应用与劳动关系：基于司法诉讼的实证研究[J]. 管理世界,2023,39 (12): 90-112. DOI: 10.19744/j.cnki. 11-1235/f.2023.0146. ↩︎ ","date":"2024-03-06","objectID":"/zh-cn/posts/pachong/:4:2","tags":["爬虫","Stata"],"title":"Stata: 爬虫学习","uri":"/zh-cn/posts/pachong/"},{"categories":["Hugo 搭建记录"],"content":"每个 hugo 主题设置字体的方法都不同，而网上很少人介绍 hugo 怎么修改字体。这里要介绍的是 loveit主题更换字体的方法。 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:0:0","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"两种修改方法 按照 loveit 文档所言，字体自定义需要 Hugo extended 版本，有两种方法： 在 assets/css/_custom.scss 中, 可以添加 CSS 样式代码以自定义样式。 在 assets/css/_override.scss 中, 可以覆盖 themes/LoveIt/assets/css/_variables.scss 中的变量以自定义样式。 第一种方法自己写 CSS 样式对新手太不友好了，第二种方法则设置字体变量就行。 这里介绍第二种方法，作用过程是使用 google fonts 的 API 来引入字体。 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:1:0","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"设置字体变量 打开 \u003c自己网站\u003e/assetscss 里的 _override.scss 文件，在这里就可以覆盖主题的字体变量设置。 没有 _override.scss 就自己创建一个。或者将 themes\\LoveIt\\assets 中的 css 文件夹复制替换到 \u003c自己网站\u003e\\assets 目录位置下。打开后可以发现两个关键文件—— _variables.scss 和 _override.scss。 _variables.scss：用于定义字体变量，例如网站标题字体是一块变量区域；目录字体是一块变量区域；想要改变哪块区域就改变哪里的变量。 例如默认标题字段是黑体，我想改的更花哨一点 黑体\r在 \u003c自己网站\u003e\\assetscss\\override.scss 中输入如下代码： @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng\u0026family=Madimi+One\u0026family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900\u0026family=Noto+Serif+SC\u0026display=swap'); $header-title-font-family:Ma Shan Zheng, Madimi One; $header-title-font-size: 35px; $header-title-font-height: 2rem; Ma Shan Zheng字体\r@import url: 特定字体的 API $header-title-font-family: 字体名称 $header-title-font-size: 字体大小 $header-title-font-height: 行高 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:2:0","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"认识参数 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:3:0","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"字体变量参数 详见 themes\\LoveIt\\assets_variables.scss，文件中交代了字体变量。 $global-font 代表全局字体变量。 $header-title 代表网页标题字体变量。 $toc-title 代表目录字体变量。 family\\size\\height 对应名称、大小、行高。 $font-family:Ma Shan Zheng, Madimi One; 多个字体名称同时存在，代表从左到右优先选择哪个字体。 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:3:1","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"谷歌字体 API 进入谷歌字体网站后，选好自己想要的字体，点击右上角的Get font打包，然后接着选，选完自己想要的全部字体后点击最右上角的包包图案。 fonts.google\r然后点击Get embed code。选择 web - @import, 里面提供了对应的 api代码。 Get embed code\r以上图中代码就是对应的调用 api。里面也提供了每个字体的名称。 选择web-@import\r","date":"2024-03-05","objectID":"/zh-cn/posts/font/:3:2","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"中文字体 api 中文字体 api 也可考虑字图网。 国内开源字体比较火的是霞鹜文楷。 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:3:3","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"本站所用字体 // ============================== // Override Variables // 覆盖变量 // ============================== @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng\u0026family=Madimi+One\u0026family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900\u0026family=Noto+Serif+SC\u0026display=swap'); @import url('https://fonts.googleapis.com/css?family=Fira+Mono:400,700\u0026display=swap\u0026subset=latin-ext'); @import url('https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css'); @import url('https://chinese-fonts-cdn.deno.dev/packages/jhlst/dist/京華老宋体v2_002/result.css'); $header-title-font-family: Ma Shan Zheng, Madimi One; $header-title-font-size: 35px; $header-title-font-height: 2rem; $global-font-family: KingHwa_OldSong , Noto Serif SC , Merriweather; $global-font-size: 18px; $global-font-height: 4rem; $toc-title-font-size: 25px; $toc-content-font-size: 20px ; 本地预览没有问题，后来上传 github pages 时，about 页面出问题了，可能是大小超出限制之类的，我就干脆把 themes 文件夹下的 about 文件夹删除了。 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:3:4","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"参考链接 loveit主题文档 切换主题——从PaperMod到LoveIt hugo自定义全局字体 Hugo 博客自定义优化 LoveIt主题美化与博客功能增强 ","date":"2024-03-05","objectID":"/zh-cn/posts/font/:4:0","tags":["Hugo"],"title":"Hugo 美化 1 ：自定义字体","uri":"/zh-cn/posts/font/"},{"categories":["Hugo 搭建记录"],"content":"如今 hugo 评论区已经有了很多成熟的方案。Waline 强大且好用，但对我这种小白来说太不友好了（例如我就不会配置 waline 评论区的中英文自动切换）；gitalk 利用 github 仓库的 Issue 区域作为评论区，搭建简单但权限授予有点问题（可见这里的讨论）。综上，我选择 Giscus——搭建简单且安全。 环境：hugo增强版(V0.123.7) +win 64 amd+ loveit主题 ","date":"2024-03-05","objectID":"/zh-cn/posts/comment/:0:0","tags":["Hugo"],"title":"Hugo 搭建 Giscus 评论区","uri":"/zh-cn/posts/comment/"},{"categories":["Hugo 搭建记录"],"content":"创建 Github 仓库作为评论区 github主页创建\r需要是Public\r选择完后即可点击 Create repository 创建。创建完成之后进入仓库勾选 Discussions 来开放讨论区。 仓库setting\r","date":"2024-03-05","objectID":"/zh-cn/posts/comment/:1:0","tags":["Hugo"],"title":"Hugo 搭建 Giscus 评论区","uri":"/zh-cn/posts/comment/"},{"categories":["Hugo 搭建记录"],"content":"进入 Giscus 官网获取调用 进入 Giscus 官网点击 Install, 输入自己刚才创建的仓库。 忘记了也可以在仓库setting页面查看名字\r设置上我选择默认设置： 页面 ↔️ discussion 映射关系：选择Discussion 的标题包含页面的 pathname Discussion 分类：选择Announcements 主题：选择用户推荐的色彩方案 勾选完成后页面会出现对应的调用代码： 重点关注 data-repo，data-repo-id，data-category，data-category-id，data-mapping 几个值。 \u003cscript src=\"https://giscus.app/client.js\" data-repo=\"*************\" #注意自己的仓库名字 data-repo-id=\"*************\" #注意自己的代码 data-category=\"Announcements\" #注意自己选择的型号配置 data-category-id=\"*************\" #注意自己的代码 data-mapping=\"pathname\" #一般为pathname data-strict=\"0\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"bottom\" data-theme=\"preferred_color_scheme\" data-lang=\"\" #默认语言，推荐填空，会自动使用网站语言 crossorigin=\"anonymous\" async\u003e \u003c/script\u003e ","date":"2024-03-05","objectID":"/zh-cn/posts/comment/:2:0","tags":["Hugo"],"title":"Hugo 搭建 Giscus 评论区","uri":"/zh-cn/posts/comment/"},{"categories":["Hugo 搭建记录"],"content":"Hugo 配置 ","date":"2024-03-05","objectID":"/zh-cn/posts/comment/:3:0","tags":["Hugo"],"title":"Hugo 搭建 Giscus 评论区","uri":"/zh-cn/posts/comment/"},{"categories":["Hugo 搭建记录"],"content":"修改 toml 配置 个人网站项目下的 config.toml 文件内写入以下内容: [params.page.comment] enable = true [params.page.comment.giscus] # 你可以参考官方文档来使用下列配置 enable = true repo = \"**********\" repoId = \"**************\" category = \"Announcements\" categoryId = \"***************\" # \u003cyour_repo\u003e 对应官网的 data-repo # \u003cyour_repoId\u003e 对应官网的 data-repo-id # \u003cyour_category\u003e 对应官网的 data-category # \u003cyour_categoryId\u003e 对应官网的 data-category-id # 为空时自动适配当前主题 i18n 配置 lang = \"\" mapping = \"pathname\" # \u003cyour_mapping\u003e 对应官网的 data-mapping reactionsEnabled = \"1\" emitMetadata = \"0\" inputPosition = \"bottom\" lazyLoading = false lightTheme = \"light\" darkTheme = \"dark_dimmed\" ","date":"2024-03-05","objectID":"/zh-cn/posts/comment/:3:1","tags":["Hugo"],"title":"Hugo 搭建 Giscus 评论区","uri":"/zh-cn/posts/comment/"},{"categories":["Hugo 搭建记录"],"content":"Hugo 渲染 hugo serve 是本地预览环境，不会启用生产力环境。 启动 hugo serve -e production 渲染启动生产力环境，开启评论区。 个人认为样式也比gitalk好看。下面是深色模式和中英文效果\r","date":"2024-03-05","objectID":"/zh-cn/posts/comment/:4:0","tags":["Hugo"],"title":"Hugo 搭建 Giscus 评论区","uri":"/zh-cn/posts/comment/"},{"categories":["Hugo 搭建记录"],"content":"注意版本控制 严格按照以上方法，使用的 loveit 主题，却没有出现评论区。可能是版本不对。Loveit 页面，直接通过 code 下载解压。Release 部分的 latest 代码其实是落后几个版本的代码！不支持 giscus。 ","date":"2024-03-05","objectID":"/zh-cn/posts/comment/:5:0","tags":["Hugo"],"title":"Hugo 搭建 Giscus 评论区","uri":"/zh-cn/posts/comment/"},{"categories":["经济学习"],"content":" 2017 年 Angrist 凭借计量因果推断的贡献获得诺奖，其后双重差分方法大行其道。计量经济学宣扬自己研究的是因果关系而非相关关系。这里要介绍的就是“潜在结果”框架下的因果效应。本文学习记录的原因是听了《世界经济》手把手第二期讲座。听了刘若鸿老师《工业用地价格与企业产能利用率》1 论文分享后决定整理学习因果效应。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:0:0","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"因果框架有哪些？ 今因果框架众多，群雄并起，统计学（本家之外，药物学、心理学也各有自家统计理解）、经济学、计算机皆有流派，交错纵横，我也不清楚整个体系到底如何。 个人接触比较多的是 Judea Pearl 的结构因果模型（Structural Causal Model, 简称 SCM）。对于他的著作《为什么》2 ，我个人理解是，关联-干预-反事实就是三个因果层级。工具变量的选用就是控制后门（保证唯一的外生影响），控制变量的设置就是控制前门。 相关不等于因果，相关性并不讨论方向。因果性是单向的，因此我们要有单向路径图指导。寻找路径后，再通过分析想像出“反事实”的世界。\rATE、ATT、ITT、LATE 这部分知识在《基本无害的计量经济学》2 中零散出现。整个框架是基于 Donald Rubin 提出的潜在结果框架(Potential Outcome Framework ，也叫 Rubin Causal Model，简称 RCM)。 有趣的是，Judea Pearl（在《为什么》中）提出因果路径下的反事实就是 Rubin 提出的\"潜在结果\"，不过 Rubin 回应两者完全不是一回事3，并且不赞成路径图的分析方法。 （个人不太能理解 rubin 的回应，在我个人看来 SCM 的路径箭头方向对应的就是 RCM 的加减符号方向）。 据我所知，目前因果分析在统计学中还分为频率学派、贝叶斯学派，研究通过马尔科夫链去理解因果推断。这方面个人就完全知之甚少了。个人对这块知识的了解完全来自于 B 站 up——Fmajor 的科普视频。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:1:0","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"细说 RCM 因果效应 ATE、ATT、ITT、LATE 是不同的统计估计量。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:2:0","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"引言：社会科学和自然科学面临的统计难题 社会科学和自然科学的统计学面临不同的挑战。对于物理学家、生物学家来说，他们不用在意无偏性——因为大部分自然科学的实验都可以轻而易举地找到对照组和实验组。 经济学并非如此，经济学的统计学尤其在意大数定理、中心极限定理、渐近性。由于社会科学测量的政策效应、经济因素的影响很难像物理规律一样推广，数据收集和测量已经是难题，代表性、泛用性在这之上更是一个大难题。 老人群体得到的数据不一定对青少年有效；美国数据得到的结论不一定对中国有效；明年的数据得到的结论不一定对今年的社会有效…… 需要明确的是——在这种情况下，计量只是妥协性给出一种可信性革命的方法。而什么样的方法才能真正得到社会科学的因果关系，这是一个永无止境的难题，也是因果推断永恒魅力所在。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:2:1","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"从 ATE 到 ATT 从小学开始，我们就接触了使用各个数组的均值来进行比较分析。不过这种分组对比只是因果讨论的起点，需要进一步对这种分组差异进行分解，进而探讨因果关系。 在 OLS 中，控制变量的思想含义可以通过 FWL 定理理解——保持其他变量不变。当解释变量为 01 二元变量时，就类似实验组和对照组的划分。 计量最在意的，想要求得的变量是平均处理效应——如平行宇宙般完美的实验组和对照组。 $\\boxed{平均处理效应}$ （average treatment effect，简称 ATE）：直接用两组数据均值之差作为估计量。既可以看作总体均值相减，又可以看作分组相减的均值（例如双胞胎数据估计）： $$\\bar Y_1-\\bar Y_0=\\sum_{i=1}^{N_1}\\frac{Y_{i}(1)}{N_1}-\\sum_{i=1}^{N_0}\\frac{Y_{i}(0)}{N_0}$$ 将 $D_i$ 视为处理行为。 $D_i$ 为 1 为实验组，为 0 为对照组。产生线性方程如下： $$\\begin{align}Y_{i}\u0026=\\begin{cases} Y_{1i} \\quad if D_i = 1 \\newline Y_{0i} \\quad if D_i = 0 \\end{cases} \\newline \u0026=Y_{0i}+(Y_{1i}-Y_{0i})D_{i} \\end{align}$$ 例如自然科学的对照组实验组，数据一减就相当于整体的 ATE 。 社会科学也想如此，但有很多问题，只能退而求其次： 分组相减，可得如下式子（注意红色部分）： $$\\begin{aligned} \u0026\\mathbf{E}[Y_{i}\\mid D_{i}=1]-\\mathbf{E}[Y_{i}\\mid D_{i}=0]\\newline\u0026 =\\color{red}{\\underbrace{\\mathbf{E}\\lfloor Y_{1i}\\mid D_{i}=1\\rfloor-\\mathbf{E}[Y_{0i}\\mid D_{i}=1]}_{\\text{处理的平均处理效应ATT}} } \\newline \u0026+\\underbrace{\\mathbf{E}[Y_{0i}\\mid D_{i}=1]-\\mathbf{E}[Y_{0i}\\mid D_{i}=0]}_{偏误} \\end{aligned}$$ 其中 $\\mathbf{E}[Y_{0i}\\mid D_{i}=1]$ 是我们主动添加的，是想要却无法直接找到的另一个”平行宇宙“——假如$\\mathbf{E}[Y_{\\color{blue}{1i}}\\mid D_{i}=1]$ 部分群体，在平行世界没有没有接受处理，他们的状态表示为 $\\mathbf{E}[Y_{\\color{blue}{0i}}\\mid D_{i}=1]$, 也就是 Rubin 想找到的\"潜在结果\"。 $\\color{red}{\\mathbf{E}\\lfloor Y_{1i}\\mid D_{i}=1\\rfloor-\\mathbf{E}[Y_{0i}\\mid D_{i}=1]}$ 代表着 $\\boxed{处理组平均处理效应}$（Average Treatment Effect on Treated，简称 ATT）。 同理，$\\mathbf{E}\\lfloor Y_{1i}\\mid D_{i}=0\\rfloor-\\mathbf{E}[Y_{0i}\\mid D_{i}=0]$ 代表 $\\boxed{对照组平均处理效应}$ （Average Treatment Effect on Untreated，简称ATU）。采用同样的构造，构造出新的平行宇宙情况 $$ \\begin{aligned} \u0026\\mathbf{E}[Y_{i}\\mid D_{i}=1]-\\mathbf{E}[Y_{i}\\mid D_{i}=0]\\\\ \u0026 ={\\underbrace{\\mathbf{E}\\lfloor Y_{1i}\\mid D_{i}=0\\rfloor-\\mathbf{E}[Y_{0i}\\mid D_{i}=0]}_{\\text{对照组的平均处理效应ATU}} }\\\\ \u0026+\\underbrace{\\operatorname{E}[Y_{1i}\\mid D_{i}=1]-\\operatorname{E}[Y_{1i}\\mid D_{i}=0]}_{\\operatorname*{\\text{选择性偏误}}} \\end{aligned}\\\\ $$ 再没有比“一个二项选择分裂出两个平行宇宙”更好的对照试验了，然而没有人能真正获得这种数据！因此，经济学家的做法是想通过 ATE 来估计 ATT，于是引入了随机试验（RCT）。 强调——实际上我们最想知道的一直是ATE（真正的实验组和对照组），但是我们只能观测到政策冲击推行以后的数据，因此才想从局部效应（ATT、ATU）推及到ATE。因此反事实也可以被看作修补出“缺失的数据”。 也就是说，ATT 和 ATU 都是局部群体，并不是计量的终极目标—— ATE（整体）。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:2:2","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"RCT：让 ATT 趋近 ATE RCT 全称为 Randomized controlled trial，代表 $\\boxed{随机试验}$，在随机试验条件下，ATE=ATT，接下来展开介绍： 平行世界分裂出的这部分群体 $\\mathbf{E}[Y_{0i}\\mid D_{i}=1]$ 和现实一开始就没有接受过处理的群体 $\\operatorname{E}[Y_{0i}\\mid D_{i}=0]$ 相减，如果不为 0，就产生了选择性偏差。 原因可能是样本选择偏差：例如我们做健身相关的调查，但只去健身馆收集数据，肯定不能实现有效对比；例如美军著名的飞机幸存者偏差，飞回来的飞机是活下来的飞机，通过他们身上的损伤估计需要加强的部位也是不可靠的； 也可能是自选择偏差：例如入学性别比不均不代表歧视，因为这种分析忽略了性别比的申请倾向，某种性别的人更倾向于申请难度更高的，淘汰率也就更高；警察执法更关注某个种族也不代表就是歧视，看看那个种族犯罪频率是不是相对就高一些。 也可以理解为个体差异，例如药物实验对老人、中年人、小孩的效应其实是不同等。一些人上网课效果更高，而另外一些人上网课效果更差。我们想估计是全部群体的平均效应，不想偏向某个局部群体。 遗漏变量、模型错误、测量错误、样本不足都可能导致。 如果我们采用随机试验的方法，样本是随机分布的。我们希望这种随机试验能把一些我们没观察到的影响变量给平均掉，进而使得 $D_i$ 和 $Y_{0i}$ 具有独立性，这意味着 $\\mathbf{E}[Y_{0i}\\mid D_{i}=1]=\\mathbf{E}[Y_{0i}\\mid D_{i}=0]=\\mathbf{E}[Y_{0i}]$。 此时 ATE 估计得到了有效的简化： $$\\begin{aligned} \u0026\\mathbf{E}[Y_{1i}\\mid D_{i}=1]-\\mathbf{E}[Y_{0i}\\mid D_{i}=1]\\newline\u0026=ATT =\\mathbf{E}[\\mathbf{Y}_{1i}-\\mathbf{Y}_{0i}\\mid D_{i}=1] \\newline \u0026=ATE=\\mathbf{E}[Y_{1i}-Y_{0i}] \\end{aligned}$$ 进一步通过回归式子来估计： $$\\begin{align}Y_{i}\u0026=\\begin{cases} Y_{1i} \\quad if D_i = 1 \\newline Y_{0i} \\quad if D_i = 0 \\end{cases} \\newline \u0026=Y_{0i}+(Y_{1i}-Y_{0i})D_{i} \\newline \u0026 =\\alpha+\\rho D_i+\\eta_i \\end{align}$$ 由于 $$\\begin{aligned}\u0026\\operatorname{\\mathbf{E}}[Y_i\\mid D_i=1]=\\alpha+\\rho+\\operatorname{\\mathbf{E}}[\\eta_i\\mid D_i=1]\\newline \u0026\\operatorname{\\mathbf{E}}[Y_i\\mid D_i=0]=\\alpha+\\operatorname{\\mathbf{E}}[\\eta_i\\mid D_i=0]\\end{aligned}$$ 可以得到两者相减 $$\\begin{aligned}\u0026\\operatorname{\\mathbf{E}}[Y_i\\mid D_i=1]-\\operatorname{\\mathbf{E}}[Y_i\\mid D_i=0]\\newline \u0026=\\underbrace{\\rho}_\\text{处理效应}+\\underbrace{\\operatorname{\\mathbf{E}}[\\eta_i\\mid D_i=1]-\\operatorname{\\mathbf{E}}[\\eta_i\\mid D_i=0]}_\\text{选择性偏误}\\end{aligned}$$ 选择偏差 $\\eta_i\\ne0$ 时，意味着残差和 $D_i$ 相关。我们强调随机试验，就是希望随机干预试验能够使得二者无关，消除这种选择偏差。所以当满足随机试验时，$\\eta_i=0$, $ATE\\xrightarrow{RCT}ATT$。 这也告诉了我们为什么要重视残差分析。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:2:3","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"补充——卢卡斯批判 政策随机性的一种体现是人们对政策的预期是一致的。而诺奖得主卢卡斯曾经有一个著名的观点：当政策实施以后，人们对政策就有了预期，这时候再把政策当成外生冲击是不合适的。预期应当被纳入决策分析。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:2:4","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"从 ITT 到 LATE RCT 在意的是政策的外生性，但即便政策是外生的，人们对政策的反应也可能是内生的。 $\\boxed{意向性分析}$（Intention to treat，简称 ITT）。虽然随机干预试验很有用，但我们要研究的变量不总是随机分布的。例如刘若鸿老师的《工业用地价格与企业产能利用率》——研究工业用地集聚在某一档土地等级周围。此时买家们不讲武德，是有备而来，也就不是随机分布的。此时我们考虑其他随机分布的变量会影响他们的决策。 先使用 SCM 的路径图来理解会更加形象： 图源：《因果推断实用计量方法 》(邱嘉平)我们想研究的变量D并不随机，于是我们找到了一个随机变量Z，同时Z和D之间具有因果关系。\r再举例 Angrist（2011）4的一篇论文，研究参加越南战争对收入的影响，里面参军变量不好使，就使用了入伍资格作为工具变量。（怀念短短 6 页的计量论文时代） 论文其实就是用了2SLS\r显然，存在这样一个过程，一个人先被告知有没有入伍资格，然后他决定是否进入军队。 ITT 式子如下所示： $$ITT=\\mathbf{E}[Y_i|Z_i=1]-\\mathbf{E}[Y_i|Z_i=0]$$ 可以看出 ITT 估计和 $\\mathbf{E}[Y_{i}\\mid D_{i}=1]-\\mathbf{E}[Y_{i}\\mid D_{i}=0]$ 相当类似，也就是说，当 $D_i$ 和 $Z_i$ 一一对应时，也就是 $z=d$ 时，ITT=ATE。 $\\pi_N$: 无论我有没有资格，我最终都不会参军。 $\\pi_D$: 逆反心态，有参军资格我偏不去，没有参军资格我偏要去。 $\\pi_A$: 无论我有没有资格，我最终都会去参军。 $\\pi_C$: 服从安排，有资格我就去，没资格我就不去。 图源牛津课件（w4节)：https://andy.egge.rs/teaching/causal_inference/\r同时由于我们本来就是基于军人样本进行统计， $D_i$ 并非随机分布，因此只有如下式子： $$\\begin{aligned} \\mathbf{E}[D_i=1|Z_i=0]=\\pi_A+\\pi_D\\newline \\mathbf{E}[D_i=1|Z_i=1]=\\pi_A+\\pi_C \\end{aligned}$$ 如此一来肯定不能单独估计出 $\\pi_i(i\\in{A,C,D,N})$ 了。 不过由于随机分布，结果会成比例，可以变形出线性方程： $$ITT=\\pi_CITT_C+\\pi_AITT_A+\\pi_NITT_N+\\pi_DITT_D$$ 实际上，如果知道每个人对待抽签的反应，我们是可以计算所有 $π_i$ 的值的，但是计量要解决的恰恰是我们不知道总体样本点分布，因此做出假设： 解决办法是增加假设 ——很有经济学笑话味道了。插入笑话原文：一个物理学家、一个化学家和一个经济学家漂流到孤岛上，十分饥饿。这时海面上漂來一个罐头。物理学家说：“我们可以用岩石对罐头施以动量，使其表层疲劳而断裂。”化学家说：“我们可以生火，然后把罐头加热，使它膨胀以至破裂。”经济学家则说：“假设我们有一个开罐头的起子……。” 加入假设后，我们就直接得到了 LATE： $$\\mathrm{LATE}=\\mathrm{CATE}_{\\mathcal{C}}=\\frac{\\mathrm{ITT}}{\\pi_{\\mathcal{C}}}$$ 此时估计如下： $$\\small \\hat{\\mathbf{CATE}_C}=\\frac{\\mathbf{E}\\Big[Y_i|Z_i=1\\Big]-\\mathbf{E}\\Big[Y_i|Z_i=0\\Big]}{\\mathbf{E}\\Big[D_i|Z_i=1\\Big]-\\mathbf{E}\\Big[D_i|Z_i=0\\Big]}=\\frac{\\mathrm{effect~of~}Z_i\\text{ on }Y_i}{\\mathrm{effect~of~}Z_i\\text{ on }D_i}=\\frac{\\operatorname{ITT}_Y}{\\operatorname{ITT}_D}$$ 其实就是工具变量中的估计式子 $$\\beta^{IV}=[E(Z^\\prime Z)−E(Z^\\prime X)]^{-1}[E(Z^\\prime Z)−E(Z^\\prime Y)]$$ 矩阵表示含义—— X先对Z做回归，然后Y对Z做回归。 所以也可以理解工具变量其实对样本添加了权重，越满足假设和工具变量相关的样本权重越高。 LATE 部分重点参考了牛津的课件，如果想看相对代数化的说明可以参考哈佛的课件和《基本无害的计量经济学》。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:2:5","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"数理经济中的社科属性？ 直接说\"解决办法是添加几个假设\"未免有些太经济学地狱笑话了。从经济含义看更加直观，如果我们研究的政策足够独特，我们需要论述政策对每个人都有影响，也就是假设中的单调性。在使用工具变量时，也需要介绍工具变量和解释变量之间的社会关系。所以为何经济学计量区别于数学？这些假设就是对社会现象的描述总结，就是其社科属性的鲜明体现。 比如我们的样本是医院样本——一般来说，没有病人不会去跟医生反着来；还比如我们的样本是政府政策，由于政府的强硬手段，没人能够跟政府反着来，因此确实其他反应就为0，大家都是顺从的反应。 当然，实际上工具变量还是会有偏差（一般会增大估计量），所以要仔细理解自己选择的工具变量和 y 和 x 的关系。 最近学习高级宏观也有所体悟。高宏的方法非常单调，变分法加拉格朗日基本解决了所有经典模型的最优化。难点在于每个高宏模型飞来飞去的假设条件和阴间变形。无论是公式变形还是突然施加的假设，都是提炼经济现象的一个特征，然后加以数学化，这才是最大的难点。例如知识生产函数（知识作为全要素）、科夫道格拉斯生产函数（规模报酬）、家庭约束（消费贴现小于财富贴现）、家庭效用函数（风险规避）。 我开始认为——以怎样的框架挖掘均衡；通过经济现象构建具有特性的函数；总结出最优化约束条件才是经济学区别数理复合人才的“经济思想与直觉”。 顺便插入下高宏笔记。 ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:3:0","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["经济学习"],"content":"总结 进一步举例子说明，DID 估计是 ATE；RDD 估计是 LATE ；聚束分析是 LATE。 ATE 和 LATE 是我们所求的，是我们渴望平行世界那样完善的对照试验，但我们有的只是 ATT 和 ITT。 当 D 满足 RCT 时，ATT=ATE。 当 D 不满足 RCT，但 Z 满足时，同时基于单调性和限制约束造出工具变量 (IV）或者 RDD，此时 ITT=LATE。 当 D 不满足 RCT，Z 也找不到时，就采用其他方法估计反事实情况，例如群聚分析 (通过残差分析变形直接估计反事实的分布和当前集聚现象形成对比)、合成控制…… 教材一般也会引入匹配论来实现这些估计假设。 综上，计量模型就是基于这样的潜在结果框架分析因果关系，宣扬自己研究的是因果科学。 如此一看，是否颇有\"无中生有\",“由果索因\"之妙也？ 刘若鸿, 许晏君. 工业用地价格与企业产能利用率[J]. 世界经济,2023,46 (11): 103-127. DOI: 10.19985/j.cnki. Cassjwe. 2023.11.004. ↩ ↩ ↩︎ Pearl J, Mackenzie D. The book of why: the new science of cause and effect[M]. Basic books, 2018. ↩︎ ↩︎ 乔舒亚·安格里斯特, 约恩-斯特芬·皮施克. 基本无害的计量经济学[M]. 格致出版社, 2012. ↩︎ Angrist J D, Chen S H, Song J. Long-term consequences of Vietnam-era conscription: New estimates using social security data[J]. American Economic Review, 2011, 101 (3): 334-338. ↩︎ ","date":"2024-02-28","objectID":"/zh-cn/posts/effect/:4:0","tags":["文献阅读","因果效应"],"title":"因果效应","uri":"/zh-cn/posts/effect/"},{"categories":["软件工具"],"content":"各主流期刊必有网站，世界上也有许多隐秘的漫画、动漫、影视剧资源网站，唯一的问题就是网站之间资源不同且较为隐蔽。那么，有没有可能搞一个网站再聚合所有我们想要的网站呢？这就是聚合订阅！很多大佬开发了工具使得我们能通过一个软件直接抓取这些网站，实现资源的一键订阅和使用。 资源网站只解决燃眉之急，如果支持喜爱某个作品还请支持正版。 ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:0:0","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"影视剧：TVbox ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:1:0","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"非电视端 播放系统兼有大部分画面、字幕调节功能的同时，很多人维护着影视剧资源和电视直播资源。 官网在链接 TVbox官网。下载后点击设置，进入配置地址输入订阅配置就行。如下图，如此我们就可以实现在一个 app 里观看收藏不同网站的资源。 TVbox\rsetting\r推荐订阅源如下，感谢大佬们的维护！ 饭太硬 http://饭太硬.top/tv 肥猫 http://肥猫.live 菜妮丝 https://tvbox.cainisi.cf 南风 https://agit.ai/Yoursmile7/TVBox/raw/branch/master/XC.json 小米 http://xhww.fun:63/小米/DEMO.json 巧儿 http://pandown.pro/tvbox/tvbox.json ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:1:1","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"电视安装 如今大部分人家里都是数字电视，同时天下人苦 vvvvip 久矣，电视投屏 vip 和软件 vip 多半是两套付费路！在家父母总是担心数字电视这里收费那里收费，同时他们喜欢的电视剧不容易在电视上找到资源。例如家里人有人刷了抖音天天念叨“狗剩快跑”。于是以此为契机本人研究了下电视上的 TVbox。 电视环境其实就是老版本的安卓环境，将手机软件下载到电视上有两种方法。 软件：通过一些电视软件（谷歌一下即可）链接手机进行安装。 硬件：U 盘进行安装 my xiaomi TV\r小米电视正后面的两个 U 盘接口。同时前文有提到电视的软件环境是旧版安卓，所以 TVbox 也要使用旧版本。下载的 github 链接：TVBox_电视端适配版.apk。 电视播放失败时，重点关注版本适配、设置中的解码方式（我也不懂，随便换着多试就行）。 ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:1:2","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"漫画：Tachiyomi ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:2:0","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"异次元 和 TVbox 逻辑相同，官方提供图源。官方地址请见异次元漫画。 ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:2:1","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"Tachiyomi Tachiyomi 的好处是可以对接正版软件。例如我付费购买过《一拳超人》和《辉夜大小姐想让我告白》漫画的付费章节，也可以在里面进行官网的登录后查看漫画。下载请见 Tachiyomi。 使用方法是在底部浏览中下载 Tachiyomi\r插件即可。每个插件对应着网站资源爬取。国漫包子漫画一个就够了。如果自己有正版的 B 站漫画和腾讯漫画也可以在里面订阅自己有的资源。 ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:2:2","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"文献：zotero! 订阅效果 zotero\r详细教程请见如下链接：Zotero与经济期刊RSS订阅 ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:3:0","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"音乐：musicfree 插件化、定制化、无广告的免费音乐播放器。 而且支持多客户端适配\r能通过插件聚合 Bilibili（提取视频声音）、网易云、QQ、咕咪、酷狗。 终于能集中整理 B 站很多鬼畜视频或者原创 MV 的声音了 GITHUB 项目地址 官网 推荐的插件导入： 以下插件包含了热榜功能。 国内用户： https://musicfreepluginshub.2020818.xyz/plugins.json 国际用户： https://musicfreepluginshub.pages.dev/plugins.json ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:4:0","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["软件工具"],"content":"截图 最后推荐一个开源的截图软件。能截图后置顶，便于工作。 SETUNA2 ","date":"2024-02-20","objectID":"/zh-cn/posts/dingyue/:5:0","tags":["软件推荐"],"title":"聚合订阅：影视、漫画、文献、音乐自由","uri":"/zh-cn/posts/dingyue/"},{"categories":["经济学习"],"content":"生命周期与工资分解 起因是看到了《中国工业经济》的《户籍制度下劳动力的经验人力资本: 生命周期视角》 1，觉得关于生命周期工资的分解理论太顶级了，这样的思路怎能不发顶刊！？在阅读过程中发现其分析框架果然来自 JPE 的《Life cycle wage growth across countries》（2018）2的 Heckman-Lochner-Taber 算法（简称 HLT），沿用的也是里面的 do 文件，这里记录下学习 HLT 的笔记，并且记录理论变化和数理推导过程。 在查找相关文献中也发现了很多基于 HLT 法本土化的论文——如何把国外优秀论文化为己用，怎么找到微小的计量创新点，看看别人做了哪些微改变确实让人深思，这点在最后分享（dog.jpg) ","date":"2024-01-19","objectID":"/zh-cn/posts/hlt/:0:0","tags":["文献阅读","Stata"],"title":"HLT: 生命周期与工资分解","uri":"/zh-cn/posts/hlt/"},{"categories":["经济学习"],"content":"APC 面板与生命周期 明瑟收入方程（Mincer earnings function) 较早讨论了人力资本投入的回报关系3： $$ ln(w)=\\alpha_0+\\beta_ss+\\beta_0\\exp+\\beta_1\\exp^2+\\gamma X_i+\\varepsilon$$ $s$ 代表受教育水平，$exp$ 代表工作经验水平 $experience$ ， $X_i$ 是其他控制变量。 这里假设了对于对数化后的工资来说，教育回报是线性的，工作经验回报是非线性的。Heckman 等人（2006）相关研究中通过实证检验这个假设是对的 4。 就算不讨论方程形式，这样的分解变量肯定是不够的。 著名面包猎人 DIO 曾说过“JOJO，我在短暂的人生里发现… 一个人越是玩弄阴谋，就越会感到人类的能力是有极限的….”没错! 人类的寿命和身体阶段是我们不得不关注的点！一旦我们谈及劳动经济学，就离不开谈论人的年龄和状态。 面包猎人DIO\r首先我们考虑生命周期——不同年龄的人就算有同样的学历和工作经验甚至更高，教育回报率也不同，这里估计参数年龄和时间相关。同时，每个人所处的时代背景也会对工资收益造成影响，例如上山下乡、改革开放都深入地影响了那一批人，这里估计参数（一般通过出生年份标记分类）个体队列分组也和时间相关。时间效应（包括经济周期和线性增长，例如工资通货膨胀）还是和时间相关！以上参数通通和时间相关！在计量方程中如何分解就成了大难题。于是就有了如下扩展的灵活的明瑟方程。 $$ln(w_{ict})=\\alpha+\\theta(s_{ict})+f(x_{ict})+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ict}$$ $i$ 代表个体编号。 $c$ 代表分组编号，例如改革开放时出生的是一组，上山下乡时出生的是一组，也就是队列分组 5。在生命周期中，一般以五年工作经验为一组进行切片。下图的描述统计就是通过五年分组后组与组比较展现的生命周期初步描述统计。$t$ 代表时间变量。$\\theta(s_{ict})$ 代表教育收入函数，$f(x_{ict})$ 代表工作经验收入函数，$\\gamma_t$ 代表分组 $c$ 的队列效应， $\\chi_t$ 代表分组队列效应，$\\varepsilon_{ict}$ 为误差。 个体追踪的面板数据很难直接获得。于是 Deaton 提出： 我们不要个体追踪面板了！这个家里已经没有你得到位置了！我们用人口普查的一次次截面合成出“伪面板” 流行病理学，药物试验，社会心理等统计领域都会运用这种伪面板。 例如下图：这类收入比较数据不是个体追踪面板数据，而是由同一时间不同年龄的截面数据构造出的伪面板。 《Life cycle wage growth across countries》（Lagakos等，2018）工资与工作经验相关图\r这种面板数据要考虑年龄 age、时间段 period、群组 cohort作为自变量，也叫 The Age-Period-Cohort Model（简称 APC）。在劳经中，APC 面板数据的估计一直是个热点6 (大神 Deaton 力挺，毕竟是自己在经济分析中建立的框架）。 对于估计式： $$ln(w_{ict})=\\alpha+\\theta(s_{ict})+f(x_{ict})+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ict}$$ 当我们使用 APC 数据直接回归时，会产生共线性的问题——年龄+出生年份=当前年份。 ","date":"2024-01-19","objectID":"/zh-cn/posts/hlt/:1:0","tags":["文献阅读","Stata"],"title":"HLT: 生命周期与工资分解","uri":"/zh-cn/posts/hlt/"},{"categories":["经济学习"],"content":"Deaton 的方法（数理分解） Deaton 全名Angus Deaton，2015 年因为贫困研究获得诺贝尔奖，其最多的贡献其实是劳动经济学，被人热议的成果是援助可能使处境更坏 7。 下面方法主要参考了他的著作《The analysis of household surveys: A microeconometric approach to development policy》（1997）（第 123 页开始），说实话，感觉写的，，不太友好。 对于公式： $$ln(w_{ict})=\\alpha+\\theta(s_{ict})+f(x_{ict})+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ict}$$ 也就是 $$w_{ict}=\\exp (\\alpha+\\theta(s_{ict})+f(x_{ict})+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ict})$$ 加总后的总工资可以分解为先按照 $c$ 进行分组加总，每组里按照个体 $i$ 加总： $$\\begin{aligned} \\sum_{i=1}^{N_{ct}}w_{ict}=\u0026 \\sum_{i=1}^{N_{ct}}\\exp(\\alpha+\\theta(s_{ict})+f(x_{ict})+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ict}) \\newline \u0026=\\exp(\\alpha+\\gamma_t+\\chi_c)\\underbrace{\\sum_{i=1}^{N_{ct}}\\exp(\\theta(s_{ict})+f(x_{ict})+\\varepsilon_{ict})}_{F_{ct}} \\newline \u0026=\\exp(\\alpha+\\gamma_{t}+\\chi_{c})F_{ct} \\end{aligned}$$ $F_{ct}$ 此时就是受教育经验函数 $\\theta(s_{ict})$ 和工作经验函数 $f(x_{ict})$ 工资贡献总和。 定义 $\\bar{F}_t=\\sum_{c\\in C_t}F_{ct}$，接下来继续把这部分分离出去，变形如下： $$\\begin{aligned} W_{t}=\u0026 \\sum_{c\\in C_{t}}\\sum_{i=1}^{N_{ct}}w_{ict} \\newline \u0026=\\sum_{c\\in C_{t}}\\exp(\\alpha+\\gamma_{t}+\\chi_{c})F_{ct} \\newline \u0026=\\exp(\\alpha)\\exp(\\gamma_{t})\\sum_{c\\in C_{t}}\\exp(\\chi_{c})F_{ct} \\newline \u0026=\\exp(\\alpha)\\exp(\\gamma_{t})\\bar{F}_{t}\\sum_{c\\in C_{t}}\\exp(\\chi_{c})\\frac{F_{ct}}{\\bar{F}_{t}} \\end{aligned}$$ 此时，工资就可以分解三部分：时间效应 $\\Gamma_{t}$、工作经验和教育效应 $\\bar F_{t}$、队列效应 $\\bar X_{t}$。 $$W_{t}=\\underbrace{\\exp(\\gamma_{t})}_{\\Gamma_{t}}\\bar F_{t}\\underbrace{\\sum_{c\\in C_{t}}\\exp(\\chi_{c})\\frac{F_{ct}}{\\overline{F_{t}}}}_{\\tilde{X_{t}}}$$ 工作经验和教育效应都可以通过受教育年份、工作年份量化参数，但是时间效应和队列效应很难被识别，因此这样处理的目的就是单独提炼出时间、队列效应进行研究，于是定义： $$\\Omega_{t}=\\frac{W_t}{\\bar F_{t}}=\\Gamma_{t}\\bar{X}_{t}$$ 在研究队列效应和时间效应，我们一般从两种角度进行分解。 时间趋势：我们的科技总是向前的，这种随着时间平均进步的就是时间趋势。 周期性: 例如时令蔬菜，供给需求循环周期，例如婴儿潮——婴儿潮出生的那一代在中年期时也会出现劳动力高峰。 time\r此时再次对数化—— $\\omega_t=\\log\\Omega_t,\\bar{\\chi}_t=\\log\\bar{X}_t，\\bar{\\gamma}_t=\\log\\bar{\\Gamma}_t$ 同时要强调定义的是此时 $\\bar{\\chi}_t$、 $\\bar{\\gamma}_t$ 是样本均值的偏差。就像我们假设回归后的残差和为 0 一样，这个假设同样要求样本均值残差和为 0： $$\\frac1T\\sum_{t=0}^T\\gamma_t=\\frac1T\\sum_{t=0}^T\\bar{\\chi}_t=0$$ 此时式子分解为：$\\omega_t=\\bar{\\omega}+\\bar \\gamma_t+\\bar{\\chi}_t$ 原论文中只交代了 $\\bar{\\omega}$ 是“an appropriately chosen constant”。个人认为它就是样本均值，于是相对的，$\\bar{\\chi}_t$ 、${\\bar \\gamma}_t$ 就是样本均值的偏差。 此时时间效应、队列效应都可以分解成时间趋势$g$ 和周期性变动 $u$ ,可使用 $gt+u$ 表示，得到如下分解： $$\\gamma_{t}=g_{\\gamma}t+u_{\\gamma,t},\\quad\\bar{\\chi}_{t}=g_{\\bar \\chi}t+u_{\\bar \\chi,t}$$ 我们使得 $g_{\\omega}=g_{\\bar \\gamma}+g_{\\bar{\\chi}}$，最终估计就变成了 $$\\omega_t=\\bar{w}_t+g_\\omega t+u_{\\omega,t}$$ Deaton（1997） 8处理到这里就无能为力了，他只能进行枚举法处理。 残差分解全部解释为时间效应： $g_{\\omega}=g_{\\bar \\gamma}+g_{\\bar{\\chi}}=g_{\\bar \\gamma}$ 残差分解全部解释为队列效应： $g_{\\omega}=g_{\\bar \\gamma}+g_{\\bar{\\chi}}=g_{\\bar{\\chi}}$ 你俩五五开，各分得一半： $\\frac{1}{2}g_{\\omega}=g_{\\bar \\gamma}=g_{\\bar{\\chi}}$ ","date":"2024-01-19","objectID":"/zh-cn/posts/hlt/:2:0","tags":["文献阅读","Stata"],"title":"HLT: 生命周期与工资分解","uri":"/zh-cn/posts/hlt/"},{"categories":["经济学习"],"content":"计量分解 也就是估计以下式子： $$\\log(w_{ict})=\\alpha+\\theta(s_{ict})+\\sum_{x\\in\\mathbf{X}}\\phi_{x}D_{ict}^{x}+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ict}$$ $\\theta(s_{ict})$ 表示受教育年龄的收入函数，一般线性表示。 $D_{ict}^{x}$ 为生命周期每个年龄段的虚拟变量。 虚拟变量（dummy)知识点 回顾一下计量中虚拟变量（dummy) 的知识点： 一般是 n 个分类为避免共线性生成 n-1 个虚拟变量。也就是说这里如果 5 年一段，30 年会分成 6 段，那么一般省略 0-4 年这段，生成 5 个虚拟变量。生成的系数都是和遗漏部分相比得出的结论。也就是说，每个系数是相较于 0-4 年分段的增长水平。 $\\gamma_{t}$: 时间效应。$\\chi_{c}$ 个体效应。 直接用这个式子回归，$D_{ict}^{x}$、$\\gamma_{t}$、$\\chi_{c}$ 具有共线性，Deaton 法方法是给 $\\gamma_{t}$、$\\chi_{c}$ 额外施加一个线性约束。当我们设置只有队列效应，时间效应为 0 时，需要满足 $\\sum_{t=0}^{T}\\gamma_{t}t=0$。我们可以通过“标准化” $\\gamma_{t}$ 实现这一点： 定义 $$\\quad d_t^*=d_t-[(t-1)d_2-(t-2)d_1]$$ $t$ 是年份标号，当这条数据是 $t$ 年时，则为 1，否则为 0。对应 stata 操作就是 tab year ,gen(d) 举例如下， 数学变形 对于 $$ \\begin{align*} \u0026d_1 = \\begin{bmatrix} 1 \u00260 \u00260 \u00260 \u00260 \\end{bmatrix}\\newline \u0026d_2 = \\begin{bmatrix} 0 \u0026 1 \u0026 0 \u0026 0 \u0026 0 \\end{bmatrix}\\newline \u0026d_3 = \\begin{bmatrix} 0 \u0026 0 \u0026 1 \u0026 0 \u0026 0\\end{bmatrix}\\newline \u0026d_4 = \\begin{bmatrix} 0 \u0026 0 \u0026 0 \u0026 1 \u0026 0\\end{bmatrix}\\newline \u0026d_5 = \\begin{bmatrix} 0 \u0026 0 \u0026 0 \u0026 0 \u0026 1 \\end{bmatrix} \\end{align*} $$ 生成 $d^\\ast_t = d_t + (t-2) d_1 - (t-1)d_2$ $$ \\begin{align*} d^\\ast_3 = \\begin{bmatrix} 1 \u0026 -2 \u0026 1 \u0026 0 \u0026 0\\end{bmatrix}\\newline d^\\ast_4 = \\begin{bmatrix} 2 \u0026 -3 \u0026 0 \u0026 1 \u0026 0\\end{bmatrix}\\newline d^\\ast_5 = \\begin{bmatrix} 3 \u0026 -4 \u0026 0 \u0026 0 \u0026 1\\end{bmatrix} \\end{align*} $$ 可以发现每个 $d_i^{*}$ 组内之和为 0，同时 $d_i^{*}$ 组间满足：$-(t-1) + (t-2) + 1 = 0$ 数据源（局部）：户籍制度下劳动力的经验人力资本:生命周期视角《中国工业经济》图中d3star和d4star就是估计出的年份效应标准化处理后的虚拟变量\r","date":"2024-01-19","objectID":"/zh-cn/posts/hlt/:3:0","tags":["文献阅读","Stata"],"title":"HLT: 生命周期与工资分解","uri":"/zh-cn/posts/hlt/"},{"categories":["经济学习"],"content":"高阶差分法估计 Deaton 估计年份、队列效应其实是有一点极端了，要么通吃，要么平分，被后来人批判“没有理论基础”。有学者提出，我们求不了增长率（一阶导数），那我们就利用高阶差分估计二阶及其以上的，这样就可以验证年份、群组效应的大致形状了！ 想看超细节推导建议查看《Disentangling age, cohort and time effects in the additive model》（McKenzie 等，2006）9。 对于估计式： $$ ln(w_{ict})=\\alpha+\\theta(s_{ict})+f(x_{ict})+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ict} $$ 直接回归会有共线性的问题——年龄+出生年份=当前年份。我们无法直接估计 $\\gamma_t$、$\\chi_t$ 的形式（例如凹凸性），但我们可以通过差分法，研究分组相减后的高阶差分的性质，进而往低阶差分估计。 此处生命周期模型中，教育年份是线性估计且容易分解，我们先忽略掉10。个体编号为 $i$ ,按照生命周期进行队列分组 $c$ ， $k$ 是工作经验，等于 $t-c$。每组队列对应方程如下： $$ y_{ct}=\\alpha+\\beta _kx_{ct}+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ct} $$ 强调！也就说 $\\beta_{\\color{red}{k}}$ 的 $\\color{red}{k}$ 的估计与 $\\color{blue}{k=t-c}$ 密切相关！！！！我们正是利用这一点进行高阶差分估计。 我们在同一组内（例如选择中年那一组 $c_1$ ），使用 $y_{c_1,t_2}$ 的数据减去 $y_{c_1,t_1}$ 进行组内时间上的一阶差分： 生命周期中，每组队列时间差均匀分布，基本五年一组，也就是 $$ (x_{ci,t+1}-x_{ci,t})=(x_{cj,t+1}-x_{cj,t})=\\Delta x_t $$ 于是式子可以进行以下变形： $$ \\begin{align} \u0026y_{c_1,t_2}-y_{c_1,t_1}\\newline \u0026=(\\beta_{\\color{red}{k_{2}}}- \\beta_{\\color{red}{k_{1}}})(x_{c_1,t_2}- x_{c_1,t_1})+(\\gamma_{t_2}-\\gamma_{t_1})+(\\varepsilon_{c_1,t_2}-\\varepsilon_{c_1,t_1})\\newline \u0026=(\\beta_{\\color{red}{k_{2}}}- \\beta_{\\color{red}{k_{1}}})\\Delta x_t+(\\gamma_{t_2}-\\gamma_{t_1})+(\\varepsilon_{c_1,t_2}-\\varepsilon_{c_1,t_1})\\newline \\end{align} $$ 对应的时间关系 $k=t-c$，我们再对另一个同一组内进行时间上的一阶差分。 我们选择相对 $c_{1}$ 组更年轻的一组 $c_{0}$（视为青年组）, 得到 $k_2=t_1-c_0,k_3=t_2-c_0$。 此时得出一阶差分： $$ \\begin{align} \u0026y_{c_0,t_2}-y_{c_0,t_1}\\newline \u0026=(\\beta_{\\color{red}{k_{3}}}- \\beta_{\\color{red}{k_{2}}})\\Delta x_t+(\\gamma_{t_1+1}-\\gamma_{t_1})+(\\varepsilon_{c_0,t_2}-\\varepsilon_{c_0,t_1})\\newline \\end{align} $$ 此时，我们把 $c_1$ 和 $c_0$ 两组时间一阶差分再相减： $$ \\begin{align} \u0026[y_{c_1,t_2}-y_{c_1,t_1}]-[y_{c_0,t_2}-y_{c_0,t_1}]\\newline \u0026=(\\beta_{\\color{red}{k_{2}}}- \\beta_{\\color{red}{k_{1}}})\\Delta x_t+(\\gamma_{t_1+1}-\\gamma_{t_1})+(\\varepsilon_{c_1,t_2}-\\varepsilon_{c_1,t_1})\\newline \u0026-(\\beta_{\\color{red}{k_{3}}}- \\beta_{\\color{red}{k_{2}}})\\Delta x_t-(\\gamma_{t_1+1}-\\gamma_{t_1})-(\\varepsilon_{c_0,t_2}-\\varepsilon_{c_0,t_1})\\newline \u0026=[(\\beta_{\\color{red}{k_{2}}}- \\beta_{\\color{red}{k_{1}}})-(\\beta_{\\color{red}{k_{3}}}- \\beta_{\\color{red}{k_{2}}})]\\Delta x_t-\\Delta_{c}\\Delta_{t}\\varepsilon_{c_{0},t_{2}} \\end{align} $$ 我们可以发现，此时这个高阶差分不含有时间效应 $\\gamma_t$ 和队列效应 $\\chi_c$。 $[(\\beta_{\\color{red}{k_{j}}}- \\beta_{\\color{red}{k_{j-1}}})-(\\beta_{\\color{red}{k_{j+2}}}- \\beta_{\\color{red}{k_{j}}})]$ 也具有几何含义。对于式子： $$ y_{ct}=\\alpha+\\beta _kx_{ct}+\\gamma_{t}+\\chi_{c}+\\varepsilon_{ct} $$ $[(\\beta_{\\color{red}{k_{j}}}- \\beta_{\\color{red}{k_{j-1}}})-(\\beta_{\\color{red}{k_{j+2}}}- \\beta_{\\color{red}{k_{j}}})]$ 是 $\\beta _k$ 的斜率。类似于我们无法看出函数一阶导的情况，但是我们搞导了二阶导的情况，二阶导能告诉我们的，正是函数的凹凸性和增长率的边际作用。于是对于每一组 $c$ ,我们都有了它二阶斜率的估计量。 同样的方法，我们估计三种效应的高阶差分如下： 以下是个人配平的，就是利 $k=t-c$ 消掉参数。 $$ \\begin{cases} \\text{age effect} \\newline :[y_{c_i,t_{i+1}}-y_{c_i,t_i}]-[y_{c_{i-1},t_{i+1}}-y_{c_{i-1},t_i}]\\newline \\text{time effect}\\newline :[y_{c_i,t_{i}}-y_{c_{i},t_{i-1}}]-[y_{c_{i+1},t_{i+1}}-y_{c_{i+1},t_{i} }]\\newline\\text{chort effect} \\newline :[y_{c_i,t_{i}}-y_{c_{i-1},t_i}]-[y_{c_{i+1},t_{i+1}}-y_{c_{i},t_{i+1} }]\\newline \\end{cases} \\newline $$ ","date":"2024-01-19","objectID":"/zh-cn/posts/hlt/:3:1","tags":["文献阅读","Stata"],"title":"HLT: 生命周期与工资分解","uri":"/zh-cn/posts/hlt/"},{"categories":["经济学习"],"content":"HLT 法 全名 heckman-lochner-taber。这里的介绍重点参考《“golden ages”: A tale of the labor markets in China and the united states》（Hanming 等，2023）的附录部分11 。原文见《Life cycle wage growth across countries》（Lagakos 等，2018） 前文的方程估计把工资贡献分解为：工作经验、队列、年龄、教育。 这是导致共线性的原因，这种分解却并非永久存在的。 如果从生命周期视角审视人的工资增长，可以提出一个假设：一个人在即将退休时，他会放弃任何人力资本投入，这时候他的工资增长来源只有时间效应。 此时在两个队列中，同样的 $t$ 年份时间段内，老年组工资增长率为 1%；青年组增长率为 5%，那么说明 1%是时间效应贡献的，4%是队列效应+工作经验12 。那么可以通过不断调整收入效应来研究各组别老年时时间效应是否趋于一致。 此时，折旧率 $\\delta$ 可用来进行敏感度测试。 HLT\r相关附件13 该算法文件可以反复使用，只是 do 文件中的一个变量“perwt”让人在意，参考解释为“individual weights”。我看到的所有文章都没有交代怎么生成的样本权重变量。参考美国 INPUMS 统计局的解释是“一个样本代表了总体多少人”。也可以参考下面这篇文章了解样本权重的重要性和生成方式: 如何对抽样调查数据进行加权？ ——关于CHIP数据权重的建议 数据源：《户籍制度下劳动力的经验人力资本:生命周期视角》确实可以看出根据不同省份不同年份的抽样进行了加总。其实如果更严格应该按照年龄段的抽样进行加权，但这样显然是极难实现的。\r","date":"2024-01-19","objectID":"/zh-cn/posts/hlt/:4:0","tags":["文献阅读","Stata"],"title":"HLT: 生命周期与工资分解","uri":"/zh-cn/posts/hlt/"},{"categories":["经济学习"],"content":"批发的创新 首先感叹 top 5 的期刊就是不一样，在经济意义、计量识别上都做到了创新。Deaton 大神在学术创新上既开创了 APC 伪面板的诸多估计方法，又扩展了经济家庭分析的理论面。从明瑟方程到借助生命周期理论处理 apc 面板的内生性，理论创新，算法创新这些是 top 5 干的事。 $$ \\text{minser function}\\rightarrow \\text{APC model} \\rightarrow \\text{APC+life cycle} $$ 接下来往下，确实就是批发微创新了—— 数据创新：用完全一样的框架分析不同数据，例如智利的一篇《Returns to work experience in chile》，使用智利本土数据重新跑了一下。中国人口数据库一直是不缺的，例如 CFPS、CGSS、CHIP、CMDS…… 本土变量创新： 原算法比较的是国家之间，《户籍制度下劳动力的经验人力资本: 生命周期视角》换成了外来劳动力和流动劳力, 结合我国的义务教育法也重新估算了“潜在工作经验”。如果去多多检索，还有换成工农业、高中生大学大专教育分类、性别分类的文章。 缝合创新： 还是以《户籍制度下劳动力的经验人力资本: 生命周期视角》为例子：缝合了生命周期的测量和人力资本的测量，把两个框架缝合。 分析变量创新 ：个人觉得《golden ages: A Tale of the Labor Markets in China and the United States》的创新让人印象深刻——利用算法没有挖掘的其他因素。HLT 原文比较了生命周期曲线的陡峭，而作者另辟曲径，比较了生命周期的顶点变动，把其称为“golden ages”。别人比较了曲线，我就比较拐点，别人比较了空间差异，我就再多关注时间差异，并且取名为“中美黄金年龄的演变”。旧瓶新酒，亦有新芳——讲故事的能力实在让人拍案叫绝。 盖庆恩, 胡涟漪, 王美知等. 户籍制度下劳动力的经验人力资本: 生命周期视角[J/OL]. 中国工业经济,2023 (11): 62-80[2024-01-16].https://doi.org/10.19581/j.cnki.ciejournal.2023.11.003. ↩︎ Lagakos D , Moll B , Porzio T ,et al. Life Cycle Wage Growth across Countries[J]. University of Chicago, 2017 (2). DOI: 10.1086/696225. ↩︎ 其他估计方法还有工具变量法、双胞胎数据、内部收益函数（泛函最优化分析）、双重差分 ↩︎ Heckman J J, Lochner L J, Todd P E. Earnings functions, rates of return and treatment effects: The Mincer equation and beyond[J]. Handbook of the Economics of Education, 2006, 1: 307-458. ↩︎ 《Arrival of Young Talent: The Send- Down Movement and Rural Education in China》（陈祎等，2020) 使用了队列 did 估计上山下乡对中国教育的影响。 ↩︎ Ribas R P. Using pseudo-panels to analyse labour market transitions[J]. 2022. ↩︎ 我看 2015 年得诺奖时，大部分人都聊的是援助的文章，没有多少谈论他对劳经的贡献 ↩︎ Deaton A. The analysis of household surveys: a microeconometric approach to development policy[M]. World Bank Publications, 1997. ↩︎ McKenzie D J. Disentangling age, cohort and time effects in the additive model[J]. Oxford bulletin of economics and statistics, 2006, 68 (4): 473-495. ↩︎ 个人感觉没有详细讨论受教育年龄就是这个方法的薄弱之处，尤其是如今的工作和考研之争。不过在线性假设下，教育变量也会因为差分被消除 ↩︎ Fang H, Qiu X. “Golden Ages”: A Tale of the Labor Markets in China and the United States[J]. Journal of Political Economy Macroeconomics, 2023, 1 (4): 665-706. ↩︎ Fang H, Qiu X. “Golden Ages”: A Tale of the Labor Markets in China and the United States[J]. Journal of Political Economy Macroeconomics, 2023, 1 (4): 665-706. ↩︎ 下载后解压后缀名换成 zip 就行，是 statado 文件和相关论文的 pdf ↩︎ ","date":"2024-01-19","objectID":"/zh-cn/posts/hlt/:5:0","tags":["文献阅读","Stata"],"title":"HLT: 生命周期与工资分解","uri":"/zh-cn/posts/hlt/"},{"categories":["软件工具","经济学习"],"content":" RSS: 电子摘要聚合，用来提醒我们网站更新，并且显示部分信息。基本上期刊网站和著名博客都带有 RSS 订阅地址，这里主要是列举下可以订阅的经济期刊。 ","date":"2023-12-27","objectID":"/zh-cn/posts/zoterorss/:0:0","tags":["Zotero","文献阅读","RSS"],"title":"Zotero：RSS 聚合订阅","uri":"/zh-cn/posts/zoterorss/"},{"categories":["软件工具","经济学习"],"content":"Zotero 如何导入 RSS 订阅 推荐参考：Feed RSS zotero 6 载入订阅：文库选项-新建订阅-从网址导入-输入网站 zotero6如何导入rss订阅\r输入后就可以识别编辑名称了\rZotero 7 (也就是 zotero beta) 载入订阅: 右键订阅 右键订阅目录标题。不过我的zotero这时候总是无法响应？解决办法是重启zotero后再右键点击这里\r","date":"2023-12-27","objectID":"/zh-cn/posts/zoterorss/:1:0","tags":["Zotero","文献阅读","RSS"],"title":"Zotero：RSS 聚合订阅","uri":"/zh-cn/posts/zoterorss/"},{"categories":["软件工具","经济学习"],"content":"期刊 RSS 订阅区别 同一期刊 RSS 订阅类型也有不同分类： RSS Feed-Latest/Recent: 只包含最新一期的推送。 RSS Feed-Advance Articles: 预录取。没正式见刊，但即将录取。最后见刊时内容可能还有修改。 RSS Feed-Open Access: 公开获取。期刊内容都要付费解锁，open access 指完全免费开放的文章。 RSS Feed-Most cited : 最多引用。 RSS Feed-Editor’s Choice : 编辑推荐。基本上也是完全免费开放，用来打样的。 图片截图于期刊《The Quarterly Journal of Economics》\r","date":"2023-12-27","objectID":"/zh-cn/posts/zoterorss/:2:0","tags":["Zotero","文献阅读","RSS"],"title":"Zotero：RSS 聚合订阅","uri":"/zh-cn/posts/zoterorss/"},{"categories":["软件工具","经济学习"],"content":"国外经济期刊 RSS 省流列表： AEA精彩集锦： https://www.aeaweb.org/research/rss-feed Econometrica最新一期： https://onlinelibrary.wiley.com/feed/14680262/most-recent Econometrica最多引用： https://onlinelibrary.wiley.com/feed/14680262/most-cited JPE最新一期： https://www.journals.uchicago.edu/action/showFeed?type=etoc\u0026feed=rss\u0026jc=jpe QJE最新一期： https://academic.oup.com/rss/site_5504/3365.xml QJE预备录取： https://academic.oup.com/rss/site_5504/advanceAccess_3365.xml QJE开放获取： https://academic.oup.com/rss/site_5504/OpenAccess.xml QJE编辑推荐： https://academic.oup.com/rss/site_5504/3365_56068.xml RES最新一期： https://academic.oup.com/rss/site_5508/3369.xml RES预备录取： https://academic.oup.com/rss/site_5508/advanceAccess_3369.xml RES开放获取： https://academic.oup.com/rss/site_5508/OpenAccess.xml BIS研究论文 https://www.bis.org/doclist/bis_fsi_publs.rss BIS数据集： https://www.bis.org/doclist/all_statistics.rss JAE最新一期： https://onlinelibrary.wiley.com/feed/10991255/most-recent JAE最多引用： https://onlinelibrary.wiley.com/feed/10991255/most-cited JLE最新一期 https://www.journals.uchicago.edu/action/showFeed?type=etoc\u0026feed=rss\u0026jc=jole *********************************************** *下面两个期刊是通过间接创建rss的方式进行的订阅，因此只显示标题 NBER最近工作论文推送 https://back.nber.org/rss/new.xml CER最新一期 https://rss.sciencedirect.com/publication/science/1043951X American Economic Review 《American Economic Review》（简称 AER）期刊网没有自己的 RSS 源，但是它归“American economic association”（简称 AEA) 管理。AEA 会定期更新旗下期刊的研究亮点（Highlight) 总结。 RSS 如下： https://www.aeaweb.org/research/rss-feed Econometrica 偏向统计学计量分析 RSS 如下： 最新一期： https://onlinelibrary.wiley.com/feed/14680262/most-recent 最多引用： https://onlinelibrary.wiley.com/feed/14680262/most-cited Journal of Political Economy Journal of Political Economy (简称 JPE）归芝加哥大学管，芝加哥大学旗下全部期刊的 RSS 源可以参见如下 PDF 链接—— 芝加哥大学期刊RSS源 RSS 如下： https://www.journals.uchicago.edu/action/showFeed?type=etoc\u0026feed=rss\u0026jc=jpe The Quarterly Journal of Economics The Quarterly Journal of Economics（简称 QJE） RSS 如下： 最新一期： https://academic.oup.com/rss/site_5504/3365.xml 预录取： https://academic.oup.com/rss/site_5504/advanceAccess_3365.xml 开放获取： https://academic.oup.com/rss/site_5504/OpenAccess.xml 编辑推荐： https://academic.oup.com/rss/site_5504/3365_56068.xml Review of economic studies Review of economic studies (简称 RES） RSS 如下： 最新一期： https://academic.oup.com/rss/site_5508/3369.xml 预备录取： https://academic.oup.com/rss/site_5508/advanceAccess_3369.xml 开放获取： https://academic.oup.com/rss/site_5508/OpenAccess.xml Bank for international settlements Bank for international settlements（简称 BIS），世界清算银行。既提供工作论文，又提供数据。 RSS 如下： 研究论文 https://www.bis.org/doclist/bis_fsi_publs.rss 数据集： https://www.bis.org/doclist/all_statistics.rss Top 5 之外的子领域好刊物 Journal of Applied Econometrics（简称 JAE）发展经济学领域 最新一期： https://onlinelibrary.wiley.com/feed/10991255/most-recent 最多引用： https://onlinelibrary.wiley.com/feed/10991255/most-cited Journal of Labor Economics (简称 JLE）劳动经济学领域 最新一期 https://www.journals.uchicago.edu/action/showFeed?type=etoc\u0026feed=rss\u0026jc=jole National Bureau of Economic Research 著名的经济研究组织机构，发表的论文不少后来都登上了顶级刊物。 NBER最近工作论文推送 https://back.nber.org/rss/new.xml 国外期刊间接 rss 有时候一些期刊官网不提供 rss 但想要看，可以通过论文平台抓取他们的 rss。可以进入爱思唯尔的期刊导航找到我们想要的期刊进行订阅。 爱思唯尔的期刊导航 Elsevier\r不过这种间接订阅的坏处是只有标题，没有摘要、日期、作者 订阅效果\r","date":"2023-12-27","objectID":"/zh-cn/posts/zoterorss/:3:0","tags":["Zotero","文献阅读","RSS"],"title":"Zotero：RSS 聚合订阅","uri":"/zh-cn/posts/zoterorss/"},{"categories":["软件工具","经济学习"],"content":"国内期刊订阅方式 如何查找国内 RSS 国内一般通过知网查找即可 知网出版来源导航 点击想要的期刊\rrss\r注意！zotero7需要手动更改订阅地址 将 navi 修改为 rss 例如：navi.cnki.net/knavi/rss 更改为：https://rss.cnki.net/knavi/rss/GGYY 省流列表 经济研究： https://rss.cnki.net/knavi/rss/JJYJ 经济学（季刊）： https://rss.cnki.net/knavi/rss/JJXU 世界经济： https://rss.cnki.net/knavi/rss/SJJJ 中国工业经济： https://rss.cnki.net/knavi/rss/GGYY 管理世界： https://rss.cnki.net/knavi/rss/GLSJ 数量经济技术经济研究： https://rss.cnki.net/knavi/rss/SLJY ","date":"2023-12-27","objectID":"/zh-cn/posts/zoterorss/:4:0","tags":["Zotero","文献阅读","RSS"],"title":"Zotero：RSS 聚合订阅","uri":"/zh-cn/posts/zoterorss/"},{"categories":["软件工具","经济学习"],"content":"其他有趣的 RSS 知乎每日精选 https://www.zhihu.com/rss 陶哲轩的博客 https://terrytao.wordpress.com/feed/ 当时关注，主要好奇的是陶哲轩如何在数学研究中使用 GPT，那时候美国在发布管理 AI 的意见征集。 博客原帖 Greg Mankiw 的博客：没错，就是出《宏观经济学》《经济学原理》教材那位。 https://gregmankiw.blogspot.com/feeds/posts/default ","date":"2023-12-27","objectID":"/zh-cn/posts/zoterorss/:5:0","tags":["Zotero","文献阅读","RSS"],"title":"Zotero：RSS 聚合订阅","uri":"/zh-cn/posts/zoterorss/"},{"categories":["软件工具","经济学习"],"content":"很多时候，我们总强调数据量的庞大，认为数据越多就越有代表性，从而忽视了数据结构的分析，进而导致了错误的估计。不恰当的估计方法会带来与现实完全相反的结果。为更好地了解数据结构，经济学有了固定效应、调节效应、异质性分析、稳健性分析。这些看起来是实证范式截然不同的部分，但个人理解他们都是为了区分数据结构进行分类，以保证我们的结论是真正有效的。因此，本文想从数据结构与变量分类的角度重新理一下实证论文的操作意义，并且区分 stata 不同的回归命令。 下面以范里安《微观经济学：现代观点》的第 17 章“测度”中的一个例子引入。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:0:0","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"一、统计学的悖论 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:1:0","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"辛普森悖论 假设我们想要研究“咖啡消费与收入”的关系。有这样一组数据，4 位男性和 4 位女性，以及他们的收入和咖啡消费情况。 Stata 数据生成如下： clear input str6 gender income coffee \"woman\" 8 1 \"woman\" 9 2 \"woman\" 10 3 \"woman\" 11 4 \"man\" 1 6 \"man\" 2 7 \"man\" 3 8 \"man\" 4 9 end 然后我们可以画出散点图进行三次不同样本数的拟合，分别是整体一次，男性一次，女性一次： 用这个风格画stata基本能做到和R语言效果类似——绘图代码放在下面：\r用这个风格画 stata 基本能做到和 R 语言效果类似——绘图代码放在下面： *ssc install schemepack, replace //绘画风格命令 *介绍详见：https://www.lianxh.cn/news/e76a8a7e3c6c4.html set scheme gg_w3d twoway scatter coffee income if gender == \"man\",color(blue) msize(3) || scatter coffee income if gender == \"woman\",color(green) msize(3) msymbol(triangle) || lfit coffee income if gender == \"man\",color(red) || lfit coffee income if gender == \"woman\" ,color(black) || lfit coffee income ,color(red) lpattern(dash) /// legend(order(1 \"男性\" 2 \"女性\" 3 \"男性拟合\" 4 \"女性拟合\" 5 \"整体拟合\" )) /// xtitle(\"income\") ytitle(\"coffee\") /// title(stata style：gg_w3d) /// note(\"By 滑翔闪\") 如果我们不管三七二十一，直接对总体数据进行回归拟合，我们会得出来 收入越多，咖啡消费越低 的结论，但如果我们分别对男性和女性进行回归拟合，得到的结论却完全相反——“收入越多，咖啡消费越多”。显然，后者更贴合现实情况。 这就是 $\\boxed{辛普森悖论}$：局部的相关性和整体的相关性可能呈现截然不同的结果。 辛普森悖论在生活中比比皆是，例如各个年龄段的人服用药物后的疗效测量、各个学院录取学生是否有性别歧视、警察执法是否有种族歧视…… 我们不但要关心数据的绝对值，例如某个结果的性别比； 还有观察相对数值，例如警察执法更关注有色人种，那么前提是有色人种是不是犯罪率更高些； 《An alternative test of racial prejudice in motor vehicle searches: Theory and evidence》（2006）1中就是基于“不同人种犯罪率与警察执法关注度”来研究佛罗里达的警察执法是否涉及种族歧视。自从佛洛依德（Floyd）的“I can’t breathe”出圈后，很多书都热衷于通过这个事件引出真正的反事实推断2（例如《基本无害的计量经济学》（Joshua D. Angrist）） 还要注意内部的分层讨论，分种族、分地域、分性别……也就是上面这个喝咖啡的例子。 导致辛普森悖论的其中一个原因就是遗漏变量和混杂因子3——在咖啡消费与收入中，性别是一个重要影响因素，我们遗漏了，但是通过分组拟合实现了控制。 其他类似的悖论还有幸存者偏差、柏克森悖论…… 两者是无意识地筛选了样本从而影响了分析结果。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:1:1","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"二、面板数据 截面数据同一时间/对象不同空间、时间序列同一空间/对象不同时间、面板数据不同时间不同空间/对象。 面板数据天然的多了两个值得讨论的变量——空间/对象和时间。 经济学常使用面板数据分析现实。 $$ 数据\\begin{cases} 一维\\begin{cases}时间序列：时间\\newline 截面数据：空间 \\end{cases}\\newline 二维(面板数据)：时间+空间\\newline 高维：更多维度 \\end{cases}\\newline $$ $$ 面板数据\\begin{cases} 平衡/非平衡（时间空间数之比是否一致）\\newline 长/短（空间数是否少于时间数） \\end{cases}\\newline $$ 对于数据面板，我们首先要明确哪个维度对应了时间、哪个维度对应了空间/对象。其实就是一个分组的过程，你可以从行业的角度分组，也可以每个人单独编号 id 分组。用 stata 的语言来说，就是： xtset id year ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:2:0","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"三、残差经济、数学、统计含义 普通的回归方程OLS是： $$ Y=\\alpha X +u $$ 直接对数据整体进行拟合。当我们知道辛普森悖论后，我们知道这样做回归是整体拟合，可能与局部拟合是完全不一样的结果。残差$ \\color{red}{u} $遗漏的我们没关注的信息太多了，例如性别分类。所以我们要进行分组，把性别变量 M 从残差 $\\color{red}{u}$ 中分解出来。 $$ Y=\\alpha X +\\beta M+u $$ 其实这时候就有了 $\\boxed{控制变量}$。注意！这里是我个人从分组的视角引出控制变量，是强调控制变量在选择性偏差的作用，这种分组需要充分考虑控制变量对我们研究的实际经济意义，例如大量研究表明不同性别的咖啡消费习惯确实不同。控制变量的选择的其他重要作用是减少混杂因子干扰；此外，我们还要考虑最优拟合、无偏估计等统计学上的数学意义。 有了面板数据后，我们的式子变成了二维，有了对象\\空间的编码 i 和时间的编码 t 。普通的回归方程 OLS 变为： $$ Y_{\\color{red}{it}}=\\alpha X_{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+u_{_{\\color{red}{it}}} $$ 为了进一步分解时间和空间/对象两个维度的残差的经济解释，我们又继续分解 $$ Y_{\\color{red}{it}}=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+\\lambda_{\\color{red}{i}}+\\gamma_{\\color{red}{t}}+u^{\\prime } $$ 于是式子就变成了这样： $$ Y_{\\color{red}{it}}=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+\\lambda_{\\color{red}{i}}+\\gamma_{\\color{red}{t}}+u^{\\prime } $$ 首先我们来分析他们的经济意义——变量： $\\boxed{\\gamma_{\\color{red}{t}}}:$ 这部分残差是时间维度的分解，说明这部分变动只和时间相关，是时间效应，例如时令蔬菜产量显然和季节相关，长期来看技术自然而然的稳定进步。同时这些效应是每个个体共享的，也就是所有样本都在随时间同步改变的变量。 $\\boxed{\\lambda_{\\color{red}{i}}}:$ 这部分残差是空间/对象维度的分解，说明这部分变动只和个体相关，是个体效应，例如苹果公司就是拖了很久才出 C 口，这就是他们的企业文化，只有苹果有这种想法，而且相当长的时间里，同类企业里只有他们坚持这么干。 $\\boxed{u_{\\color{red}{it}}^{\\prime }}:$ 现实值和估计值的偏差，在我们的模型解释之外, 是残差。导致的原因有很多，例如测量误差、遗漏变量、模型不符合现实…… 然后我们来分析他们的数学意义——截距： $$ Y_{\\color{red}{it}}=\\alpha X_{_{\\color{red}{it}}}+\\beta D_{_{\\color{red}{it}}}+(\\lambda_{\\color{red}{i}}+\\gamma_{\\color{red}{t}}+u^{\\prime }) $$ 显然，$(\\lambda_{\\color{red}{i}}+\\gamma_{\\color{red}{t}}+u^{\\prime })$ 作为常数，在线性方程的结构中就是截距！ 最后我们来分析他们的统计学意义——残差： 是否有不同的截距，这与残差的分布情况、异方差、相关性等方面密切相关。固定效应、随机效应、混合回归的一个区别是对残差的分解，我们认为我们的模型是否能解释个体效应、时间效应。 $$ Y_{\\color{red}{it}}=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+(\\lambda_{\\color{red}{i}}+\\gamma_{\\color{red}{t}}+u^{\\prime }) \\newline \\xrightarrow{分解} 可解释部分+\\color{blue}{不可解释部分}(误差) $$ 先放总结图，接下来展开解释 随机效应假设更加严格，也就是数据要求更高，因此大家才倾向于使用固定效应（也就是允许个体效应存在内生性）。 先放总结图，接下来展开解释\r通过经济意义、数学意义、统计意义的大致介绍，对于面板数据，我们有了不同的分解方法： $$ Y_{\\color{red}{it}}=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+(\\lambda_{\\color{red}{i}}+\\gamma_{\\color{red}{t}}+u^{\\prime }) $$ ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:3:0","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"1、混合 OLS $\\boxed{混合OLS}$ : 当 $Y_{\\color{red}{it}}=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+(\\lambda_{\\color{red}{i}}+\\gamma_{\\color{red}{t}}+u^{\\prime })=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+u$ 时，也就是虽然我们有很多方法，比如可以按照年份分组、按照个体分组，但是还是把他们每个都看做独特的散点混合在一起进行回归，此时也就可以看做所有散点的拟合线共享一个截距。 此时假设个体效应不存在：$\\lambda_{\\color{red}{i}}=0$ 。 同时假设剩余残差与解释变量、控制变量都不相关：$Cov（u|M_{_{\\color{red}{it}}},X_{_{\\color{red}{it}}}） =0$，残差分布也满足正态分布。 $$ Y_{\\color{red}{it}}=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+u $$ 混合 OLS 就是用最小二乘法笼统地对所有点进行整体回归，所有散点的拟合线共享了一个截距 u4。因此混合 OLS 也叫“长截面回归”或者“合并截面回归”。 第一列是按照年份分组，每个时间截面的散点拟合共享一个截距；第二列是按照个体分组，每个个体截面的散点拟合共享一个截距；第三列的图就是混合OLS，所有散点在一个面上直接进行拟合\r第一列是按照年份分组，每个时间截面的散点拟合共享一个截距；第二列是按照个体分组，每个个体截面的散点拟合共享一个截距；第三列的图就是混合 OLS，所有散点在一个面上直接进行拟合 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:3:1","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"2、固定效应 分为个体固定效应和时间固定效应（双固定）。 个体固定效应： $\\boxed{LSDV} :$ 混合 OLS 是对所有$\\lambda_{it}$一视同仁。想象一下，我们对同一个人观测多次，在混合 OLS 看来每次重复观测都有等同的价值。固定效应不这么认为，固定效应认为个体具有某种性质，重复观测获得的价值有限，所以我们需要生成虚拟个体变量（n-1 个）加入回归不对每类个体进行标识，单独估计每一个个体的效应，也就是“最小二乘变量模型（Least Square Dummy Variable Model）”（简称LSDV）。 会生成很多控制变量，所以 $R^2$ 很好。 $$ \\begin{align} Y_{\\color{red}{it}}\u0026=\\alpha X_{\\color{red}{it}}+\\beta M_{_{\\color{red}{it}}}+\\alpha_{1}D_{1}+\\alpha_{2}D_{2}+\\cdots+\\alpha_{N}D_{N}+u_{\\color{red}{it}}\\newline \\end{align} $$ 个体效应——因果关系示意图。将个体效应看做混淆因子，通过控制进行截断 $\\boxed{组内估计}$，固定效应假定个体效应与解释变量相关，因此我们要利用组内离差法消除这种相关，类似去中心化——进行减去分组内组内均值的处理5。 平均值取同一个变量，不同年份的数值的平均: $\\bar X_i = \\frac{\\sum_{t=n}^{t=1}{X_{it}}}{t}$ 补充 面板数据的方差分析。当我们设定好了 xtset id year 后，id 可能是空间编号、也可能是行业编号、也可能是个体编号，我们就有了 n 个小组，每个组内部有有方差，就是组内方差；每组之间也有方差，就是组间方差。进行方差分析有助以确认我们研究的分组是否合适。 这里采用的组内估计的方法，比组间估计更有效。论证过程为伍德里奇计量经济学课后题，这里不再展开。 $$ Y_{\\color{red}{it}}-\\bar Y_{\\color{red}{i}}=\\alpha (X _{_{\\color{red}{it}}}-\\bar X _{\\color{red}{i}})+\\beta (M_{_{\\color{red}{it}}}-\\bar M _{\\color{red}{i}})+(u_{_{\\color{red}{it}}}-\\bar u _{\\color{red}{i}}) $$ 这个式子也能理解成滞后的 $\\boxed{一阶差分法}$ 。 $$ Y_{\\color{red}{it}}-\\bar Y_{\\color{red}{i}}=Y_{\\color{red}{i,t}}-Y_{\\color{red}{i,t-1}} =\\alpha (X _{_{\\color{red}{it}}}-X _{\\color{red}{i,t-1}})+\\beta (M_{_{\\color{red}{it}}}- M _{\\color{red}{i,t-1}})+(u_{_{\\color{red}{it}}}- u _{\\color{red}{i,t-1}}) $$ 综上，目前个体固定效应有了三种估计方程：虚拟变量最小二乘、组内估计、一阶差分。它们的估计基本上是一致的，不同点主要体现在数据假设上。一阶差分消除了个体效应，所以无法估计不随时间变化的各种效应。虚拟最小二乘法（LSDV）则要求构造的虚拟变量必须是严格外生的，而且虚拟变量太多可能导致控制变量超出 stata 的运行限制。 $$ \\begin{cases} Y_{\\color{red}{it}}=\\alpha X_{\\color{red}{it}}+\\beta M_{_{\\color{red}{it}}}+\\sum_{1}^{N}{\\alpha_{j}D_{j}}+u_{\\color{red}{it}}\\newline Y_{\\color{red}{it}}-\\bar Y_{\\color{red}{i}}=\\alpha (X _{_{\\color{red}{it}}}-\\bar X _{\\color{red}{i}})+\\beta (M_{_{\\color{red}{it}}}-\\bar M _{\\color{red}{i}})+(u_{_{\\color{red}{it}}}-\\bar u _{\\color{red}{i}})\\newline Y_{\\color{red}{i,t}}-Y_{\\color{red}{i,t-1}} =\\alpha (X _{_{\\color{red}{it}}}-X _{\\color{red}{i,t-1}})+\\beta (M_{_{\\color{red}{it}}}- M _{\\color{red}{i,t-1}})+(u_{_{\\color{red}{it}}}- u _{\\color{red}{i,t-1}}) \\end{cases} $$ 目标都是为了正确估计个体效应与控制变量相关时，被解释变量的系数$\\alpha $，而且上面的四个估计式的参数$ \\alpha $也相同： $$ Y_{\\color{red}{it}}=\\alpha X _{_{\\color{red}{it}}}+\\beta M_{_{\\color{red}{it}}}+\\lambda_{\\color{red}{i}}+\\color{blue}{(\\gamma_{\\color{red}{t}}+u^{\\prime })}\\ $$ ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:3:2","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"*补充：Frisch-Waugh-Lovell Theorem 证明虚拟变量最小二乘、组内估计的系数 $\\alpha$ 相同的引理为“Frisch-Waugh-Lovell Theorem”。 举个极简的例子： 现实的方程是： $$ Y=\\beta_1 X_1+ \\beta_2 X_2 +u_1 $$ 我们想要估计出 $\\beta_1$，但是我们遗漏了变量 $X_1$，只回归了 $X_2$ ,得到以下式子： $$ Y=\\alpha X_2+u_2 $$ 此时我们只需要再用 $X_2、X_1$ 进行回归, 得到如下式子： $$ X_1=\\gamma X_2+u_3 $$ 最后使用残差进行回归： $$ u_2=\\dot \\beta u_3+u $$ 根据已经进行的两个回归的残差，我们可以得到： $$ \\begin{cases} u_2=Y-\\alpha X_2\\newline u_3 = X_1 - \\gamma X_2 \\end{cases} $$ 展开变形，我们直接得到： $$ Y=\\dot \\beta X_1 + (\\alpha-\\gamma)X_2+u $$ 可以发现 $\\dot \\beta=\\beta_1$ ,通过曲线救国，间接估计，我们估计出了我们想要的系数 $\\beta_1$。虚拟二乘回归就是先回归$ Y $与虚拟变量 $D$，然后回归 $X_1$ 与 $D$ ，最后使用残差进行估计，因此系数和组内估计系数回归一致。 通过 FWL 可以证明一阶差分估计和虚拟变量的估计是相等的。 如果想自己尝试，可以使用 stata 自带数据测试6： clear sysuse auto *stata自带测试数据 reg mpg foreign weight *现实想要回归的数据，有两个解释变量foreign和weight reg mpg foreign *漏掉变量weight进行回归 predict mpgResidF, residual *生成残差 reg weight foreign predict weightResidF, residual reg mpgResidF weightResidF *会发现回归系数和reg mpg foreign weight的对应weight系数相同 时间固定效应： 时间固定效应是基于个体固定效应进行添加，添加了后称为“双固定效应”。基于LSDV 法添加 t-1 个虚拟变量。 个体固定效应不随时间改变，所以可以通过一阶离差、组内估计相减去除，但时间效应很难采用相同的做法，因为个体与个体分组、排序都不明确。只能采用LSDV 法添加 t-1 个虚拟变量。 $$ Y_{\\color{red}{it}}=\\alpha X_{\\color{red}{it}}+\\beta M_{_{\\color{red}{it}}}+\\lambda_{\\color{red}{i}}+\\sum_{1}^{T}{\\alpha_{j}D_{j}}+\\color{blue}{u_{\\color{red}{it}}} $$ 如果我们假设每年时间效应相同，为固定值 $\\gamma$，式子也可以简化为： $$ Y_{\\color{red}{it}}=\\alpha X_{\\color{red}{it}}+\\beta M_{_{\\color{red}{it}}}+\\lambda_{\\color{red}{i}}+\\gamma t+\\color{blue}{u_{\\color{red}{it}}} $$ 再次提醒固定效应、随机效应整个分类都是重点关注个体效应带来的内生性问题。个体效应的控制是为了对抗个体特质的内生性（类似“辛普森悖论”的分组，因为用于分组的属性本身影响着我们要研究的模型），时间效应则没有这么强的干扰，所以都是在控制个体效应的基础上再控制时间效应，面板数据一般没有单独控制时间效应，不控制个体效应的做法。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:3:3","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"3、随机效应 固定效应假设个体效应 $\\lambda_{\\color{red}{i}}$ 与个体相关，意思就是相同的个体分组有相同的个体效应，于是我们可以通过离差法、组内估计相减，直接消掉干扰项。随机效应与之相反，假设个体效应 $\\lambda_{\\color{red}{i}}$ 没有与解释变量相关，我们无法通过离差法、组内估计相减消除。 基于把残差看成截距的理解就是，在固定效应看来，每个分组共享一个截距，分组内部相减就消掉这个截距了；在随机效应看来，截距是随机的，不可能按照分组达成统一。 在操作上，类似工具变量，其实是根据残差对变量进行了加权。 要解决的问题是残差的自相关， $$ Y_{\\color{red}{it}}=\\alpha X_{\\color{red}{it}}+\\beta M_{_{\\color{red}{it}}}+\\color{blue}{\\lambda_{\\color{red}{i}}+u_{\\color{red}{it}}} $$ $\\color{blue}{\\lambda_{\\color{red}{i}}+u_{\\color{red}{it}}}$ 虽然与$ X_{\\color{red}{it}}$ 、 $ M_{\\color{red}{it}}$ 不相关，但是由于其具有个体效应，在面板数据中，不同年份、同一个个体是自相关的。正是自相关这点让随机效应区别于混合 OLS。 为了彻底理清这个复合残差 $\\color{blue}{\\lambda_{\\color{red}{i}}+u_{\\color{red}{it}}}$，借助广义最小二乘（GLS）变形消除序列自相关。 $$ Y_{\\color{red}{it}}-\\theta\\bar Y_{\\color{red}{i}}=\\alpha (X _{_{\\color{red}{it}}}-\\theta\\bar X _{\\color{red}{i}})+\\beta (M_{_{\\color{red}{it}}}-\\theta\\bar M _{\\color{red}{i}})+(u_{_{\\color{red}{it}}}-\\theta\\bar u _{\\color{red}{i}}) $$ 我们可以发现 $\\theta=1$ 时，这是固定效应（FE） ； $\\theta=0$ 时，这是混合 OLS。因为随机效应就是借助固定效应和混合 OLS 拆解估计随机效应的残差。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:3:4","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"省流总结 省流总结\r面板数据必定带有时间和空间两个维度，因此混合 OLS、固定效应、随机效应是分解残差的构成。 第一个问题是回答个体效应的内生性。在固定效应的估计又有三种方法。 第二个问题是回答个体效应的自相关。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:3:5","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"四、常用 stata 操作 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:4:0","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"1、reg 命令：经典回归 *混合OLS reg Y X ,robust *固定效应：使用虚拟变量最小二乘回归法（LSDV） reg Y X i.id //单向固定，方法为LSDV reg Y X i.year i.id //双向固定，方法为LSDV ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:4:1","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"2、areg 命令：优化后的 reg 命令 和 reg 的估计完全一样。由于使用 LSDV 法会产生大量虚拟变量，展示结果的表格往往会很长，areg 会用 absorb 进行固定效应，但是通过 absorb（）命令吸收不进行展现。但缺点是 absorb（）中只能放一个。 areg Y X i.year, absorb(id) //双固定 ，方法为LSDV ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:4:2","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"3、xtreg 命令：针对面板数据 xtset id year //设定个体分组和时间变量 *固定效应 xtreg Y X ,fe //单向固定，采用的方式是“组内估计” xtreg Y X i.year ，fe //双向固定,“组内估计”的个体固定效应和LSDV的时间固定效应 sdds *随机效应 xtreg Y X ,re //GLS,广义最小二乘估计 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:4:3","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"4、reghdfe 命令：多维固定 可以进行两个以上的固定效应控制。 *双向固定 reghdfe Y X, absorb(id year) //既然它的命令id和year能等效处理，那么我猜测估计方法依然是LSDV *混合OLS reghdfe Y X, noabsorb *交互变量的固定 reghdfe Y , absorb(year#prov) //year和prov效应的交互影响，也允许定类变量和连续性变量进行交互 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:4:4","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"5、stata 代码验证 *使用stata自带的xtpcse命令专用例子数据 webuse grunfeld,clear *如果没有网络导入，可能是网络问题，需要挂梯子 *数据库站：*https://www.stata-press.com/data/r10/xt.html *也可以直接去下载 reg mvalue invest kstock i.company xtreg mvalue invest kstock ,fe areg mvalue invest kstock , absorb(company) reghdfe mvalue invest kstock , absorb(company) 代码块分别使用了四种命令进行固定效应，固定个体效应，不固定时间效应，结果如下图，可以发现他们的系数估计是完全相同的。 为何截距部分，也就是常数项不同——并未在任何实操书中找到解答。个人认为7是因为各个命令计算残差方式不同影响的。 （1）混合 OLS 是计算一个回归方程与所有的点的残差。 （2）（3）（4）是聚类有了很多系数相同、截距不同的回归方程，每个点和自己对应的回归方程计算方差然后加总。 为何 $R^2$ 不同： （1）（3）（4）都使用的 LSDV 法，所以生成了很多虚拟变量。 （2）用的组间估计，没有生产虚拟变量。 回归表\r顺便一提，当我们把代码换成如下的代码，情况也会发生改变： reg mvalue invest kstock i.company xtreg mvalue invest kstock ,fe r areg mvalue invest kstock , absorb(company) vce(cluster company) reghdfe mvalue invest kstock , absorb(company) xtreg laborinput did i.year, fe robust 回归表\r从图片中可以看出，系数估计相同，标准差也不同。 默认回归是普通标准差，要求数据满足同方差； 添加 r, 也就是 robust 后是稳健标准差，是为了解决数据异方差； 添加 vce (cluster company) 是聚类稳健标准差，是为了解决数据异方差+内部自相关。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:4:5","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"四、机制检验 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:5:0","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"1、机制检验在实证中的灰色地带 辛普森悖论启示我们分组回归和整体回归的结果可能完全相反，原因之一就是遗漏变量。所以我们要添加控制变量。在使用\"面板数据”时，数据多了“时间”和“空间”两个维度。依然可能对研究产生影响，所以我们需要分离“个体效应”和“时间效应”。回答辛普森悖论——此时我们解决的是因果性问题，要求避免内生性。在机制检验中，有人用分组回归或者交互项回归来扩展结论，默认前提——机制检验的新变量不是你忽略的控制变量。 这里有个巨大的问题——在进行机制检验时，你又如何保证没有内生性呢？例如下图，最左边的是因果关系的对撞路径，右边是机制检验的调节效应、中介效应。很显然的地方在于，含有混杂因子的对撞效应依然能满足调节效应和中介效应。所以这又有了一个新的内生性问题！！！！所以朱家祥和张文睿（2021）8说调节效应是不满足统计学的因果关系检验的。在这基础上，江艇（2022）9干脆呼吁取消中介三步法，因为没有意义——这样既无法证明有内生性，也无法证明没有内生性。 于是我们的机制检验就只剩两条路可选 1. 再进一步证明没有内生性。 此时再做一个对照试验（感觉又是一个微缩的经济实证对比）；或者讨论分组回归后残差的与被解释变量的相关性。基于相关关系+理论解释去靠近因果关系。 《因果推断经验研究中的中介效应与调节效应》江艇（2022）\r2. 无需证明，我的变量是天然外生的。 变量从现实意义上来看没有内生性，也就是多扩展理论和经济意义的解释即可。国内最常见的灌水就是四大区域、胡焕庸线，因为从现实意义上来看这些分类就是天然的外生变量。 似乎机制检验似乎就是不完整的小实证，通过残缺的实证步骤大概扩展下结论。个人感觉所有的计量教材中都没有强调过所谓的“机制分析”，只是在国内成为了特定的要求。可见经济学的定量最后还是现实理论+定量各一半的分析。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:5:1","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"2、中介效应：和心理统计的区别 中介效应这部分的观点主要参考了《为什么》（朱迪亚·珀尔） 当我们询问为什么时，回答问题的逻辑链条有两种，一种是原理、一种是过程。 $$ 吃橘子\\rightarrow维生素C\\rightarrow抵抗坏血病\\newline 老人\\rightarrow摔倒\\rightarrow住院\\ $$ 以上面两个路径图为例子，第一个吃维生素 C 抵抗坏血病听起来更像原理性的回答，而老人摔倒更像是过程。我见过许多论坛、社科自媒体视频认为是“经济学偷了心理学的中介效应”——实际情况并非如此。 心理学能够广泛应用中介效应，是因为心理学统计的路径图是： $外界刺激\\rightarrow人体反应、激素变化\\rightarrow行为变化$ ，这样的路径更像原理。经济学则只是这 $变量1\\rightarrow变量2\\rightarrow变量3$ 样的回答，更像一种过程描述，更加宽泛，不像心理学那样看起来贴合原理实质，所以备受质疑。心理学在选择中介变量时限定了是人体表现，经济学的变量并没有这么严格的限制，因此极易出现伪相关。例如在维生素 C 和坏血病中，人们长久以来以为是“水果——橘子”的作用，科斯特北极探险队认为重点在于水果是新鲜的，那么新鲜肉有同样的效果没有准备任何水果，最后大家都得了坏血病。 为回答“辛普森悖论”类似，我们依旧需要中介效应，因为存在“ $\\boxed{中介谬误}$ ” 以 science 上发表的《Sex Bias in Graduate Admissions: Data from Berkeley》10为例，我们得到以下因果关系路径图。 性别对录取率有两个方面的影响路径。 《Sex Bias in Graduate Admissions: Data from Berkeley》\r直接效应：$性别\\rightarrow录取率$ 间接效应： $性别\\rightarrow院系\\rightarrow录取率$，在间接效应中，“院系”就是中介变量。 如果我们直接将\"院系\"作为控制变量，此时展现的是性别-录取率的直接效应，回归会显示女性遭到了歧视。 如果我们只将“居住州”作为控制变量，此时展现的就是性别-录取的直接效应和性别-院系-录取率的间接效应，此时显示女性没有遭到歧视。截然不同的结果就是“辛普森悖论”。在咖啡中，我们犯错了是遗漏了变量；这里犯错是因为控制了“中介变量”。最终结论是，因为女生们敢于申请难度最大的院系所以看起来录取率低，所以院系是重要的中介变量并且不应该随便加以控制。 所以中介变量不应该作为控制变量，同时如果我们要区分直接效应和中介效应，是需要进一步区分的。 ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:5:2","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["软件工具","经济学习"],"content":"3、调节效应：分组回归还是交互项 发现了个超全总结 这一部分主要参考了《回归分析》（谢宇） 对于变量 $Y$ 、$X_1$ 、$ X_2$ 、$D$ 来说，我们产生了不同的估计策略。 分组回归：$Y=\\beta_1 X_1+\\beta_2 X_2+u$ ,然后按照 D 进行分组 引入交互项, 此时还有两种估计： $$ \\begin{cases} Y=\\beta_1 X_1+\\beta_2 X_2+\\beta_3D+\\beta_4 DX_1+u \\newline Y=\\beta_1 X_1+\\beta_2 X_2+\\beta_3DX +u \\end{cases} $$ 交互项和分组回归的作用区别？ 一般来说，交互项强调调节效应、分组回归强调异质性，江艇（2022）认为二者是一个东西。不过，两者确实还是存在一些差别： 首先，存在必须要用分组回归的情况，当虚拟变量大于两组时，例如东西南北中区域异质性讨论，我们不可能用 1-4 来量化他们在交互项中的作用，反复采用 0-1 编号也不符合对照逻辑，此时需要分组回归。其次，存在我们需要研究交互项的情况，也就是替代效应和互补效应。当方程变为 $Y=\\beta_1 X_1+\\beta_2 X_2+\\beta_3DX +u$ 时，研究边际效应，彼此的边际效应会受对方的影响。最后一点，当组间系数较为相似时，分组回归也会被当成一种稳健性检验。 接下来总结经常出现的几个结论看法（不过我感觉这些结论没有权威论文证实）: 统计检验交互项更好，因为有显著性检验（但是现在分组回归似乎也可以检查系数差异的显著性了），且敏感度更高，而且用的是全体样本，分组回归会减少样本量； 数据假设不同，交互项假设只有交互相关的分组存在组间差异，要求更加严格。交互项要求组与组之间控制变量系数要一致，分组回归则不要求。由此有个引申的结论——当一个变量和所有控制变量交互，交互变量估计和分组回归是完全一致的。 不同变量不同讨论，交互项可以分为虚拟变量虚拟变量（建议参考）、虚拟变量连续变量、连续变量连续变量，需要具体分析。（《计量经济学基础》（古扎拉蒂）在虚拟变量部分支持虚拟变量虚拟变量——双重差分法盛行下这点没有争议。) 交互项假设总体上机制检验这里依旧属于灰色地带。只要你的变量逻辑讲得通，分组和交互哪个用显著用哪个就行，都显著更好，就都用上。 什么样的项目适合作为交互 从数学意义来考虑，加法管截距，乘法管斜率。 从图中可以看出，调节效应强调交互，因为和X一起影响斜率\r从图中可以看出，调节效应强调交互，因为和 X 一起影响斜率。 分组回归则强调 X 的斜率是一样的，只是截距不同，不存在调节效应，更适合作为控制变量。 我们能删除低次变量吗？ 也就是下面两个估计式子选哪个？我们可以在取了交互项 $XD$ 后去掉低次项 $X$、$D$ 吗？ $$ \\begin{cases} Y=\\beta_1 X_1+\\beta_2 X_2+\\beta_3 D+\\beta_4 DX_1+u\\newline Y=\\beta_1 X_1+\\beta_2 X_2+\\beta_3DX_2 +u\\end{cases} $$ 答案是需要带上 $\\beta_3 D$，在第一个式子中，$\\beta_4$ 确实是控制了 $X_1$ 和 $D$ 后的净效用。此时容易产生“共线性”，可以进行去中心化处理减去均值。因此如果是双重差分法，如果 did 和预定的时间和空间设定一致，就变成了要求双向固定效应。 以上参考来自11 交互项最多能几个相乘? 一般不超过三个。原因是三个以内更符合直觉性的对照试验，三个以上后作者难以解释对照实验结论。 参考资料： 《计量经济学导论》（伍德里奇） 《计量经济学基础》（古扎拉蒂） 《基本无害的计量经济学》（安格里斯特 / 皮施克） 《因果推断实用计量方法》 (邱嘉平) 《高级计量经济学及 Stata 应用》（陈强） 《回归分析》（谢宇） 《为什么》（朱迪亚·珀尔） 计量回归中的交互项到底什么鬼? 捎一本书给你 计量经济学中\"交互项\"相关的5个问题和回应 Stata: 交叉项\\交乘项该这么分析！ Stata：交乘项该如何使用？ Stata：边际效应分析 Stata：图示连续变量的边际效应(交乘项) Stata：图示交互效应\\调节效应 加入交乘项后符号变了!? Anwar S, Fang H. An alternative test of racial prejudice in motor vehicle searches: Theory and evidence[J]. American Economic Review, 2006, 96 (1): 127-151. ↩︎ 每每看到各类书用这个例子引出因果关系，总是感觉时间飞逝 ↩︎ Judea Pearl 在他的著作《the book of why》中支持这一点。书中第六章是从平均值比例数出发引出辛普森悖论 ↩︎ 陈强高级计量教材中说也可以理解为“个体效应被平均掉了” ↩︎ 下面这个使用去中心化的式子，写最终结果时伍德里奇教材的第六版好像写错了残差的符号，陈强教材是正确的。 ↩︎ 参考代码来自哈佛商学院的课程资料 https://www.hbs.edu/research-computing-services/Shared%20Documents/Training/fwltheorem.pdf ↩︎ 欢迎质疑。 ↩︎ 朱家祥, 张文睿. 调节效应的陷阱[J]. 经济学 (季刊), 2021,21 (05): 1867-1876. DOI: 10.13821/j.cnki. Ceq. 2021.05.19. ↩︎ 江艇. 因果推断经验研究中的中介效应与调节效应[J]. 中国工业经济[2023-12-28]. ↩︎ P. J. Bickel et al. ,Sex Bias in Graduate Admissions: Data from Berkeley. Science 187,398-404 (1975). DOI: 10.1126/science. 187.4175.398 ↩︎ Cleary P D, Kessler R C. The estimation and interpretation of modifier effects[J]. Journal of Health and Social Behavior, 1982: 159-169.12: ↩︎ ","date":"2023-12-26","objectID":"/zh-cn/posts/ji_sata/:5:3","tags":["因果效应","Stata"],"title":"计量数据的分组与测度（STATA 版）","uri":"/zh-cn/posts/ji_sata/"},{"categories":["影视剧"],"content":" 《“伪物”，事在人为 》 ","date":"2023-12-10","objectID":"/zh-cn/posts/zyw/:0:0","tags":["二次元"],"title":"动机论：二次元的真物与伪物","uri":"/zh-cn/posts/zyw/"},{"categories":["影视剧"],"content":"真物和伪物 何为“伪”——人为。 伪物就是掺杂人为干预属性的产物，被看作非自然的。 例如很多人吐槽潮流现充——漫威火了是漫威粉，间谍过家家火了成老二次元，破浪综艺火了成王心凌女孩，流浪地球爆了成刘慈欣老粉。如此种种，掺杂人为属性，很有跟风嫌疑。 还有在社交中才能实现展现的特质——“打卡自己专注学习，强调自己学习热情高涨”或“自己喜欢 xx 类书，但从不具体谈论收获”。“与其说是爱着某个事物，不如说是爱着憧憬着某个事物的自己”，其实是喜欢自己陷入狂热的状态，至于对谁狂热，无关紧要。 反之，“真物”是一种纯洁的，自然的属性，不需要刻意人为维系，彰显。 中国不是没有相近的，比如宋明理学“存天理，灭人欲”，但无论是内涵深度，格局，理学都要更高，真伪物只是在个人满足层面。 ","date":"2023-12-10","objectID":"/zh-cn/posts/zyw/:1:0","tags":["二次元"],"title":"动机论：二次元的真物与伪物","uri":"/zh-cn/posts/zyw/"},{"categories":["影视剧"],"content":"二次元作品中的讨论 借助春物和伪物语等二次元作品，我想总结下传统二次元作品伪物与真物的分界线。 看待事物的角度上：“真物”是全盘接受的，潜在要求是能看到事物的多面乃至本质；伪物是片面的，停留在表面。 《春物》大老师经典发言讨厌温柔女孩的原因就是因为这份善良是面向所有人，在不知其全部情况下的客套。结论是这份善良不独特，不持久。 《春物》比企谷经典对伪物青春的发言：我讨厌温柔的女孩子。温柔的女孩子其实对所有人都温柔，我却会误以为只对我温柔，然后就沾沾自喜得意忘形，最后闹得不欢而散，双方都受到伤害。所以我才讨厌温柔的女孩子。 保持热忱的时间上： 真物是持久的，忠贞的，稀缺的，许久不见再见也彼此理解，独一无二，不可替代；伪物是短暂的，需要不断地人为刻意维系，害怕被别人替换，自己也可以替换其他。 例如《青春期猪头少年》中与社会氛围对抗，认为氛围在珍贵的人面前不值一提。 从今往后，我的敌人就是氛围。人云亦云的方式很轻松，靠着自己的意志去判断一切是非，需要消耗卡路里。带着自己的意志判断，遭到否定就会受到伤害。 内心表现的动机上： 真物是纯洁的，自然的，发自内心油然而生的感觉；伪物是动机不纯的，抱有其他功利性目的的。 人之初，性本什么，这种讨论可被认为是真物的讨论。 作品设置上： 真物和伪物是互相映照成对的，内部也存在矛盾性。 可能一个人认为朋友关系需要迎合，作者就会说真正的朋友是可以争吵的；一个人认为人和妖的物种之别就是各自的本质，但作者就会说性格良善与否才是更重要的尺度；一些人认为朋友圈证明了幸福快乐得想分享，但作者就会说心满意足的人不会对外宣扬。 在角色表现中，伪物与真物往往和“自觉”，“羡慕”，“厌恶”，“自卑”联系在一起。 日漫在这方面表现地如此娴熟，离不开他们较早地做校园青春动漫，这些情感是青春期在校学生的常态。 如果一个人自觉（自己觉得）能分清“伪物”和“真物”，此类角色往往会为自己是伪物而感到自卑。 例如《我推的偶像》前期的星野爱不敢对孩子表达“爱意”——她不愿意对孩子虚假地表达爱语。 《我推的偶像》\r在这种视角下，显然大多数作者对自认“伪物”的角色都多是以同情的态度书写。 自认为伪物，都有个前提，没获得过“真物”的同时向往真物，此时他们都是自觉的，自觉自己能辨别真物和伪物。 求而不得的痛苦和没有幸福感的过去，都可以成为伪物自卑的来源，也是同情视角的切入点。 漫画《我推的孩子》\r如果一个人被认作是“真物”或“伪物”且不抱有自觉，那么会被他人厌恶或者羡慕。 《樱花庄的宠物女孩》中的“真白”具有强大的绘画天赋。她是天生的美少女，也没有自理能力，更加贴合“天然真物”近神的塑造，简而言之，纯净的天使不像人一样普通 在这类作品的开头，真物就像煌煌升起的理想旭日，伪物是下面蛰伏的阴影；真物仿佛凡人可望不可及的余晖，伪物只是凡人打点尊严的纸壳。 二者天差地别，一个人不自觉的光芒可以让另一个自觉的人自惭形秽，卑如蝼蚁。 ","date":"2023-12-10","objectID":"/zh-cn/posts/zyw/:2:0","tags":["二次元"],"title":"动机论：二次元的真物与伪物","uri":"/zh-cn/posts/zyw/"},{"categories":["影视剧"],"content":"歌颂伪物的立场 大量的作品，最后都表现了一种存在主义观点——伪物并非伪装，人为的不自然至少不一定是恶劣。定义的中心是人的情感。 ","date":"2023-12-10","objectID":"/zh-cn/posts/zyw/:3:0","tags":["二次元"],"title":"动机论：二次元的真物与伪物","uri":"/zh-cn/posts/zyw/"},{"categories":["影视剧"],"content":"第一层含义 伪物是“人为”，但“人为”不需要自卑 追求“非人为的纯洁”在这类作品中被视为人的天性。痛苦的是“窈窕淑女，求而不得”。真物要么是神造的，要么是人心造的，意味着只要有人参与互动，就不可能有真物。 曾经的哲学家追求“客观”，遗憾的是哲学只有主客观，没有客客观，因为是人在观察，人在交互。那么，所求的非人为的，绝对客观在何方呢？哲学的答案是功利主义或辩证法。 二次元作品常见的答案则是——就像照着理想的圆画画。现实不可能有完美的圆。 罗翔老师似乎很喜欢这个比喻——永远没完美的正义，也就是完美的圆圈。 人被值得歌颂的从来不是画出圆的壮举，而是创造出理想圆的人心，以及永远保持追求的姿态，无限于徒劳中逼近伪物，如西西弗斯背负的滚石，那就是短暂人生的真物。 例如《冰菓》“十文字事件”到诸多运动番（狂风吹拂，排球少年，灌篮高手，无限滑板，乒乓等），怀抱真物而不自知的天才被自卑的挚友追赶。无力感和自卑感同时打击着“自觉伪物”的角色。 《乒乓》中中国选手“孔爷”被淘汰后来到日本，怨气满满，后又被日本选手打败。飞机画面象征着打赢日本回国的心愿被拦住了。之后接受了一切，和日本选手一起训练提升自我。 最后解决的方法也是老套——把二者的关系绑定为一体或者热爱超越一切。把功利性的比拼压下，明白最重要是的彼此追赶的态度——没有伪物与真物，只有真心换真心。 《无限滑板》出来时，我期待对它在“努力和不可超越的天赋”上有新解，不过还是一样的套路回答——热爱大于一切。 现实的体育竞技残酷得多，这一点上《乒乓》刻画地更加真实 ","date":"2023-12-10","objectID":"/zh-cn/posts/zyw/:3:1","tags":["二次元"],"title":"动机论：二次元的真物与伪物","uri":"/zh-cn/posts/zyw/"},{"categories":["影视剧"],"content":"第二层含义 伪物未必不能成真 反之，真物未必不能化为伪。 假亦真时真亦假，真亦假时假亦真。 日本还一个著名的概念就是“黄昏之时”。黄昏时，太阳落下，白天与夜晚交织，虚假和真实的界限会模糊，重叠在一起——《魔幻时刻》。 开心麻花的《这个杀手不太冷静》翻拍的就是《魔幻时刻》 《你的名字》中，三叶和泷错位时空相见也是在黄昏之时，BGM 也叫黄昏之时。 “物语系列”直接鲜明地体现了两种。《伪物语》中垃圾君真心把伪物火怜当成妹妹，那么真不真已经无关紧要了。 佛法里就比较多，广义上的相由心生。曾经有个著名的阅读理解 《 又是一年粽飘香》，作者为了找母亲粽子的味道到处吃，在最后越对比越没找到。题目问最后找到了吗？答案是找到了：因为母亲粽子的味道在对比的回忆中更加清晰了。 （这就是中国阅读理解！我逐渐理解一切） 在《恋物语》中就是真物变成了伪物 。千石扶子无法得到阿良良木历的爱，悲愤化神。欺诈师逻辑鬼才贝木通过 talk 话疗，让扶子假装被欺骗，放弃恋爱之情——世界上没有不可以替代的爱情，他不爱你，就换一个。 贝木的伪物逻辑：世界上没有不可替代的真物，只有伪物，因为一切皆可替换。那么，所谓的无法得到的真物其实无关紧要，珍惜自己才是最重要的。 （贝木是欺诈师，他欺诈了抚子，也欺诈了自己，他在作品中也是追求真物的） 下面是伪物变真物的例子。主要是虚假的壳加上真情实感。真心 no. 1。 例如卫宫士郎的赝品力克王之宝库。无论是在《雪下的誓言》，还是在《fate stay night》中，卫宫力克王之宝库都是因为用赝品守护重要之人，这一点是只是单纯用真品攻击的敌人不具有的真心。 在《雪下的誓言》和《fate stay night》中，卫宫士郎都通过复制体大战王之宝库，这里是我最爱的雪下的誓言截取片段。 春物中的大老师就算在中后期也把自己和雪乃的关系称为“寄生”，但最后互表心意后，相信获得真物。 更著名的是《伪恋》的剧情，经典的天降打青梅，一开始的真爱被作者使用“剧情之手”强制隔离，欢喜冤家不自觉间已离不开彼此，青梅小野寺又是败犬王者东山献声。 （我很不满意这样的处理！只能说三角关系最易暴雷。哑舍，偷星九月天，打工吧！魔王大人都暴雷了，且看柯南能否平安吧） 《伪恋》中逐渐默契的欢喜冤家\r《路人女主》也是典型，惠一直把自己的情感埋藏心底，虽然是女主，但是设定上是作为路人逆袭。 在这类作品中，主人公往往因为自己是伪物而自卑。主人公走上某个道路只是为了满足他人的期待，或者与他人竞争，但往往借此真正爱上了某个事物，走向真物。也或者认清真心，最求自己心底的另一条路。 ","date":"2023-12-10","objectID":"/zh-cn/posts/zyw/:3:2","tags":["二次元"],"title":"动机论：二次元的真物与伪物","uri":"/zh-cn/posts/zyw/"},{"categories":["影视剧"],"content":"回到现实 曾经，我的高中数学老师在课堂上意味深长地说过这样一番话“我们班没有人喜欢数学，包括我自己”。 我明白这番话的意思是让我们班（我就是典型）别片面追求高考压轴题和巧解，要重视基础方法，以得分为目标。 同时，我们现在学的数学根本不是真正意义上的抽象数学，我们远未见识真正的数学，现在这种喜欢偏、难、怪高考题的想法只是青少年的一种中二。 或许老师早已忘记这件事，但我一直在回想这种心态。 就高考体制下来说，找准适合自己的节奏和方法是另一方面的讨论，老师毫无疑问是为了我们好。不过我想思考的是何为“对学科的热爱”？ 其实真物和伪物就是一种标准。 然而事实上，以“动机”作为判断的标准并不符合现实，所以我依旧是伪物的歌颂者。《围炉夜话》所谓“万恶淫为首，论迹不论心，论心世上少完人”, 大概说的就是这番道理吧。 说到底，真物和伪物的区别就是人是否自觉地辨识甚至否定“人为”一侧，去追逐更贴近自然，永恒，不可替代的美好理想。这个过程是痛苦的，相对的，失败或成功的记忆将刻骨铭心。 我以前对这种无意义的主观判断嗤之以鼻，但是现在我觉得可以接受。在人人崇尚“无所谓，麻木”的当下，寻找倾注热情的东西是痛苦的自残，但也可以成为通向伟大的阶梯。 用日漫一贯“矫情”的话说——人为制造痛苦，超越痛苦，然后自以为是的活着。还是日漫的句式——说到底人类就是这样一种生物，摇摇摆摆地活着，别扭、自卑又傲慢。 虽然从二次元作品中归纳了不少标准，但现实毕竟不是二次元或文字作品，人为，持久度，纯天然度，其实都不重要，只要有助于自己的发展，能充盈内心，我自己骗自己又如何？短暂的热情又如何？感情真伪全来自人心。 无论是否定真物，歌颂伪物；或是执着追求真物，说到底只是种选择，真心是传统作品里的评判标准，但现实复杂得多。 总之！ 发扬存在主义，人类中心主义思想！ 付出真心，求得所偿，又有何妨？ ","date":"2023-12-10","objectID":"/zh-cn/posts/zyw/:4:0","tags":["二次元"],"title":"动机论：二次元的真物与伪物","uri":"/zh-cn/posts/zyw/"},{"categories":["阅读"],"content":"最近重温了王小波的杂谈集《沉默的大多数》，里面充满了黑色幽默，背后却闪耀着对科学的推崇，里面谈国学，谈科学，谈逻辑那几篇文章再次让我受教。现在想起来，我一直努力避开用“经世济民”形容学习经济的初衷，最初的影响就来自王小波。 很多人会质疑，这么多社会科学论文，有什么用？经济学研究货币是为了实行货币政策，金融就是为了赚钱。甚至大家都会说“我学经济就是为了经世济民，匡扶天下”。很多人经常张口就是，文科就是“为往生继绝学，为万世开太平”的学科。 就现实而言，不论是为了个人生存还是社会繁荣，这些理由都是可敬的。但是当我们把这个逻辑加上了“唯一性”，就出现了另一个意思——学科意味着责任，责任落实到了具体的作用点。那么，如果存在一个问题，且这个问题没有任何用处，我们就不研究了吗？ 如果你问一个人研究黑洞有用吗？他说不出所以然，但所有人已经觉得高深莫测的自然科学终归是在未来有用处的。社会科学也可以这么回答。 但这个理由，至少我是非常不满意的，因为他的原因还是“因为这个学科可能在未来有用，我们才需要坚持”，其实还是“经世济民”，“实用主义”，“有用至上”那一套。 我觉得无论是社会科学，还是自然科学，真正促使我们学的就是一个共因，不是实用主义，功利主义，而是文学作品里歌颂的人类理想——为什么要登山，因为山就在那里。 譬如刘慈欣的《朝闻道》，《攀登者》，海明威的《老人与海》…… 中国常识所言“两害想较，取其轻”，但是总有人会做出超越单纯利害的选择。 作为科幻迷，我的立场只有一个——研究是为了求解，求解是为了回答问题。我们会根据现实的利害提出许多问题然后解答，但是有些问题无关利害就是存在于那里，于是我们尝试回答。 所以研究一个问题不需要任何理由，你就是想知道答案，想刨根问题，你不必要扯着大义的皮或者借着生活的苦，只是因为两个字——好奇就够了。 所以王小波反对某些过度美化“国学”的行为，反对孔孟，崇尚罗素。二程之一说“仁爱”就是刚出生毛茸茸的鸭子，很多人沉醉在这种高深莫测的境界里无法自拔。那我们真要的都要重新从鸭子的体毛里体会仁爱吗？许多人说《易经》站在了预测分析学的顶端，于是他们不再追求解答了。如此种种皆是求个有用，想要是是用不可知的高深莫测的手段达到有用的目的，甭管有没有过程，反正就是好，就是对，就是传承下的高深莫测就对了。 我以前不懂“因为山就在那”，这句话为啥经常出现，现在想来，就是因为这句话概括了这个道理——追求解答可以不需要理由。也就是王小波说的那句话，有一天我不在了，但是只要想着还会有人走在这条路上寻求真理，我就感到高兴。 ","date":"2023-12-10","objectID":"/zh-cn/posts/wxb/:0:0","tags":["阅读","反思"],"title":"经世济民 or 因为山在那","uri":"/zh-cn/posts/wxb/"},{"categories":["软件工具","经济学习"],"content":"虎扑流行“我来发图，你们来打分”。经济学也经常赋权建立指标进行打分比较。目前互联网上的教程似乎都是“代码-数据-推导”的三缺一，这里打算一口气把三个部分通通概括。 本文先讲讲中文期刊最常见的三种“熵权法”“变异系数法”“主成分法”。以后用了其他方法将继续在本文补充。 一般赋权方法大赏（图源：http://www.huaxuejia.cn/ism/CESAISM/coupling-coordination.php）\r","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:0:0","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"一、“标准化”和“归一化” 这部分主要参考了下面这篇博客： 为什么耦合协调度的论文绝大部分是算错的？ $\\boxed{ 无量纲化 }：$ 无论最初我们有多少奇奇怪怪的指标，我们最后拿出手需要是一个没有“单位”的总分，这个过程就叫做无量纲化。 $\\boxed{ 规范化 }：$ “标准化”和“归一化”都是为了把数据规范化，将数据进行缩放，处理成我们想要的形式，同时尽可能地保留数据的比较排序特征。 $$ \\small A\u003eB\u003eC\u003e0\\xrightarrow{规范化}\\frac{A}{A+B+C}\u003e\\frac{B}{A+B+C}\u003e\\frac{C}{A+B+C} $$ “归一化”处理的是数值范围，“标准化”处理的是数值分布。不改变比较排序特征是因为他们都是线性变化。 ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:1:0","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"1、归一化（Normalization） 把数据变化到特定的范围，消除不同单位、数字间差距对分析权重的影响。 经济学常用的处理公式如下 $$ \\small \\begin{cases} X_{正指标}=\\frac{X_{ij}-\\min X_j }{\\max X_j-\\min X_j}\\newline X_{负指标}=\\frac{\\max X_j-X_{ij}}{\\max X_j-\\min X_j} \\end{cases}\\in{0,1} $$ 范围被限定为了（0,1）, 同理要把范围限制到某个区间——（a, b），那么变形就是： $$ \\small f(x)\\in{0,1} \\xrightarrow {变形} (b-a)f(x)+a \\in {a,b} $$ 提示 1：正向指标和负向指标是不同的公式，需要区别处理 提示 2：还有其他的规范化方法 图源：http://www.huaxuejia.cn/ism/CESAISM/coupling-coordination.php\r","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:1:1","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"1-1、归一化 stata 代码 这里提供练习数据，数据源是赵涛等人（2020）的数字经济指标1。 百度网盘 面板数据，五个指标衡量数字经济|542\r面板数据，五个指标衡量数字经济 有很多途径可以实现极差法的归一化。 方法一：Norm 指令组 ssc install norm //指令安装 norm x1 x2 x3 , method(mmx) * 对应是计算方法是：[Xi - X(min)]/ [X(max)-X(min)] * 如果想要一个截面一个截面的分组标准化，名字则为 norm x1 x2 x3, by(year) method(mmx) 这个命令的缺点是，mmx 只提供了正向指标的线性变化，不能用于负向指标。 也就是只有 $\\small X_{正指标}=\\frac{X_{ij}-\\min X_j }{\\max X_j-\\min X_j}$ 的变化，没有负指标 X 负指标$\\small X_{负指标}=\\frac{\\max X_j-X_{ij}}{\\max X_j-\\min X_j} $的变化。 理论上也有解决方法：通过 $1-x_{负向指标}、\\frac{1}{x_{负向指标}}$ 的变形把负向指标转化为正向指标再统一执行。 提醒：所有数据最后是打分，都需要为正。 方法二：循环加分组（通用） *定义正向指标与负向指标 global positive_var x1 x3 x4 x5 x6 x8 x9 x10 //定义正向指标，把x1 x3 x5 x7都打包到positive_var global negative_var x2 x7 //定义负向指标，把x2 x4 x6 x8都打包到negative_var global xlist x1 x2 x3 x4 x5 x6 x7 x8 x9 x10 //把上述的所有指标都打包到xlist *标准化 foreach i in $positive_var { qui sum `i' gen x_`i'=(`i'-r(min))/(r(max)-r(min)) //正向指标标准化处理 replace x_`i'=0.000001 if x_`i'==0 //避免出现0值 } foreach i in $negative_var { qui sum `i' gen x_`i'=(r(max)-`i')/(r(max)-r(min)) //负向指标标准化处理 replace x_`i'=0.000001 if x_`i'==0 //避免出现0值 } ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:1:2","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"2、标准化（Standardization） $\\boxed{Z-score}:$ 中心极限定理告诉我们分布函数会趋于正态分布，我们常用的是概率统计里的标准正态化。 $$ \\begin{cases} X_{正指标}=\\frac{x-\\mu}\\sigma \\newline X_{负指标}=\\frac{\\mu-x}\\sigma \\end{cases} $$ ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:1:3","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"2-1、标准化 stata 代码 zscore x1 * 标准化后的变量为命名为z_x1 * 负向指标需要在变形后再在前面加个负号 ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:1:4","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"什么时候需要标准化和归一化呢？ 省流：对机器学习来说，具体对象具体诉求具体使用，对于经济学来说，无脑使用问题不大。 ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:1:5","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"二、熵权法（EWM） ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:2:0","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"1、理论步骤 首先是保证数据都已经归一化，都大于 0。 $$ \\small \\begin{cases} X_{正指标}=\\frac{X_{ij}-\\min X_j }{\\max X_j-\\min X_j} \\newline X_{负指标}=\\frac{\\max X_j-X_{ij}}{\\max X_j-\\min X_j} \\end{cases}\\in{0,1} $$ 然后就是根据信息熵的定义确定权重（论文《A mathematical theory of communication》）2。 图源:《A mathematical theory of communication》（shannon,2001）\r熵实际是对随机变量的比特量和顺次发生概率相乘再总和的数学期望3。 信息熵的计算为： $$ \\mathrm{E_{j}=-\\frac{1}{\\ln n}\\sum_{i=1}^{n}p_{ij}\\ln p_{ij}} $$ $p_{ij} $就是每个样本在总体指标下的占比 $$ p_{ij}=\\frac{X_{ij}}{\\sum_{i=1}^{n}X_{i}} $$ 当 $p_{ij}=0$ 时不适用这个式子，可以在归一化时直接把为 0 的数值进行补充。 最后得出指标权重 $$ W_{i}=\\frac{1-E_{i}}{k-\\sum E_{i}}(i=1,2,\\ldots,k) $$ ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:2:1","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"2、熵权法 stata 代码 *Step0:定义正向指标与负向指标 *定义正向指标与负向指标 global positive_var x1 x3 x5 x7 //定义正向指标，把x1 x3 x5 x7都打包到positive_var global negative_var x2 x4 x6 x8 //定义负向指标，把x2 x4 x6 x8都打包到negative_var global xlist x1 x2 x3 x4 x5 x6 x7 x8 x9 x10 //把上述的所有指标都打包到xlist *标准化 foreach i in $positive_var { qui sum `i' gen x_`i'=(`i'-r(min))/(r(max)-r(min)) //正向指标标准化处理 replace x_`i'=0.000001 if x_`i'==0 //避免出现0值 } foreach i in $negative_var { qui sum `i' gen x_`i'=(r(max)-`i')/(r(max)-r(min)) //负向指标标准化处理 replace x_`i'=0.000001 if x_`i'==0 //避免出现0值 } ************************************熵权法*****************************************// *Step2:计算第j项指标下第i个样本值占该指标所有样本值之和的比重Pij foreach i in $xlist { egen `i'_sum=sum(x_`i') //把每个指标进行加总 gen y_`i'=x_`i'/`i'_sum } gen k=_N //这个代码可以根据数据类型做更改 foreach i in $xlist { gen y_lny_`i'=y_`i'*ln(y_`i') //指标比重乘以ln(指标比重) } *Step3:计算第j项指标的信息熵ej foreach i in $xlist { egen y_lny_`i'_sum=sum(y_lny_`i') //对指标比重乘以ln(指标比重)进行求和 } foreach i in $xlist { gen e_`i'= -1/ln(k)*y_lny_`i'_sum } *Step4:计算信息熵冗余度dj foreach i in $xlist { gen d_`i'= 1-e_`i' } *Step5:计算评价指标权重wj egen d_sum = rowtotal(d_*) foreach i in $xlist { gen w_`i'= d_`i'/d_sum } *Step6:计算综合得分s foreach i in $xlist { gen Score_`i'= w_`i'*x_`i' //权重乘以标准化值 } egen Score=rowtotal(Score_*) //求和 ****************************************************************** ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:2:2","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"三、变异系数法 (COV) ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:3:0","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"1、理论步骤 省时省力，变异系数变异系数$\\boxed{变异系数} $就是每组的 标准差均值标准差均值$ \\frac{标准差}{均值}$ 。 计算每个指标内部的变异系数，然后把每组指标的变异系数占比作为权重。 $$ v_i=\\frac{\\delta}{\\bar x_{i}} $$ $$ w_i = \\frac{v_i}{\\sum _{i}^{n} v_i} $$ ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:3:1","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"2、变异系数法 stata 代码 *Step0:定义正向指标与负向指标 *定义正向指标与负向指标 global positive_var x1 x3 x5 x7 //定义正向指标，把x1 x3 x5 x7都打包到positive_var global negative_var x2 x4 x6 x8 //定义负向指标，把x2 x4 x6 x8都打包到negative_var global xlist x1 x2 x3 x4 x5 x6 x7 x8 x9 x10 //把上述的所有指标都打包到xlist *标准化 foreach i in $positive_var { qui sum `i' gen x_`i'=(`i'-r(min))/(r(max)-r(min)) //正向指标标准化处理 replace x_`i'=0.000001 if x_`i'==0 //避免出现0值 } foreach i in $negative_var { qui sum `i' gen x_`i'=(r(max)-`i')/(r(max)-r(min)) //负向指标标准化处理 replace x_`i'=0.000001 if x_`i'==0 //避免出现0值 } ************************************变异系数法***************************************** *Step2:计算变异系数 foreach i in $xlist { egen sd_`i'= sd(x_`i') //计算标准差 } foreach i in $xlist { egen mean_`i'= mean(x_`i') //计算平均值 } foreach i in $xlist { gen v_`i'= sd_`i'/ mean_`i' //计算变异系数 } egen v_sum = rowtotal(v_*) //变异系数加总 *Step3:计算各指标权重 foreach i in $xlist { gen w_b_`i'=v_`i'/v_sum } *Step4:计算综合得分 foreach i in $xlist { gen Score_b_`i'= x_`i'*w_b_`i' } egen Score_b=rowtotal(Score_b_*) 个人感觉对比下来变化差异不大 数字经济指标，个人找数据补到了2021年，额外进行了分组绘图。（左变异系数、右主成分法，总体排序基本是稳定的）\r","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:3:2","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"四、CRITIC 法 待补 ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:4:0","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"五、主成分得分 (PCA) ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:5:0","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"1、理论步骤 可参考如下文章，他们都讲的非常精彩。 主成分分析（PCA）原理详解 CodingLabs - PCA的数学原理 为了进一步形象化概括，我们可以用二维数据来展示 pca 分解的过程4。 当数据标准化（标准正态分布）后，我们会得到呈现椭圆形的数据集。 数据集\r此时我们画一个平行于 x 轴的线，使它对应的方向上具有最大方差，此时这个主成分 $PC_1$ 就是两者的线性组合。 $$ PC_1=a_{11}X_1+a_{12}X_2 $$ 分解\r同理，我们再画平行于 y 轴的线，同时注意到y 轴与 x 轴是垂直的，这样才能保证两个主成分之间是无关的。 y轴与x轴是垂直的，这样才能保证两个主成分之间是无关\r有 n 个指标就是 n 维空间，也就有 n 个互相垂直的方向 $\\boxed{特征向量}：$ 特征向量是方差最大（信息最多）的轴的方向，称之为主成分。 $\\boxed{特征值}：$ 特征值为某个主成分的方差，其相对比例可理解为方差解释度或贡献值。特征值从第一主成分会逐渐减少。 $\\boxed{载荷}：$ 载荷是特征向量乘以特征值的平方根。载荷是每个主成分上各个原始变量的权重系数。 $\\boxed{维度}：$ 维度在数据中就是几个指标。有 n 个指标就是 n 维空间，也就有 n 个互相垂直的方向，也就是 n 个可以分解的主成分，但我们在操作中只需要部分贡献大的，所以取 k 个。从 n 到 k，这个过程就是 $\\boxed{降维} $。 $$ \\small \\begin{cases} 指标样本1\\newline …\\newline 指标样本n \\end{cases} \\xrightarrow{降维} \\begin{cases} PC_1=\\alpha_1\\times f_1+\\alpha_2 \\times f_2 +…\\alpha_3 \\times f_n\\newline …\\newline PC_k=\\beta_k \\times f_1+\\beta_2 \\times f_2 +…\\beta_n \\times f_n \\end{cases} $$ ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:5:1","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"2、主成分法 stata 代码 分为两部分，一部分是得出分数的必要操作，一部分是非必要的画图操作。 注意事项！！！！！！！！！！！！ stata 的 pca 命令自带数据规范化，不需要额外预处理操作 分析数据的负向指标需要自己正向化：$\\small 1-x_{负向指标} 、\\small \\frac{1}{x_{负向指标}}……$ 主成分法给出的是主成分 $PC_k$ ,也就是 n 个指标分解成了 k 个主成分，然后加总给出总分。原始指标没有权重。 ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:5:2","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"必要操作部分： 先做预处理检验数据是否适合使用主成分分析 这些检验一般也没必要在论文里说明 //相关系数分析，一般大于0.4即可 //相关系数高，说明n个指标有些重复信息，这样才有降维分解成k个的价值 pwcorr_a x1-x4 *step1：进行KMO和Bartlett检验： *球形检验，也就是理论部分提到的椭圆形好分解特征向量的方向 factortest x1-x4 //其中若Bartlett值显著（P值接近0）；且KMO值大于0.5，则可以使用主成分分析。 通过检验后，开始进行主成分分解 PCA 命令自带规范化处理。 pca x1-x4 * Eigenvalue :特征值 * Proportion ：贡献率 * Cumulative：累计贡献率 * Comp 特征向量、载荷矩阵 数据源就是前文附件的excel:《数字经济、创业活跃度与高质量发展——来自中国城市的经验证据》\r一般要求特征值要大于 1，小于 1 的话说明特征变量的解释能力还不如原变量。若三个变量特征值均大于 1，则要提取的主成分有三个。图中大于 1 的只有一个，说明我们只需要提取一个主成分。 我们也可以通过画图来展示以上结论，这个图就是碎石图。 screeplot,yline(1) *碎石图，选出大于1的对应主成分 碎石图，选出大于1的对应主成分\r*step4计算主成分得分 predict f1 *这里我们只需要1个主成分所以只需要生成f1 rotate,promax(3)factors(12) //旋转分解方向,promax(3)的（3）是旋转方式，（1）我们需要几个主成分 *step5：使用综合指标 //按照个主成分的方差贡献率占所提取的主成分的累计方差贡献率的比重，生成综合性指标。 //Score=(方差贡献率/累计方差贡献率)*f1+(方差贡献率/累计方差贡献率)*f2+......(方差贡献率/累计方差贡献率)*fn 结果\r由于我们只需要一个主成分，所以最后得到总分： gen score = 0.8115/0.8115*f1 * 如果存在小于0的score就自己sum一下然后整体加个常数保证全部大于0就行 假设我们分析得到需要两个主成分，那么总分的式子就应该变为 gen score = 0.8115/0.9315*f1+0.1200/0.9315*f2 必要部分完成，接下来是非必要部分，也就是因子分析和得分图分析 ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:5:3","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"非必要部分 假设我们有四个指标，四个指标特征值都大于 1，也就是我们四个主成分都可以用，也就可以通过得分图来聚类。 predict f1 f2 f3 f4 scoreplot,combined factors(4)mlabel(city) yline(0) xline(0) *mlabel是选定描述统计量名称 *factors(4)是要前几个主成分，然后两两排列来展现 *两个节点距离越近说明越相似 得分分析\r对于得分图来说，距离越近越相似，由于我们选择了参数 factors (4)，那么四个主成分两两组合，就会产生 $C_4^2=6$ 个得分图。我们使用的是面板数据，我们按照的地域标签，确实可以看出**不同年份的同一个城市（北京、重庆）**总是聚类在一起。 因子载荷图命令如下： loadingplot, factors(4) yline(0) xline(0) //荷载图 *factors(4)也是分析几个因子的设定。 由于我们选择了参数 factors (4)，那么四个主成分两两组合，就会产生 $C_4^2=6$ 个因子载荷图 它反映了不同组成分下指标的聚类程度。 因为是对称的，所以只看一侧就行，也就是有6个图\r因为是对称的，所以只看一侧就行，也就是有 6 个图 我做过的一个指标得分，指标数量有30个，主成分取了12个，最终结果没有太大变化\r我做过的一个指标得分，指标数量有 30 个，主成分取了 12 个，最终结果没有太大变化 ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:5:4","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["软件工具","经济学习"],"content":"六、写作！！公式是否需要展示？ 指数合成（尤其是数字经济、韧性……）、倾向匹配、东西南北异质性、DID、中介效应，如今已经成为泛滥的八股文。不少人把指数合成视为弄虚作假。喜欢用这种指标合成的一般也是横向课题（政府企业报告）非经济研究。最重要的是，大部分文章并不会贴出详细变化公式，这也是指数合成被诟病的原因——没说明的灰色地带太多。 个人建议是：不用写出公式，但要写明公式专属名词和细节操作，例如“有没有使用正负指标”，“是在使用极差法归一化后再统一使用的熵权法”“一级指标和二级指标之间有没有复用赋权法重新整合赋权”…… 虽然这些方法已经被滥用、被质疑，但比起一知半解套用代码，了解他们的使用背景，结合选题详细地说明，或许这才是最重要的。 赵涛, 张智, 梁上坤. 数字经济、创业活跃度与高质量发展——来自中国城市的经验证据[J]. 管理世界,2020,36 (10): 65-76. DOI: 10.19744/j.cnki. 11-1235/f.2020.0154. ↩︎ Shannon, C. E. (2001). A mathematical theory of communication. ACM SIGMOBILE mobile computing and communications review, 5 (1), 3-55. ↩︎ https://en.wikipedia.org/wiki/Entropy_(information_theory) ↩︎ https://mp.weixin.qq.com/s/H-wFZOxWPUdwJBkpASu8bw ↩︎ ","date":"2023-11-20","objectID":"/zh-cn/posts/kgfq/:6:0","tags":["Stata"],"title":"客观赋权：PCA、CRITIC、EWM、COV","uri":"/zh-cn/posts/kgfq/"},{"categories":["影视剧"],"content":"《河边的错误是什么？》 世界上还有比苦难更大的克苏鲁吗？不可知，不可视，不可理解，不可阻止。当荒谬的逻辑降临在血肉之躯上，超越时代的苦难就像一座冷峻的山。 马哲尝试理清命运泛起的涟漪，他相信理性是驱动这一场场谋杀的本质。可如果谋杀本来就来自无序和混沌呢？于是这团毛线背后的庞然大物压垮了他，于是我们竟惊悚地发现错误在于我们自顾自假设“生活绝无超越理性的错误”；错误在于我们拒绝承认生活竟有着“无序和混乱”的一角。 为何我们骂二舅治不好精神内耗，活着、兄弟、许三观、第七天却不招致反感？同样作为荒诞片，我也愿称《河边的错误》立意上超过了《宇宙探索编辑部》。后者的结尾和二舅一样，只是从幸存的过来人中取得安慰和激励，站在已经度过苦难的人身后为春天的到来共情。于是人们会歌颂“好日子还在后面”“没有一个冬天不可逾越”，因为我们必将度过，所以我们无惧面对，这显然是个循环论证。那么循环之外，谁来对冬天发问？？ 余华的作品，就是直面苦难的源头——一个没有对象可言的克苏鲁。 宇宙探索编辑部的海报\r河边的错误？错误究竟在哪里？ 从具体层面讲，马哲不承认疯子杀人的偶然性，于是一开始就偏离了真相的轨道，撕开了村民们不被社会接纳的真实： 马哲不相信疯子会杀人，于是间接查出诗歌创作后的禁忌爱情，查出委屈冤案后的秘密异装癖，查出善良收养后的性癖动机。马哲越是拒绝承认疯狂，却越挖出更多的疯狂。 作为一个警察，探究真相，崇尚逻辑，没有任何问题，却引发了更大的痛苦和死亡。马哲相信生活有逻辑，然而现实的这份逻辑却压垮了他了世界。马哲的线索只是从一个人内心的疯狂跳到另一个人内心的疯狂。一个拒绝承认疯狂的合理性的人，最后却被这份疯狂包围，于是他疯掉了，这是他犯下的错。 从抽象层面讲，疯子是什么？就是苦难，就像好人没有得到好报，付出没有得到回报，人因快乐而寻求痛苦，善良的家庭生下残疾的孩子。马哲拒绝相信疯子是凶手，正如他不相信自己的孩子会成为疯子。当马哲终于接受疯子是凶手的现实后，他不得不抚养自己成为疯子的孩子。 河是命运的纽带。大波浪版许亮从河边跑过，老婆婆死在河边，诗人教师死在河边，小孩死在河边，他们怀抱着自己的秘密埋葬在河边。 “疯子，凶杀案，河边，雨幕，人生”以一种古怪的小概率的方式拉成了串。观众会追问这么小概率的事件怎么会是偶然，一定有双命运的大手！我们尝试理清命运，到头来却被命运所困。所以偏执早在影片开头就发出了警告： ——“我们理解不了命运，因此我装扮成命运，换上了诸神那副糊涂又高深莫测的面孔”。那么当我们期待电影的反转，假设凶手另有其人时，我们究竟是在为谁辩护？ 是生活！更是对生活信仰的一种偏执。当我们 200%地信奉生活有条理性的准绳时，我们就成为了马哲。 现实的冲突与原始的社会信仰发生矛盾，逻辑被瓦解了，克苏鲁就降临了，于是世界把人拉到漂泊的海中，直面生活这头猛兽——于是我们都疯了。我们开始分不清现实和我们预先假设的社会秩序。雨成为现实舞台的幕布，雨水冲刷之时才是真相；相对应的，无雨的晚上是马哲疯狂的幻想。 无雨的夜晚，马哲幻想开了四枪； 无雨的夜晚，马哲幻想看到了完整的拼图； 无雨的夜晚，马哲看到妻子发型是大波浪。 于此我们得到延伸的过程，马哲为什么崩溃了？倘若一个人拒绝承认苦难的无序与混沌，那么任何一点生活的小小混乱都将成为引爆他世界的一根引线——尽管我们都知道那不是他的错，但是更深的，生活的苦难往往也没有报复和追责的源头。我们无法向没有对象的生活和苦难追责，于是怨气只能停在一个自顾自相信理性的人身上。河流是命运纽带，大雨是舞台的幕帘，于是我们在河边犯下了错误，就是自以为可以理解命运的傲慢————我们自顾自不相信一个使人掉 san 的生活存在于世。 ","date":"2023-10-29","objectID":"/zh-cn/posts/h/:0:0","tags":["电影"],"title":"《河边的错误》是什么","uri":"/zh-cn/posts/h/"},{"categories":["经济学习"],"content":" 在经济学课程中，大部分概念往往会经历“数学含义-经济含义-统计含义”三次重新理解。我们总是在不同的地方见到同一个东西，但是却很少一口气把它通拉理解一遍，例如三个计算式。 本文将概括下“收敛”这个概念在三个环节的贯穿（虽然关联性似乎不强，但我还是想梳理一遍） ","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:0:0","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"一、高数: 极限和收敛 极限和收敛，一开始就是一回事儿。 主要参考同济版《高等数学》1，收敛是作为极限的一种描述状态引入： 数列的极限中（上册 21 页），数列 $x_n$ 收敛于 $a$ ，记为 $\\lim_{n \\rightarrow \\infty}{x_n=a}$。 函数的极限中（上册 33 页），函数收敛，记为 $\\small \\lim_{n \\rightarrow \\infty}{f(x_n)}=\\lim_{n \\rightarrow x_0}{f(x)}$ 。 级数的极限中（下册 252 页），$\\small s=u_1+u_2+u_3+…u_i+…$ 无穷级数收 $u_i$ 敛，意味着 $\\small \\lim_{n \\rightarrow \\infty}{s_n=s}$ 反之则为发散。 $$ 收敛分类 \\begin{cases} 内容 \\begin{cases} 绝对收敛\\newline 条件收敛 \\end{cases}\\newline 形式\\begin{cases} 逐点收敛\\newline 一致收敛 \\end{cases} \\end{cases} $$ 其中，级数收敛又分为绝对收敛和条件收敛; 逐点收敛和一致收敛 绝对收敛： $\\small \\sum_{n=1}^{\\infty}{|u_n|}$ 收敛，则称 $\\small \\sum_{n=1}^{\\infty}{u_n}$ 绝对收敛。 条件收敛：$\\small \\sum_{n=1}^{\\infty}{|u_n|}$ 不收敛，$\\sum_{n=1}^{\\infty}{u_n}$ 收敛，则称 $\\small \\sum_{n=1}^{\\infty}{u_n}$ 条件收敛。 点点收敛： $\\small \\exists{0\u003cx\u003c\\delta},\\forall\\varepsilon\u003e0, |f(x)-A|\u003c\\varepsilon$，$\\small \\exists{0\u003cx\u003c\\delta},\\forall\\varepsilon\u003e0, |f(x)-A|\u003c\\varepsilon$ 一致收敛： $\\small \\exists{0\u003c|x_1-x_2|\u003c\\delta},\\forall\\varepsilon\u003e0,|f(x_1)-f(x_2)|\u003c\\varepsilon$，$\\small \\exists{0\u003c|x_1-x_2|\u003c\\delta},\\forall\\varepsilon\u003e0,|f(x_1)-f(x_2)|\u003c\\varepsilon$ 顺便提一手收敛半径，也就是能让级数 $\\small u_n（x）$ 收敛的 $x$ 的范围值。 收敛发散判定答题有没有捷径呢? 我的高数老师就说了一个“幽默”的方法，我在知乎上还刷到过： 你看这两个字，是不是既收敛又发散（ 既收敛又发散\r","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:1:0","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"二、概率论：大数定理与中心极限 你以为的“偶然”往往蕴含在“必然”之中。有人必然中彩票，只是那个人偶然是你。 参考茆诗松版《概率论与数理统计》2，随机变量序列有两种收敛方式，依概率收敛和依条件收敛。 依概率收敛：$\\bbox[#def,5px,border: 1px solid]{ x\\stackrel{P}{\\longrightarrow}c }$ 例如丢硬币，可能一开始正面朝上的几率偏离 $\\frac{1}{2}$ 的幅度极大，当投掷的次数越来越多后，频率就会趋近于概率。频率统计成了确定概率3的方法之一。 各种版本的大数定理大数定理 $\\boxed{ 大数定理 }$ 基本说的都是一件事：随着实验次数 n 的增加，概率与频率的偏差值 $\\small \\frac{S_n}{n}-P$ 大于预先给定的一个值 $\\varepsilon$ 的可能性会越来越小。 无论是伯努利（Bernolli）大数定理、切比雪夫大数（chebyshev）定理、马尔科夫（Markov）大数定理、辛钦（Khinchin）大数定理，本质上说的都是这一件事4。 依分布收敛：$\\bbox[#def,5px,border: 1px solid]{ x\\stackrel{F}{\\longrightarrow}c }$ 强分布收敛是点点分布收敛，弱分布收敛是去掉间断点只考虑 $F(x)$ 的连续分布。 表示为$ \\mathbb{P}(X_n\\leqslant a)\\to\\mathbb{P}(X\\leqslant a) $也就是$ \\lim_{n\\to\\infty}F_n (x)=F (x)$ 。 $\\boxed{ 中心极限定理 }$ 说的是这样一件事：一定条件5下，独立随机变量和的 $Y_n=\\sum_{n}^{i=1}{X_i}$ 分布函数会趋于正态分布。 有趣的函数分布知识6 假设存在一个随机变量，满足二项分布。 当它趋于极限，期望等于方差，就成了泊松分布。 随机变量间的间隔则满足指数分布。 第 n 次变量对应的横坐标服从伽马分布。 ","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:2:0","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"三、经济学意义：收敛效应 货币≠数字，运营≠算题，经济≠数学 ","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:3:0","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"1、收敛假说（趋同） 来自“区域经济学”课老师用过的资料 《高级经济地理学》 （贺灿飞著）。 随着索罗（solow）模型的提出, 发展经济学研究者们发出了疑问： 既然，每个经济体有自己的稳态点与平衡增长路径。 同时，落后的经济体发展地很快，先进的经济体发展的速度不断减缓。 那么问题来了，最后大家的经济增长会不会趋同呢？ $$ \\begin{cases} \\beta收敛 \\begin{cases} 绝对收敛\\newline 条件收敛\\newline 俱乐部收敛 \\end{cases}\\newline \\sigma收敛 \\end{cases} $$ $\\beta$ 收敛： $\\boxed{\\beta 绝对收敛}$ 认为：无论经济体初始情况如何，由于弱者发展快，强者发展慢，最后经济发展总是收敛到一致的水平。我们需要的只是“一点点”耐心。 $\\boxed{\\beta 条件收敛}$ 认为：经济体的增长速度受某些环境结构（例如人口结构，要素禀赋，要素增长率）影响，因此不同的经济体收敛于不同的稳态，最后发展的结果也不同。 $\\boxed{俱乐部收敛}$ 认为：初期经济发展水平接近的经济集团和较富的国家集团各自内部存在条件收敛，而两个集团之间却没有收敛的迹象。 $\\sigma$ 收敛： $\\boxed{\\sigma收敛}$ 认为：不同经济体间的标准差 $\\sigma$ 总是在不断缩小。 ","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:3:1","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"2、收敛速度 似乎是实分析中的数学概念，但我第一次学是在**Romer**的《高级宏观经济学》中学到的，所以归纳到经济部分。 查了下维基百科（Rate of convergence），主要应用在算法优化和深度学习领域。 若序列 $x_k$ 收敛于 $L$，下式 $\\mu$ 就是收敛率的表达式。 $$ \\lim_{k\\to\\infty}\\frac{|x_{k+1}-L|}{|x_k-L|^q}=\\mu $$ 当式子中的 $q=1$ 时，就是线性收敛收敛速度就是 $t$ 和 $t+1$ 时刻，数值到收敛点的数值差距之比。 想象下跑步比赛。我们衡量快慢，比较的是从起点开始的距离。 收敛则像我们在焦急的等待下课铃。我们在意的是距离多久才能到终点。 收敛到一起\rsolow model其实就算在基础上加了个要素横轴\r如何表示 $T$ 时刻和 $T+1$ 时刻呢？经济分析中通常使用泰勒展开近似。 以 solow 模型为例，$\\dot{k}=sf(k)-(n+g+\\delta)k$，所以动态分析上， $\\dot{k}$ 为 $k$ 的函数，我们写作 $\\dot{k}（k）$ 。 稳态点时，$k=k^*$，$\\dot{k}=0$ 在 $k=k^*$ 时，对 $\\dot{k}（k）$ 作一阶泰勒展开近似 $$ \\dot{k}\\simeq[\\frac{\\partial\\dot{k}(k)}{\\partial k}|_{k=k^{*}}](k-k^{*})=-\\lambda[k(t)-k^{*}] $$ $$ \\begin{aligned} \u0026\\lambda\\equiv-\\frac{\\partial\\dot{k}(k)}{\\partial k}\\Bigg|_{k=k^{*}}\\newline \u0026 =-\\left[sf^{\\prime}(k^{*})-(n+g+\\delta)\\right] \\newline \u0026=(n+g+\\delta)-sf^{\\prime}(k^{*}) \\newline \u0026=(n+g+\\delta)-\\frac{(n+g+\\delta)k^{*}f^{\\prime}(k^{*})}{f(k^{*})} \\newline \u0026=[1-\\alpha_{k}(k^{*})](n+g+\\delta)\\newline \\end{aligned} $$ $\\lambda$就是我们要找的收敛速度 ","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:3:2","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"四、计量统计7 ","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:4:0","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"1、计量方程 （1）绝对趋同 Barro 和 Martin（1991）8在 Baumol（1986）9的基础上提出了绝对 $\\beta$ 趋同的检验方程。 $$ \\small \\frac1T\\left[\\log(y_{i,t+T})-\\log(y_{i,t})\\right]=\\alpha-\\frac{(1-\\mathrm{e}^{-\\beta T})}T\\log(y_{i,t})+\\varepsilon_i $$ 其中 $i$ 表示 $i$ 个地区， t 表示期初，$ t+T $表示期末，$ T $表示观测时期长度，$ y_i $，$ t $表示地区$ i$在 $t$ 期的人均 GDP，$\\beta$ 表示趋同速度。如果 $\\beta\u003e0$ ，则说明不同地区经济发展的差异会逐渐消除，最终达到同样的稳态。 最小二乘法回归统计图，数据是欧盟地区（图源：Barro和Martin（1991））\r上面的公式是根据新古典经济增长模型推导而来（也就是 solow model）。 个人觉得国内关于收敛回归方差的描述清晰简洁不少。这里参考彭国华（2005）10的回归式子： $$ g=c+\\beta{\\ln y_0}+\\varepsilon $$ $g$ 就是增长率， $c$ 是常数项，$y_0$ 是真实产出，$\\varepsilon$ 是误差项。当 $\\beta\u003c0$，也就说明了增长率 $g$ 和经济水平 $y_0$ 负相关。符合我们“高水平经济体增速较慢，低水平经济体增速较高”的假设。 (2) 条件趋同 Barro 和 Martin (1992)11在绝对 $\\beta$ 趋同检验方程的基础上又提出了条件 $\\beta$ 趋同的检验方程: $$ \\small \\frac{1}{T}\\left[\\log(y_{i,t+T})-\\log(y_{i,t})\\right]=\\alpha-\\frac{(1-\\mathrm{e}^{-\\beta T})}{T}\\log(y_{i,t})+\\lambda X_{i,t}+\\varepsilon_{i,t} $$ 结论和参数含义和绝对趋同一样，因为条件趋同的含义是经济增长与经济体环境结构相关，所以多了 $X_{i,t}$ 作为控制变量。 引入控制变量 $X_{i,t}$ 麻烦的点在于又得去研究外生性了，，，，，， (3) 俱乐部趋同 具有相同的经济特征、具有类似增长路径的集团内部存在趋同，在不同的经济集团之间则不存在趋同，这种现象称为俱乐部趋同（Durlauf，1995; Galor，1996）。 $$ \\frac1T\\left[\\log(y_{i,t+T})-\\log(y_{i,t})\\right]=\\alpha+\\beta\\mathrm{log}(y_{i,t})+\\lambda D+\\varepsilon_{i,t} $$ 变量含义与上面相同，不同的是当 $\\beta\u003c0$ 才说明趋同， $D_{i,t}$ 是虚拟变量，也就是分组，例如整个东亚可能是同样的发展路径，或者某几个城市都是作为港口城市进行发展。 发现的比较有趣的研究是以什么标准聚类分类俱乐部，比如以“中等收入陷阱”为聚类分类标准建模12。 Du (2017) （这位居然是山东大学的）引入了 Stata 包来执行 Phillips 和 Sul (2007) 的计量经济学收敛分析和俱乐部聚类算法。 分组依据思想大概如下 $$ \\lim_{ x\\rightarrow +\\infty}{\\frac{X_j}{X_i}}\\rightarrow1 $$ 想详细看数学推导1314的可以点击他们的名字的超链接看。 关于俱乐部聚类的 stata 操作，youtube、GitHub 有很好的教程。 我把他的 do 文件进行了部分翻译和细节补充： 注意使用 cd 调整 stata 的工作读取环境（已写进 do 文件的注释） 百度网盘do文件 dta文件 *****************本do文件和附带数据源来源于以下： * https://github.com/quarcs-lab/mendez2020-convergence-clubs-code-data * 本文件主要是进行了局部翻译和增加了细节操作的翻译和提示 *------------------------------------------------------- ***************** 加载绘图的安装包********************* *------------------------------------------------------- * Install the convergence clubs package findit st0503_1 net install st0503_1, from(http://www.stata-journal.com/software/sj19-1) * Install package dependencies ssc install moremata * 提醒：运行这些包需要stata12及其以上，结果导出到excel需要14.2以上 *------------------------------------------------------- *------------------------------------------------------- clear all macro drop _all set more off capture log close *------------------------------------------------------- ***************** 定义全局宏方便引用********* *------------------------------------------------------- * (1) Indicate name of the dataset (Example: hiYes_log_lp.dta) global dataSet hiYes_log_lp * (2) Indicate name of the variable to be studied (Example: log_lp) global xVar log_lp * (3) Write label of the variable (Example: Labor Productivity) global xVarLabel Labor Productivity * (4) Indicate cross-sectional unit ID (Example: country) global csUnitName country * (5) Indicate temporal unit ID (Example: year) global timeUnit year *------------------------------------------------------- //方便宏调用的逻辑是命名文件在stata工作目录中 //使用cd即可查看和转移当前工作目录 cd F:\\桌面\\俱乐部收敛 *------------------------------------------------------- ***************** 加载并设置数据集 *********** *------------------------------------------------------- ** Load data use \"${dataSet}.dta\" * Keep necessary variables keep id ${csUnitName} ${timeUnit} ${xVar} * Set panel data xtset id ${timeUnit} *------------------------------------------------------- *------------------------------------------------------- ****运行 log-t 收敛测试、聚类和合并算法，并在表中列出最终结果***** *------------------------------------------------------- * 如果我们使用日志文件，所有代码和结果都会记录在dataSet_clubs.txt文件中。另外，通过使用putexcel我们可以将结果以表格形式导出到excel。 * (1) Run log-t regression putexcel set \"${dataSet}_test.xlsx\", sheet(logtTest) replace //设置excel作为输文件,会默认输出到当前你设置的工作日志中(cd) logtreg ${xVar}, kq(0.333) //kq()是要被舍弃的数据权重，默认是0.3 //这个命令的数学推导可见： * https://www.stata-journal.com/article.html?article=st0503 * https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1468-0262.2007.00811.x //加上后面的命令，数学意义就是每个聚类里，趋于极限时，各个聚类内部变量相除为1，则他们相对收敛 ere","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:4:1","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"2、实证结果（例子） 中国目前的实证结果基本就是满足 $\\sigma$ 收敛15和俱乐部收敛（分类一般是中东西部这种区域分类）16。GDP、全要素、工业产出作为标准基本是一样的结论17。 img\r个人觉得同济版教材的微积分部分还是很不错的，但是绝对别用其线代部分。定义方面，同济版定义的方向导数和有些数学分析教材并不相同。 ↩︎ 个人觉得国内最好的统计学教材，尤其是在概率论部分，引人入胜。数理统计那部分相对学起来无趣一些 ↩︎ 其他还有几何法、主观法、代数法 ↩︎ 真要各自解释这几个大数定理，我自己反正是记不清 ↩︎ 具体是啥条件我已经忘记，机器学习应用时，感觉满足挺难的 ↩︎ 所以我说，经管版概率论教材就是不行，如果不看统计学教材，就错过了这么连贯的知识点理解。所以这些分布本身就是一步一步发展过来的。如果不知道这种发展，还以为是隔空投送呢 ↩︎ 这部分主要参考了《区域与城市经济学》（踪家峰著） ↩︎ Barro R J, Sala-i-Martin X, Blanchard O J, et al. Convergence across states and regions[J]. Brookings papers on economic activity, 1991: 107-182. ↩︎ Baumol, W. J. (1986). Productivity Growth, Convergence, and Welfare: What the Long-Run Data Show. The American Economic Review, 76 (5), 1072–1085. http://www.jstor.org/stable/1816469 ↩︎ 彭国华. 中国地区收入差距、全要素生产率及其收敛分析[J]. 经济研究, 2005 (9): 11. DOI:CNKI:SUN: JJYJ. 0.2005-09-003. ↩︎ Barro R J, Mankiw N G, Sala-i-Martin X. Capital mobility in neoclassical models of growth[R]. National Bureau of Economic Research, 1992. ↩︎ 徐永慧, 李月, 邓宏图. 俱乐部收敛与中等收入陷阱[J]. 现代财经 (天津财经大学学报), 2022,42 (11): 48-62. DOI: 10.19559/j.cnki. 12-1387.2022.11.004. ↩︎ Du, K. (2017). Econometric convergence test and club clustering using Stata. The Stata Journal, 17 (4), 882-900. ↩︎ Phillips, P. C., \u0026 Sul, D. (2007). Transition modeling and econometric convergence tests. Econometrica, 75 (6), 1771-1855. ↩︎ 林毅夫, 刘明兴. 中国的经济增长收敛与收入分配[J]. 世界经济,2003 (08): 3-14+80. ↩︎ 沈坤荣, 马俊. 中国经济增长的“俱乐部收敛”特征及其成因研究[J]. 经济研究,2002 (01): 33-39+94-95. ↩︎ 汤学兵, 陈秀山. 我国八大区域的经济收敛性及其影响因素分析[J]. 中国人民大学学报,2007 (01): 106-113. ↩︎ ","date":"2023-10-01","objectID":"/zh-cn/posts/shounian/:4:2","tags":["Stata"],"title":"收敛：从“算式的极限”到“增长的极限”","uri":"/zh-cn/posts/shounian/"},{"categories":["经济学习"],"content":"罗伊、霍太林、谢泼德经济计算式 《平新乔微观经济学十八讲》直接使用了上面三者作为课后试题的计算方法，但是《微观经济学：现代观点》（范里安1）中并未提到这部分知识点（数学上感觉平新乔门槛挺高的），因此在此补充记录。 《平新乔微观经济学十八讲》2在以下附件中（来自 z-library） 微观经济学十八讲 (平新乔) (Z-Library) .pdf ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:0:0","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"总体理解框架 一个希克斯需求疯狂跨越各种知识点\r谢泼德引理（Shephard’s lemma）给定生产函数数量，成本最小化； 罗伊恒等式（Roy’s identity）给定预算, 效用最大化； 霍特林引理（Hotelling’s lemma）是无约束利润函数。 他们都是包络问题的分析 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:1:0","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"一、谢泼德引理（Shephard’s lemma） ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:2:0","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"生产理论，成本最小化 给定生产函数数量，求成本最小 $$ min \\sum_{i}^{n}{w_i x_i}\\newline st.\\bar{y}=f(x_1,x_2 \\cdots x_n) $$ 成本最小化\r我们往往构造拉格朗日方程求解：$\\mathcal{L}= \\sum_{i}^{n}{w_i x_i}-\\lambda[\\bar{y}-f(x_1,x_2 \\cdots x_n)]$ 对 $x_i$ 和 $\\lambda$ 求偏导等于 0，最后解出最优产量投入 $x_i$, 带入成本函数，我们就得到了最小成本3$\\sum_{i}^{n}{w_i x_i^*}$。 范里安教材中常用的几何求解方法为： $$ \\large \\bbox[#def,10px,border: 5px solid]{\\frac{\\Delta x_2}{\\Delta x_1}=-\\frac{MP_1(x_1^{*},x_2^{*})}{MP_2(x_1^{*},x_2^{*})}=-\\frac{w_1}{w_2}} $$ 谢泼德引理就是拉格朗日法过程的简化。对于成本函数 $c(\\mathbf{w},y)=\\sum_{i}^{n}{w_i x_i^*}$ 对要素价格 $w_i$ 求偏导，方程解被称 $x_2$ 为希克斯需求函数函数（最小支出下的最优商品束）。 $$ \\large \\bbox[#def,10px,border: 5px solid] { x_{i}(\\mathbf{w},y)=\\frac{\\partial c(\\mathbf{w},y)}{\\partial w_{i}}} $$ ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:2:1","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"证明过程： $$ \\begin{align} \u0026 x_{j}(\\mathbf{w},y)=\\frac{\\partial c(\\mathbf{w},y)}{\\partial w_{j}}\\newline \u0026=\\frac{\\partial\\sum_{i=1}^{n}{w_i x_i}}{\\partial w_{j}}\\newline \u0026=x_j+\\color{red}{\\sum_{i=1}^{n}w_i\\frac{\\partial x_i}{\\partial w_j}} \\end{align} $$ 对于红色部分 $\\color{red}{\\sum_{i=1}^{n}w_i\\frac{\\partial x_i}{\\partial w_j}}$，我们之前的拉格朗日方程有 $$ \\frac{\\partial \\mathcal{L}}{\\partial x_i}=w_i-\\lambda f(x_1,\\cdots ,x_n)=0\\newline \\Rightarrow w_i=\\lambda f(x_1,\\cdots ,x_n) $$ 把 $w_i$ 代入替换，原式变为 $$ \\begin{align} \u0026x_j+\\color{red}{\\sum_{i=1}^{n}w_i\\frac{\\partial x_i}{\\partial w_j}}\\newline \u0026=x_j+\\sum_{i=1}^{n}\\lambda f (x…)\\frac{\\partial x_i}{\\partial w_j}\\newline \u0026=x_j+\\lambda \\sum_{i=1}^{n}f (x…)\\frac{\\partial x_i}{\\partial w_j}\\newline \\end{align} $$ 同时，条件有给定产量函数数值 $\\bar{y}$ $$ \\bar{y}=f(x_1,x_2 \\cdots x_n) $$ 因此实际上，对式子 $w_j$ 导为 0。 $$ \\frac{\\partial\\bar{y}}{\\partial w_j}=\\frac{\\partial f(x_1,x_2 \\cdots x_n)}{\\partial w_j}=0 $$ 等式成立。 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:2:2","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"消费理论，同理， 要素价格变为商品价格，成本函数变成支出函数。 给定价格效用，最小成本问题的需求 $x_i^*$ 的解 ,我们把其叫做希克斯需求函数。 $e(p,u)$: 给定的支出函数。 $$ \\large \\bbox[#def,10px,border: 5px solid]{x_i^h=h_i(p,u)=\\frac{\\partial e(p,u)}{\\partial p_i}} $$ 使用条件：$e(p,u)$ 可微，$w_i\u003e0$。 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:2:3","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"应用举例 总成本函数为：$C=qv^{2/3}v^{1/3}$ （1）利用谢泼德引理计算 kk 和 ll 的要素需求函数 （2）根据（1）的结论计算潜在生产函数 （1） $$ \\begin{aligned} l\u0026=\\frac{\\partial C}{\\partial w}=\\frac{2}{3}q\\bigg(\\frac{v}{w}\\bigg)^{1/3} \\newline k\u0026=\\frac{\\partial C}{\\partial\\nu}=\\frac{1}{3}q\\bigg(\\frac{w}{\\nu}\\bigg)^{2/3} \\end{aligned} $$ （2）根据（1）的结果消除 $\\frac{v}{w}$， $q=\\left(\\frac{3}{2}\\right)^{2/3}(3)^{1/3}l^{2/3}k^{1/3}=Bl^{2/3}k^{1/3}$。 $B=\\left(\\frac{3}{2}\\right)^{2/3}\\left(3\\right)^{1/3}$。 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:2:4","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"二、罗伊恒等式（Roy’s identity） ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:3:0","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"消费理论, 效用最大化 给定预算约束线，求效用最大化 $$ \\max u=f(x_1,x_2 \\cdots x_n) \\newline st.\\sum_{i=1}^{n}{x_ip_i}=m $$ img\r范里安中常用的几何求解方法为： $$ \\large \\bbox[#def,10px,border: 5px solid]{\\frac{\\Delta x_2}{\\Delta x_1}=-\\frac{MU_1(x_1^{*},x_2^{*})}{MU_2(x_1^{*},x_2^{*})}=-\\frac{p_1}{p_2}} $$ 间接效用函数 ${\\displaystyle v(\\mathbf {p} ,w)}$：满足预算约束时的最大效用 $\\mathbf {p}$ : 商品价格， $w$ ：工资 则商品需求数量的解 $x_i$ 也就是马歇尔需求函数（商品价格与需求的函数）。 $$ \\large \\bbox[#def,10px,border: 5px solid] {x_i^m=-\\frac{\\partial v/\\partial p_i}{\\partial v/\\partial m} } $$ ($x_i^m$ 中的 m 表示的是马歇尔需求函数的意思，同理， $x_i^h$ 中的 h 是希克斯需求函数。） ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:3:1","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"证明过程： 拉格朗日函数为 $\\mathcal{L}=u(\\mathbf{x})-\\lambda(\\mathbf{p}\\cdot\\mathbf{x}-m)$，对 $\\mathcal{L}$ 求 $x_i$ 偏导。 $$ \\frac{\\partial\\mathcal{L}(\\mathbf{x}^{f},\\lambda^{f})}{\\partial x_i}=\\frac{\\partial u(\\mathbf{x}^{f})}{\\partial x_i}-\\lambda^{f}p_i=0 $$ 对于拉格朗日函数，我们对预算上限 $m$（这里指收入）求导 $$ \\frac{\\partial\\mathcal{L}(\\mathbf{x}^{f},\\lambda^{f})}{\\partial m}=\\lambda^{f} $$ 如何理解 $\\lambda$ ——它是影子价格。 $$ \\boxed{\\max u=f(x_1,x_2 \\cdots x_n)\\newline st.\\sum_{i=1}^{n}{x_ip_i}=m\\newline } $$ $$ \\mathcal{L}=u(\\mathbf{x})-\\lambda(\\mathbf{p}\\cdot\\mathbf{x}-m) $$ 当我们改变约束条件$.st$ 里的 $m$ 的值时，也就是产生 $\\Delta m$ 的变化，目标函数 $\\max u$真正被改变的值是。$\\lambda^f\\Delta m$ 因此我们说 $\\lambda$ 衡量了对应要素的改变对于真正目标函数的变化，被叫做“影子价格（真实价格）”。 由此我们得到： $$ \\lambda={\\frac{\\partial{\\mathcal{L}}}{\\partial m}}={\\frac{\\partial v (\\mathbf{p},m)}{\\partial m}} $$ 同理，如果我们研究 p 的变化，可以得到 $$ \\frac{\\partial\\nu(\\mathbf{p},m)}{\\partial p_{i}}=\\frac{\\partial\\mathcal{L}(\\mathbf{x}^{f},\\lambda^{f})}{\\partial p_{i}}=-\\lambda^{f}x_{i}^{f} $$ 联立， $$ \\begin{cases} \\lambda={\\frac{\\partial v (\\mathbf{p},m)}{\\partial m}}\\newline \\frac{\\partial v(\\mathbf{p},m)}{\\partial p_{i}}=-\\lambda^{f}x_{i}^{f} \\end{cases} $$ 得到罗伊恒等式。 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:3:2","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"应用举例 平新乔《微观经济学十八讲》第 16 讲“一般均衡与福利经济学的两个基本原理” 第 3 题 考虑两个消费者，两种商品的经济，消费者效用禀赋如下。 $$ \\begin{aligned} u^{1}(x_{1},x_{2})\u0026=\\min{x_{1},x_{2}}\u0026e^{1}=(30,0) \\newline \\nu^{2}\\left(p,y\\right)\u0026=\\frac{y}{2\\sqrt{p_{1}p_{2}}}\u0026e^{2}=(0,20)\\end{aligned} $$ 求发现瓦尔拉斯均衡 消费者 1 的马歇尔需求： $$ x_{1}^{1}=x_{2}^{1}=\\frac{m}{p_{1}+p_{2}}=\\frac{30p_{1}}{p_{1}+p_{2}} $$ 消费者 2，使用罗伊恒等式 $x_{i}\\left(p,m\\right)=-\\frac{\\partial\\nu/\\partial p_{i}}{\\partial\\nu/\\partial m}$ 得到： $$ x_{i}^{2}=\\frac{m}{2p_{i}}=\\frac{10p_{2}}{p_{i}} $$ 解得——略 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:3:3","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"三、霍特林引理（Hotelling’s lemma） 谢泼德引理和罗伊恒等式都是由约束条件下的包络问题，霍特林引理则是无约束情况下的包络问题。 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:4:0","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"生产理论，利润最大化 给定利润函数 $$ \\pi(p)=\\max_{x}p\\cdot f\\small{(x(p,w))}-w\\small{x(p,w)} $$ $w$：生产要素价格，$ y (p)$ : 厂商供给函数, $y(p)\\triangleq f(x(p))$ 为净供给量。 范里安里这类题先判断是完全竞争还是非完全竞争、短期、长期、要素、商品市场。 霍特林引理为： $$ \\large \\bbox[#def,10px,border: 5px solid] {y^{*}(p)=\\frac{d\\pi(p)}{dp} } $$ ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:4:1","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"证明过程： 对于 $$ \\pi(p)=\\max_{x}p\\cdot f\\small{(x(p,w))}-w\\small{x(p,w)} $$ 一阶最大化条件为： $$ p\\frac{\\mathrm{\\partial}f(x(p,w))}{\\mathrm{\\partial}x}-w=0 $$ 利润函数 $\\pi$ 对 p 求导： $$ \\frac{\\partial\\pi(p,w)}{\\partial p}=f(x(p,w))+\\color{blue}{p\\frac{\\mathrm{d}f(x(p,w))}{\\mathrm{d}x}\\cdot\\frac{\\partial x(p,w)}{\\partial p}-w\\frac{\\partial x(p,w)}{\\partial p}} $$ $$ \\color{blue}{蓝色部分=(p\\frac{\\mathrm{\\partial}f(x(p,w))}{\\mathrm{\\partial}x}-w)\\frac{\\partial x(p,w)}{\\partial p}}=0 $$ ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:4:2","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"应用举例 平新乔《微观经济学十八讲》第七讲“要素需求函数、成本函数、利润函数与供给函数” 第一题 已知生产函数为 $f(x_1,2_2)=0.5lnx_1+0.5lnx_2$ 求利润函数 $\\pi(w_1,w_2,p)$, 并用两种方法求供给函数。 利润函数： $\\pi=\\frac{p}{2}(lnp^2-ln4w_1w_2)-p$ 供给函数：使用 Hotelling’s lemma $$ y=\\frac{\\partial\\pi(w_1,w_2,p)}{\\partial p}=\\frac{1}{2}(lnp^2-ln4w_1w_2) $$ 普通方法，分别求偏导 $\\frac{\\partial \\pi}{\\partial x_i}=0$ 解出 $x^*$, 带入利润函数，答案相同。 ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:4:3","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["经济学习"],"content":"四、补充 参考数理经济学的基本方法（蒋中一），这几个定理其实就是基于包络分析求出间接函数。 将间接函数代入这类问题的一阶条件消除参数 𝜆 ，就会得到范里安中常见的图形解。 给定成本，利润最大化；给定利润，成本最小化。两者互为对偶问题，函数结果相同，但包络分析下的参数 𝜆 互为倒数。 范里安还是很体贴，没用啥复杂的数学，甚至直接在《成本最小化》章节里面说自己不会考 Cobb-Douglas 对应成本，不过到了中国就开考而且更近一步了 ↩︎ 讲义名声在外，不过我还没有看完 ↩︎ 顺便一提，对于这类条件问题，成本最小化就是利润最大化，问题可以互相转化 ↩︎ ","date":"2023-09-13","objectID":"/zh-cn/posts/flapxq/:5:0","tags":["微观经济学"],"title":"微观经济：罗伊、霍太林、谢泼德 ","uri":"/zh-cn/posts/flapxq/"},{"categories":["阅读"],"content":" 所有疯狂之举的背后，藏着一颗坚韧而纯粹的心脏。 理解《再见绘梨》的关键不是看见优太创造回忆，而是意识到优太一直在拍摄自己。 正如本文的标题一样——难以言明，世人不知道我为爱上这个世界倾注了多少努力。 藤本树在一个短篇里拍摄了四部电影，每一部电影都会颠覆上一部电影的立意，进而达成虚实结合的效果。其实就是用一个故事推翻另外一个故事，最后全部反转组成完整的故事。 对于本篇——我爱藤本树的价值观胜过叙事技巧（包括漫画的电影拍摄风格）。 本文将按照 电影划分-颠覆-伏笔呼应 的顺序介绍几个故事的串联。 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:0:0","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"第一层电影：妈妈的电影 第一个电影是属于妈妈的电影。 男主（忧太）妈妈得了癌症，请求儿子将自己拍下。母亲的最后一刻，男主拒绝探望，并炸掉了医院。 拍出这个故事的男主被同学们当作疯子。 经典女孩遇见男孩展开叙述—— 男主在想要自尽时遇见了女主，女主（绘梨）很喜欢这个电影，带着男主看电影希望他未来拍出所有人都认可的属于他自己的电影。 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:1:0","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"第二层电影：绘梨的电影 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:2:0","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"情节颠覆 在第一个电影里面，妈妈是正面形象，而第二部电影开始揭露妈妈的全部面貌。 从此处，藤本树的逆转开始了——他将扭转所有角色。 绘梨为什么喜欢忧太的电影： 绘梨：“让刚上初中的儿子拍摄自己临终的电影纪录片，你不觉得这样的母亲很过分吗？但你的电影里，她依旧很漂亮。” 忧太爸爸为什么喜欢忧太的剧情： 忧太爸爸：“忧太，你的妈妈脾气很差，你最后没去看她，她还埋怨你直到最后还没用，但你把他拍得很漂亮，你拥有创造回忆的能力。” 忧太爸爸：“忧太，你的妈妈脾气很差，你最后没去看她，她还埋怨你直到最后还没用，但你把他拍得很漂亮，你拥有创造回忆的能力。”\r","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:2:1","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"伏笔呼应 再看接着第一层故事的伏笔——为什么优太不敢去看望妈妈？ 因为他也无法承受这份压力，他想用爆炸来逃避现实。我们看不起的逆天剧情居然就这样完成了第一次反转，同时上升到人生的探讨——人如何逃离痛苦？那就是塑造自己的回忆。 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:2:2","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"道理升华 绘梨死掉了，优太拍摄的绘梨的电影大受欢迎。 绘梨的朋友：“绘梨平时都戴着眼镜吧，而且脾气没这么好，你美化过度了，但还是感谢你，那将是我以后记住的绘梨”。 绘梨的朋友：“绘梨平时都戴着眼镜吧，而且脾气没这么好，你美化过度了，但还是感谢你，那将是我以后记住的绘梨”\r奇幻是天赋，也是痛苦。 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:2:3","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"第三层电影：优太的电影 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:3:0","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"情节颠覆 优太说前面的其实都是电影。 多年以后，成年的优太家庭不幸，来到以前和绘梨一起看电影的地方想要自尽，发现她居然在那里！原来她是吸血鬼。于是优太完成告别后，炸掉了大楼。 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:3:1","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"伏笔呼应 第一层母亲的电影，是优太拍摄自己眼中的母亲 第二层绘梨的电影，是优太拍摄自己眼中的绘梨 答案呼之欲出，从始至终，是优太在拍摄自己 更重要的，从头到尾都是优太拍摄着自己眼中的自己 第二层故事中，绘梨曾说过——“我想让你拍摄的，是属于优太你自己的电影”。 因此我们可以认为第三幕的电影史优太爸爸扮演的——因为现实不可能存在吸血鬼。 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:3:2","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"优太的电影 ：我的奇幻是什么 理解《再见绘梨》的关键不是看见优太如何回忆他人，而是意识到——优太从头到尾都在拍摄着自己🤧。 前三个电影泾渭分明，只通过一些相同的要素（角色、爆炸、死亡）串联在一起。本漫画的分镜设计，也特意做成了胶片摄影风格来呼应主题表达。 每一个后面的电影都会推翻前面的电影，最后三个电影构成了一个完整的故事。 技巧也着实简单：借着拍电影的设定把人物形象拆分到不同片段、镜头内外去，最终让展现拍摄本身的故事。 妈妈的电影：优太只拍出来妈妈美好的样子，因为恐惧妈妈的死亡不自觉地加入了爆炸作为结尾。 此时，优太自己也无法理解自己的决定，为什么会有爆炸呢？ 绘梨的电影：优太只拍出了绘梨美好的样子，他没有加入任何爆炸元素。 奇幻是优太的天赋，也是他痛苦的来源。优太在抗拒奇幻。没必要给电影加上爆炸吧？ 优太的电影：加入吸血鬼、爆炸作为最后的结尾。 这时优太终于理解了自己，电影确实不需要爆炸。是优太自己选择了加入爆炸，正如优太选择只给朋友家人留下他们美好的一面。 三幕电影爆炸要素的反复，就是优太自己成长的体现。 ","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:4:0","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["阅读"],"content":"藤本树为什么是疯子 ？ 他告诉你，展现离别的悲伤不用特意展现病床前的撕心裂肺，害怕到逃避也是爱。 他告诉你，镜头都是骗局，你的记忆不是客观的储存而是主观的欺骗。 他告诉你，镜头以外，这个世界布满了死亡，不存在奇幻。世界上的人无非是脾气又臭又爱闹别扭的小鬼。 举例子，绘梨刚出场时在抽烟，但是被 P 掉了。这就在暗示从头到尾都是优太在拍摄绘梨。 如图\r细节被p掉的抽烟\r关于《再见绘梨》一个不解，绘梨为什么她在一开始出现的形象是美少女呢？ 在你最痛苦的时候，一层一层揭开母亲、绘梨的真实之后， 你也见到了优太的真实—— 母亲从逼迫小孩的臭脾气母亲变成了温柔贤惠的母亲 绘梨从带着眼镜的臭脾气小姐变成了善解人意的女孩 优太害怕母亲的离去，所以爆炸吧 优太害怕绘梨的离去，所以变成吸血鬼吧 现实没有爆炸，现实也没有吸血鬼。所有的故事嵌套起来形成了叙述性诡计——形成了优太自己眼中的自己，他的成长，他的价值观 。 人生是场注定徒劳的抵抗，奇幻色彩的自我添加是我们为数不多且极具安慰力量的选择。所以即便不存在也尝试去追求那一抹奇幻，这不是一件非常美妙的事情吗？ 不真实就不值得追求吗？这不是一件非常美妙的事情吗？\r但是，我不会因为一个人选择奇幻就感动，也不会因为一个人表达要坚持理想主义就感动。 在经济停滞的当下，人人都在为活着找理由，那和追求奇幻并无不同。 我不需要别人劝我去追求奇幻。 我需要的是理解自己在干什么。 藤本树正是通过这个故事将一个人内心的自我探寻娓娓道来。 心理老师会选择温暖故事让你去追求现实。 而疯子只会踢开大门直直地闯进来，在用黑暗现实将人搞崩溃后进行诈骗，这就是疯子一样的创作者——藤本树。 无论世界怎样残酷，即便是用自我催眠的奇幻色彩添加，也请不择手段地爱上这个世界，这是奇幻电影推销员藤本树对所有读者的一场催眠诈骗。 人为了生存会寻找不存在现实中的奇幻——请不要抗拒这种被动。 正因如此———优太眼中的自己是： 无法言明，我已为爱上这个世界付出了多少努力。也请你理解你自己。 现在，你能理解吗？一个人愿意活在世上，是因为他建立起了一种心态。所谓奇幻和电影只是其中一种外显。希望你能认识这种奇幻，不是塑造他人，而是认识你自己。\r","date":"2023-09-12","objectID":"/zh-cn/posts/zjhl/:5:0","tags":["二次元"],"title":"再见绘梨：不是回忆别人，而是认识自己","uri":"/zh-cn/posts/zjhl/"},{"categories":["软件工具","经济学习"],"content":"因为“财政学前沿”课程需要写反馈论文，于是顺便学习了 CiteSpace 用于进行文献可视化。本文也会简单介绍一些其他可以用的网页可视化工具，但重点是 CiteSpace 。 写这个文章也是为了记录最（新版 6.2.2 版） 一些网络教程没提及的点和一些更细节的操作事项。下面是李杰老师和陈超美老师写的指南，还包含了对知识图谱这个学科的梳理，不过基础操作我将在本文中直接展示。 CiteSpace科技文本挖掘及可视化 Citespace中文指南 第7版 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:0:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"一、效果如图 CiteSpace 基于 java 开发，基础版功能免费，高级版需要付费，这里只介绍免费基础版的功能。基础版其实已经够用。 以“财政预算”为关键词，知网引用前500份文献可视化。\r以“财政预算”为关键词，知网引用前 500 份文献可视化。 二次元主题，可以发现B站、初音未来也是三级关键词（homo是这样的）\r二次元主题，可以发现 B 站、初音未来也是三级关键词（homo 是这样的） 这是时序图，还真发现点东西，例如财政预算主题的变化：财政改革、预算公开、预算程序、支出结构、债务管理\r热点词趋势，红色的就是主题词集中出现的时间段\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:1:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"二、下载与中文界面设置 1、下载网页： 网页 前文说过 CiteSpace 基于 java 开发，所以早期版本需要提前下载1。最新版本已经内置了 jre 所以不用额外下载。直接点进去像下载普通软件一样一路“ yes ”即可。 2、关于安装位置：建议安装路径不要有中文，感觉外国软件都需要注意这条。个人感觉内存占用不是很大，安装在 C 盘也无所谓。 3、页面汉化： 好消息：新版 CiteSpace 汉化了。坏消息：汉化的不多。 先是黑框，然后等待后弹出初始页面，以后每一次都会重新从这个页面开始进入\r顺便一提，可以从最上面看到我的电脑用户名叫pluck，第一次知道这个单词是因为JOJO\r顺便一提，可以从最上面看到我的电脑用户名叫 pluck，第一次知道这个单词是因为 JOJO ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:2:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"三、数据导入 来源：CiteSpace科技文本挖掘及可视化（第三版）\r首先建立三个文件夹：in、data、projecet 个人建议保存到方便从我的电脑点入的浅层，后期数据处理需要反复点击确认文件夹位置。 $$ 文件夹\\begin{cases} in：保存txt格式的文献信息\\newline data ：保存文件夹in中清洗后的text文献信息\\newline project：保存可视化操作 \\end{cases} $$ ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:3:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（一）知网数据导入 1、知网数据选择阶段 筛选时注意:“全选”只是本页面的结果全选， 知网最多只支持 500 份记录导出，同时 CiteSpace（免费版）最多支持处理 500 份数据。 为加快进度，先把显示改成 50 条，然后全选 10 页，选出 500 条文献信息。 切换知网页数点右上方箭头指的地方即可，没必要拉到下面去看。 知网\r按照如下方式选择导出文献为 refworks，导出为 .txt 文件 Refworks\r同时知网是自带可视化页面的，我们也需要再次按照下图路径进入知网可视化分析，记住我们选择的 500 份文献的时间。时间范围非常重要，会在后面用到。 选择路径\r知网自带的可视化分析，注意时间\r2、文件夹清洗阶段 把 .txt 文件的名称格式改为 download_x, 这样才能被 CiteSpace 识别。例如 : download_1、download_i…… 清洗完成后，文件夹in 的 download_x.txt 就被处理加工到 文件夹data 中，可以看下 data 文件夹里面有没有处理后的 text 文件作为检验手段。 按顺序做\r当 data 里面的 txt 文件处理好后，点击初始页面的“新建”， 在新弹窗命名，并且输入 data 和 project 的路径2 然后选择文献语言（英语\\中文）和资料库格式（一般选 WOS ） 选择\r3、数据分析页面 如图，右下角是选择裁剪路径，把关系图没有必要的枝丫去掉，保留核心的相关文献。 右上方是文献时间，所以之前强调一定要先用知网自带的可视化确定时间范围。 右侧中间是可视化元素选择，一般选择关键词。 选好后就在左侧点击开始 如果顺利，就会弹出有“可视化”按钮的弹窗，点击就开始分析。 开始分析\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:3:1","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（二）WOS 数据导入 WOS 就是 web of science 注意：由于 CiteSpace 筛选的是期刊论文，不是图书，所以一定要选择核心合集库，不然后面有图书了可能无法进行下去！ 选择核心合集库\r后面和知网一致。 导出为纯文本文件，导出上限也是 500 条 导出的记录内容需要为“全记录与引用的参考文献” （如果没有出现这个选项，就说明里面混进了图书，所以前文提醒了要在“核心合集库”中筛选）\r后面的数据输入就是选择 WOS 了，这里主要是进行一个去重，其他和知网一致。需要注意的是，知网的清洗后的 data 文件夹中， .txt 文件只有一个，但 WOS 清洗后的 data文件夹 中 .txt，对应着文章的 doi、关键词之类的，所以不用怀疑自己是否操作失误，或者多次点击“去重整理”，这样会产生重复的文件！ ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:3:2","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（三）支持的数据网站 来源：《CiteSpace科技文本挖掘及可视化（第2版）》，最新版是第3版\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:3:3","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"去重操作 文档 txt 记录重复会影响节点计算。 去重功能在 wos 这里。将 txt 文档按照数据库来源转化后，再在 wos 这个选项中去以下重即可。 如图\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:4:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"四、可视化实操 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:5:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（一）关键词图谱 新版背后的大水印无法去掉 新版背后的大水印无法去掉\r图形阶段，我们一般如下操作：\r图形阶段，我们一般如下操作： $$ \\begin{align} \u0026节点调整为圆形：\\newline \u0026节点\\Rightarrow \\text{Node Shape for Keywords and Terms} \\Rightarrow Circle \\newline \u0026聚类分析优化：\\newline \u0026聚类 \\Rightarrow \\text{Convex Hull: Show/Hide}\\newline \u0026聚类色块：\\newline \u0026聚类 \\Rightarrow \\text{Visual Encoding: Advanced Settings} \\Rightarrow \\text{Areas: Fil/Border Only} \\end{align} $$ 这样是可以清晰地看到色块边界，如果觉得太花哨，重新点击下就是 hide，会把色块去掉。 样式如图\r格式上，我一般选择下面的两者之一，标题选择 LLR，连线选择直线 选择\r更细节的操作：也是最主要的控制页面 更细节的操作\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:5:1","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（二）时序图 时序图的关键词数量和权重方式控制依旧为下图 时序图\rimg\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:5:2","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（三）突显词 $热点\\Rightarrow View$，就会出现，同时出现的弹窗可以看做 Word 表格环境，直接复制粘贴， 以原格式粘贴到 Word 环境中，就是表格形式且保留色彩。 这个页面可以复制粘贴，是Word的表格形式\r这个页面可以复制粘贴，是 Word 的表格形式 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:5:3","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（四）高级版操作（氪金变强） 以前好像普通版也能画时区图，现在好像不行了，得付费用高级版。还有一些耦合性分析。 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:5:4","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（五）txt 工具 如果升级了高级版，似乎可以处理超过 500 条文献信息3，但知网和 WOS 还是只能以 500 条为上限分批导出。此时可以使用 txt合并工具。 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:5:5","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"（六）导出 可以看到有两个水印（背后一个大的，左下角一个小的），背后大水印是新版出的，消不掉。 左下角水印去掉操作如下： img\r$标签 \\Rightarrow \\text{overlay Labels: Show/Hide}$ img\r文件格式导出支持 .png 和 .jpg 。点击左上角菜单“文件”，就会弹出 save as pdf。 虽然表面去掉了左下角的水印，但是导出还是会有，，，，，所以如果不想有任何水印，建议调整好画面直接电脑截图。 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:5:6","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"五、其他文献可视化网站 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:6:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"1、知网、wos 自带数据可视化 img\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:6:1","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"2、如果是 zotero 前辈的话，那样也是可以的哟 知网的可视化看起来不错，能不能带回家呢？当然可以。 我在其他文章中介绍过 zotero 的可视化插件，其中就内置了类知网的可视化功能。 花瓣图标就是启动开关，可以调节窗口大小，有四个可视化关系，移动到页面底部就会浮现出切换选项。 只支持zotero6版本，zotero7已删除这个功能\r在 zotero 中得到自己搜集的文献可视化 词云也是有的，不过是整个 zoterozotero 文库的文献可视化词云。 img\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:6:2","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"3、bibliometric 只支持SCI数据库 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:6:3","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"4、connectpaper 直接检索关键词，它就会去联想相关文献形成图谱，还会包含 arXiv 等网站。 img\r","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:6:4","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"5、researchrabbit 网站：www.researchrabbit.ai/ ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:6:5","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"六、文献综述？ 能用 CiteSpace 水论文吗？我感觉不容易，至少近几年似乎 C 刊是没有这样的论文。但做做作业、小项目感觉还行？不过用多了过于流程化后还是太平淡了。 我个人感觉好的综述应该如下： 对整个主题深度和前景都有独特的理解：不只有趋势性描述，还应该把握热点背后的时代背景。 所以我在写反馈论文时尝试结合热点谈论“财政预算”与“现实需要”。 关键词 财政汲取 国有资本 预算公开 支出结构 债务管理 背景 寻求发展 国有资本流失 腐败问题 高质量发展\\公共选择\\官员锦标赛模型 经济现状 时间 建国 2010 左右 2014 左右 2017 左右 2022 左右 对现有的研究方向、理论发展阶段用一个框架进行巧妙的分类。 能把握主题广度和实效性（这是 CiteSpace 的优势） 综上，我个人更倾向于通过 CiteSpace 做一些隐藏在背后的工作，例如理顺一个文献综述的关键词的归纳路线和逻辑，帮助自己更好的选题。 ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:7:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["软件工具","经济学习"],"content":"参考 我个人因为玩我的世界 java 版本地就安装过 java，这也是我顺手了解 citespace 的原因之一 ↩︎ 所以尽力选择这里好点出来的文件夹位置，不然老是这样后面懒得点下去 ↩︎ 不过我个人没试过 ↩︎ ","date":"2023-09-06","objectID":"/zh-cn/posts/citespace/:8:0","tags":["文献阅读","软件推荐","Citespace"],"title":"Citespace 文献可视化","uri":"/zh-cn/posts/citespace/"},{"categories":["阅读"],"content":"一、自然选择含义中的“自私” ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:1:0","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"1、书中的自私是什么？ 拟人化的形容会带来不少麻烦。“天地不仁，以万物为刍狗”本意是形容天地法则对所有物种一视同仁，许多人却用这句来唾骂天道无情。《自私的基因》想要论证的是一种类似天道法则的“进化论”看法——基因是自然选择的最小单位 （最小、最好、唯一这几个概念完全不同，理解的争议点也在这里） 。自然选择和基因没有主观意识可言，我们好奇的是它用着怎样的机制促使物种变化。 作者道金斯本人在 30 周年简介1中吐槽: “《自私的基因》一直因为将基因拟人化而受到批评，这一点也需要解释一下（如果不需要道歉的话）”。 本书中自私的含义是 为提高在自然界的生存率采取一切行动 ——意味着不包含主观意识、道德标准、文化现象，只是量化为基因遗传可能性加大。 作者也考虑过《合作的基因》、《不朽的基因》等书名，最后选择《自私的基因》估计是为了和生物的利他行为形成强烈的对比冲击，但有两个要求： 基因是无目的性、意识性的 自私行为是指提升自己的自然界生存几率 物种进化的法则 $\\ne$ 社会运行的法则，作者支持的是把进化论和社会发展区分开来，本书重点强调的是自然选择的生物行为解释。 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:1:1","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"2、自然选择与进化论 40 年前，基因相关的研究尚未像现在一样如此普及；如今，基因重要性早已不言而喻，我们要避免的是“基因决定论”的认知。达尔文虽然留下了“自然选择”，其中的机制却谜团重重。进化单位是个体、族群还是基因？如何解释动物的利他行为？ 你真的了解进化论吗？ 请分析父母偏爱动机的产生？ 动物的争斗为什么是礼节性的——他们对于侵入自己领地的敌人不是赶尽杀绝而是放虎归山？ 动物的伪装算是有意识的欺骗吗？ 什么导致了个体间的合作和竞争？ 繁衍作为生存追求，为什么还要有生老病死？ 除此之外，最大的疑问，上面的问题如何统一在“自然选择”的框架之内？？？？ 以“用进退废”为例子，是个体选择： 长颈鹿随着环境变化脖子不断变长，自然选择表现为个体性状的发育进化。 网图，数码宝贝进化路线：对个体选择理论来说，自然选择就像数码宝贝超进化，为了生存，个体的性状发生了变化\r本书的“自私基因选择”观点则不同： 基因一开始是随意组合的，突变都是偶然，基因们追求的是稳定，也就是说一开始长脖子和短脖子的长颈鹿都存在，只是短脖子的吃不到东西，被淘汰了，剩下的都是长脖子。 自绘图，一个基因沙漏：对基因选择理论来说，个体只是基因的载体，自然选择是本就存在的基因们经过筛选，然后重新组合成更加稳定状态的过程。本书将生物称为基因的生存机器。\r作者选择把“基因”作为自然选择的最小单位2。 如下图所示，研究生物进化，基因、个体、种族、群落、文明可以无限扩大，而作者认为不如聚焦到最小的单位去研究进化过程。任何更大层次的改变，本质来源是基本组成单位的改变（这个看法目前在进化论界尚有争议）。 自绘图：有点像选观察坐标。人人都知道自然选择的存在，但是从什么视角来观察？这也是个大难题\r","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:1:2","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"二、现象到本质的论证手段 本书虽然是“进化论”的科普书籍，但我却看到了经济学的影子。 达尔文留下了“自然选择”；亚当斯密留下了“看不见的手”。 自然选择如何发生？亲缘单位、种族单位、个体单位主义者们对此喋喋不休； 市场机制是否万能？自由主义者和凯恩斯主义者为此互相攻伐。 自私基因≠本书所有假设； 理性人≠经济所有假设； 两者其实都是对现实的现象做出理论假设并且很难进行检验，只是提供了一个解释的视角。 社科观点的难处在于，即便你找到了个美妙的理论来解释现实，在充满摩擦力的世界，你如何证明他们的因果关系？3经济学会通过实验、计量证明；本书更多地则是建立框架，通过逻辑演绎论证——挖掘其他个体主义、种群主义理论的矛盾，但对于观点的正面证明，似乎还是有所欠缺（所以此书观点似乎并非生物学界主流观点，正面证据稍显不足）。 章节逻辑基本如下4： $$ \\begin{align} \u0026生物行为\\Rightarrow why种族/个体选择错误 \\Rightarrow 基因选择\\newline \u0026利他行为动机\\Rightarrow 利润-成本\\geq0 \\end{align} $$ 每当作者谈到基因选择时，这本书就像一个大型建模手册，视角独特，言辞动人。 道金斯大量地使用了“博弈论”探讨动物行为的生存战略，用“均衡”来描述基因遗传的稳态，用“排序”来描述血缘关系，用“运筹学”分析养育方案。整体的正面论述偏向逻辑演绎。 我完全认同本书强调的演绎逻辑： 本书不使用举例论证，不循环论证，不用生物学论证社会学，使用逻辑演绎。 有人说：狒狒是人的先祖，狒狒是自私的，人更是如此。这种混淆了生物关系。 有人说：ABCD 种动物都这样，人也这样，这种举例论证容易操控论点。 有人说：只有优秀的个体才能繁衍，这是循环论证，优秀和繁衍互相论证。 （其实努力就会成功，天道酬勤也是个循环论证。我更愿称这类鸡汤逻辑为生存主义哲学，是生存智慧的体现，用于肯定自我，宣扬自我，安慰自我，很多时候利于个体成长，但与其说是社会运转的绝对规则，不如说是社科旨在塑造的理想环境，一种利于前瞻5道德观发展的环境） 我最开始读和很多读者一样在对部分章节论的论证逻辑感到模糊， 后来总结发现每章结构基本如下： 自绘图，逻辑范式：本书的逻辑是，不是从a上看b，是对比自然对所有物种的筛选，从进化过程中看基因，先找出基因、行为的相关性，再进行脑海中的模型干预，最后筛查出因果。\r先提出个新定义和动物行为疑问，然后反驳其他理论层面上的错误处，之后演绎基因选择的逻辑。 个体、亲属、宗族层面看起来的无私帮助他人的选择，最后都能归纳为基因延续自身的手段，这也是为什么作者认为从基因出发才是最好的角度——这样能够完成利他行为和自私动机的统一。 $$ \\begin{align} \u0026表面上利他：P_{个体}-C_{个体}\\leq0\\newline \u0026实际上自私：P_{基因}-C_{基因}\\geq0 \\end{align} $$ 自绘图：更具体分解的每章内容框架\r","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:2:0","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"三、关于书以外的讨论 由于个人在生物学相关知识素养比较欠缺，主要是在谷歌学术、quora、维基百科、WOS 简单看了看。结论是本书主要是科普一种看世界的视角，但正面的研究和直接应用似乎比较有限。 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:3:0","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"1、进化论（evolution） 就目前研究，进化论似乎更注重非遗传的个体变化，也不否认个体基因以外的性状发育。这些不意味着本书的观点就是错误的，只是让基因视角不再独特。 Since the beginning of the 21 st century, some biologists have argued for an extended evolutionary synthesis, which would account for the effects of non-genetic inheritance modes, such as epigenetics, parental effects, ecological inheritance and cultural inheritance, and evolvability（维基百科）。 在 WOS 上以“selfish gene”为主题检索6，然后通过 citespace 可视化了下最近的研究。 （也可能不太严谨，细胞科学论文过多，更严谨可能需要进一步精准到进化论，自然选择） 看起来正面研究也不多\r","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:3:1","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"2、动物学以外：MEME 模因 让人感叹的是，在进化论以外，本书倒做出了不小的贡献！ 为类比“基因（gene）传递”，道金斯根据希腊词词根“模仿（mimeme）”造词“meme”（为了和 gene 更加形成构词上的对仗）。 经常称之为\"模因\"，在我看的中信出版社版本中，其被翻译为“觅母”。\r我们经常在互联网中看到各种梗图： meme\r梗图等流行符号象征某种文化、某个事件，具有遗传性，又可能因人而变，分享、传播、突变，这中传播现象就像基因的传播一样，被称为 MEME。 《自私的基因》已经说了并非“社会达尔文主义”，但是在第 11 章“新的复制因子”中，阐述了作者对文化的看法。 社会在“基因（gene）”与“模因 (meme)”的双轨制下运行发展。 动物的欺骗似乎都是没有意识的，更多是处于生存本能的，表现为基因的行为和外表欺骗。人类的独特之处在于文化，有些文化甚至看起来是反基因的！ ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:3:2","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"3、人类的独特之处 《人类简史》让我接触到了一种去人类中心主义。智人只是人种进化上的其中一种，人类可能没什么了不起。你可以说是人驯化了稻谷，但也能说是稻谷驯化了人类——原本在山间自由奔跑的人类被困在了田地周围。许多作品的“去人类中心”是把人类视为地球生态的破坏者，甚至把人类看做地球的害虫7。如果是立场鲜明的马政经，是实打实的人类中心，保护环境是为了保护生态多样性（是共生而非有害的寄生），归根结底是要维护这种多样性来保护人类。人类与世界的交互构成主客观关系，改造世界，天经地义。 本作看起来是基因操控生物的“去人类中心主义”，但是由于把自然选择和社会发展区别开，我们人类似乎还是独特的。 亲缘选择和个体选择理论不得不面临解释“利他行为”的困境，基因选择对此打的理论补丁如下： $$ \\begin{cases} 表面利他：P_{个体}-C_{个体}\\leq0 \\newline 实际自私：P_{基因}-C_{基因}\\geq0 \\end{cases}\\newline $$ $$ \\begin{cases} 有限博弈：自私战略\\newline 无限博弈：自私战略\\rightarrow友善战略 \\end{cases} $$ 从道德层面上，我觉得这点耐人寻味。我们主观认为的利他和自然选择带来的利他是相交关系。不把进化论带入社会发展中，单看道德行为，人类是否存在纯意识层面上的利他道德？ $B-A\\sim\\varnothing$: 图中集合 A 减集合 B 是否为空集？如果不是空集，又是什么导致的？ 这恐怕与基因选择理论面临的困境息息相关。 文章最犀利的观点无非是认为所哟我们假定的利他行为其实都是基因上的自私，那么这真的包含了所有的道德吗？\r基因选择理论自己的困境是如何解释 无用性状 ： 例如跨种族情感、同性恋、飞蛾扑火、斑马条纹…… 如果把这些视作基因带来的，那么假说有很多。可能是我们无法理解特殊性状，但其实是有益的、可能是淘汰需要时间、这种性状产生可能是因为他们是进化路上的磨合期和半成品、某种压力导致基因失控 (例如人体内存在提供随机激素量的基因）…… 如果把这些视作与基因无关的行为，我们一般默认人是特殊的。基因没有目的、意识，我们人类相比基因、动物则具有惊人的预见性。人的行为、社会的运行来自自然、文化的双重影响。比起担忧人的本性，我们能做的就是把利他主义思想通过模因（MEME）狠狠地传递下去。 （对我个人而言，无论是去人类中心和人类中心，大前提似乎都难以证明。） ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:3:3","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"四、细节感想：主要是有趣的观点 （目前更新到第八章） ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:0","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"1-4 章：主要是科普基因是啥 基因的好坏： 基因处于一个特定环境里，好坏取决于整体配合度。在 a 环境是好的不代表在 b 环境就是好的。 死亡基因：个体死亡是种族选择利他行为表现吗？ 关键是看如何看待死亡基因。 看法：世界上有很多死亡基因，我们现在留下的死亡基因是好的，他的作用是把死亡基因推迟宿主繁殖后。 进一步推测：身体内的死亡基因是好基因老化变成的，同时存在另一种好基因致力于把这个老化过程推迟到生育后才加速。 进一步推测：欺骗基因，晚点生育可能会活更久。 （从这里也看出，作者只是进行了逻辑演绎，但没有证据表明以上观点就是正确的） 克隆与繁殖：既然存在无性繁殖，为什么人类基因还要选择有性繁殖？ 基因为了找到最佳组合需要不断尝试组合。无性繁殖和成长没啥差别，通过繁殖才能体现不同，对比出原有团队组合的好坏，让各自找到自己最好的归宿8。基因存在搭便车、占便宜的行为，性繁殖会带上些无用的基因。 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:1","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"第 5 章：《进犯行为》 一个有趣的“动物行为学”提问： “动物的争斗其实是礼节性的。为领地争斗，败者是离开而不是被赶尽杀绝。这是不是种族单位的利他主义的体现？” 本章论证，基因组合造就生物生存战略，不同的生存战略相互博弈，博弈失败的基因重新组合完善生存战略，直到各个战略博弈到达一种均衡（ESS） 论证手段类似于经济学的“双寡头斯威格模型”和“博弈论”（从冷酷战略，也就是鹰派，鸽派，到延缓，混合策略博弈策略）讨论不同战略下的稳态结果。 同族竞争是对称性的，赶尽杀绝不是稳态。 例如三国鼎立的时间会持续很久，甚至如果三个国家一模一样，他们可能会一直存在9。不同种族是不对称性的，赶尽杀绝是稳态。 狮子猎杀鹿，是基因规定的狩猎方针和逃跑方针，这是稳态均衡的。 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:2","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"第 6 章：《基因种族》 父母爱着孩子，生物学将其称为“亲属”选择，这是不是一种种族单位的利他主义呢？ “亲属选择”只能解释直系关系，不能解释旁系关系，也不能解释对陌生人的帮助。 $R_i$ 表示血缘关系的亲疏，$P_i$ 代表帮助后相似基因延续的几率提升，$C$ 是帮助的成本，$n$ 是共同祖先的数量，$k$ 是亲戚中隔了几代。当利他行为产生时，成本收益分析满足： $$ \\begin{align} R_i \u0026= n \\times \\frac{1}{2}^{k} \\newline \\text{st.} \u0026 \\sum_{i=1}^{n} R_i \\times P_i - C \\geq 0 \\end{align} $$ 那按照这个观点，应该流行近亲繁殖? 作者的回答（作者其实没有正面回答，从侧面讲述我推测他的观点是这样）：隐形基因疾病爆发会让近亲繁殖被抵制。所以退而求其次变为“个体的利他”，实际是“基因的自私”。 海豚救人，狼孩的跨种族利他行为怎么解释? 作者认为都是极端行为，不具有代表性，应进一步统计。 基因没有意识，也不会数学，因此这种计算是通过性状表现的外表判断的，也会产生欺骗的生存战略。 例如著名的“鸠占鹊巢”。 推论： 你的舅舅可能比你的爸爸更表现对你的“利他行为”，因为你的舅舅确定你是他姐姐的孩子，有家族基因，但你的爸爸就不一定了……… ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:3","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"第 7 章：《计划生育》 动物往往能调节自己的种群的生育数，这是种族选择的利他主义吗？ 传统种族选择理论的两个解释： 炫耀性展示：有研究者认为鸟类聚在一起就是为了看现在的种族规模然后控制生育数量。 领土：许多动物都是先争夺领土再繁衍，由于领土有限，同时没有领土的不会繁衍，就控制了种族的数量。可以说，领土就是动物的繁衍证书。 传统的理论把父母之爱视为特例，和普通的利他行为区分开来。作者则认为，所有繁殖者都是在生和养间“做选择”。 一方面，每个个体为了延续基因试图最大化的繁殖。另一方面，个体繁殖的越多，生存压力就越大。所以最后，个体是在生育数量和养育压力间做个选择，而非根据种群数量做选择。 我想其中的区别用常用的经济常用表示图会更加直观： 自绘图，经济是方式打开均衡点：种族选择理论是个人生育需求与其他人生育供给的博弈；而基因选择是个人在生育和养育间的分配。个人认为，其实是完善而非反驳。类比经济学，基因选择的理论的养育成本变化一部分来自其他人的生育情况。\r自绘图，经济是方式打开均衡点：种族选择理论是个人生育需求与其他人生育供给的博弈；而基因选择是个人在生育和养育间的分配。个人认为，其实是完善而非反驳。类比经济学，基因选择的理论的养育成本变化一部分来自其他人的生育情况。 如果一个人会根据种群的数目来选择生育，那么作为一个鸟类，它最优选择是假装自己生了很多，让别人少生，之后自己再偷偷多生，但这样最后这样大家都拼命生，最后会崩溃。 失去领地的动物不是丧失了生育能力，而是等到自己有领地了再生。关键不只是“生多少”还有“何时生”。 一点思考 都说经济是最好的催化剂，联想今天，我觉得作者的分析很有道理。现在的状态其实就是倒 U 型，穷人生得多，富人生得多，不上不下的人生得少。《贫穷的本质》基本也是类似的结论，穷人期望改变的生存压力和中产阶级是不同的，各自阶层的生存压力和预期息息相关。非洲这些地方，穷人越穷越生孩子希望改变，为什么很难逆转？20 诺奖得主的回答是穷人活的资金是优先解决的是生存压力，例如食物，水，好一点就是电视，而中产阶级会寻求更多的人力资本投资，因此很难逆转。相当于穷人先天是负的，中产阶级是从 0 开始积累。当然，这部分超越《自私的基因》的话题。自私的基因不考虑有意思的预期，也不考虑“社会福利”的提升。 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:4","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"第 8 章：《代际之战》 第 7 章中，父母权衡的是“生育”和“养育”，在第 8 章中父母权衡的是养育战略。 “一个家庭中，父母产生偏爱的原因是什么？面对偏爱的个体又会作何反应？” 值得注意的是，这种偏爱是有代际性的。兄弟姐妹中，父母既有可能偏爱最强壮，也可能偏爱最瘦小的，也可能偏爱年龄最小的。后代中，比起子女，父母可能偏爱自己的孙子。 其实就算预期基因收益最高。例如一个母亲资源总量是 $c$，$U_i(C_i)$ 代表分给第 $i$ 个孩子 $C_i$ 带来的基因延续收益。 $$ \\begin{align} \\max E(X)\u0026=\\sum_{i=1}^{n}U_i(C_i)\\newline st.\\sum_{i=1}^{n}C_i\u0026=c \\end{align} $$ 父母偏爱的动机就是 $U_a(C)-U_b(C)＞0\\Rightarrow E(X)_{max}$ 如何解释女性的“绝经”现象？ 10 对父母而言，其子女辈比孙辈血缘更浓，但孙辈预期寿命更长，因此会倾向于投资孙辈 $U_{孙子}(C)-U_{子女}(C)＞0$。如果父母任何年龄段都能生育，那就难以产生投资孙辈的动机，自私的基因会破坏其生育基因。 偏爱只带来家庭同辈的对立吗？ 从基因的角度看，兄弟的血缘和我的基因含量是一样，从基因上是利益共同体。如果一份资源给 a 的效用大于给 b 的效应，b 也会理解，正如哥哥照顾弟弟一样。 那么弱小的，可能被抛弃的子女如何应对这种偏爱？ 弱小的，可能被抛弃的子女如何应对这种偏爱，如果父母不给它吃的，它一直叫可能引来天敌。 因此父母有抉择“喂养它的价值是否大于杀死它的成本” 它的博弈“获得食物的价值是否大于引来天敌的风险” 所以“独生子就是真就是被爱的有恃无恐”（狗头） 还有种假设：自私的鸟为了自己生存，会把其他自己的兄弟姐妹在生下来时，直接推出巢外？ 验证上面假设的巧法是对称性（这种应该说初中老师们在解方程里就会提到的做题小技巧，难得的是跳出方程看问题）。 对于方程 $\\begin{cases} x+y=3\\newline xy=2 \\end{cases}$ 来说，由于 $x$ 在方程中的作用和 $y$ 没有区别，答案一定满足 $x=y$。 一个鸟，既是上一代父母的孩子，又是下一代的父母。如果它真自私到残害兄弟姐妹，但从基因含量上来看他们明明是一样的，那么这个基因个体对自己的评价是非常高的。它爱自己甚至超过自己的孩子，也就不会繁衍了，这种基因注定灭绝。 作者是反驳这种观点，我怎么觉得越来越像现在的“不婚”主义了 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:5","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"第 9 章：《两性战争》孩子是各自基因战略的赌注 回到第 5 章的稳态，鹿的基因选择逃跑；狮子的基因选择捕猎，二者形成一个博弈均衡状态。世界上有很多交配的基因方式，一种选择追求数量，主动寻找配偶，不提供养料；另一种选择提供养料，坐以待毙吸引配偶。理论上是一夫多妻制，但此时男女双方又有不同的战略寻求均衡。基因上讲，孩子各占父母 $\\frac{1}{2}$ 的基因，但父母身上的原始投资有差异。各自的目标是用预期最少的成本争取最多的基因传递。 这涉及多个决策：生育方式、养育方式 (对后代的抚养投入多少）、养育目标（性别、性状…） $P$ 为有孩子后的基因遗传利益，$C$ 为自己付出的成本。 就生育方式而言，先手为优。对海洋生物而言，往往是女方先排卵到水中，然后男方寻找，此时女方有足够的优势提前离开让男性独自抚养；对陆地生物而言，则是男性有着先离开的优势。 就养育方式而言，假设男性存在忠诚和不忠诚战略，女性存在考验和不考验战略。最后博弈结果是各个特性的男女战略会维持在一个特定比例。 书中是把这个博弈拆解成两个，这里直接整合成一个\r就养育目标而言，基因会促进某种特性不断被筛选强化，例如羽毛颜色，身体结构…… 如果是分工特性，类似性别，就会处于一种波动的平衡中。这种分工优势就是相对另一种资源产生的，就像资本涌入所有有利可图的地方，最后各个行业利润率趋于一致11。 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:6","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"第 10 章：《你为我瘙痒，我就骑在你头上》 遇到猎手，鸟儿会发出叫声，羚羊会高高跳跃，昆虫形成了一个互助体系。 动物群体： 作者直接判定（我感觉几乎没有论证）是为了避免同伴未发觉引来更多动物，或者炫耀自己跳得高让猎手去追其他。动物的群体移动是一个从边缘挤入中央的流动状，因为边缘容易率先被攻击。 昆虫群体： 昆虫形成一个利他社会是因为不是所有个体都能生育。工蜂不能生育，于是他的目标就是基因相似的同伴。 昆虫繁殖循环图基本如下，红色代表基因相似度，雄蚁只有一组染色体，是卵子未受精直接发育，不可繁殖；雌蚁两组染色体，可以繁殖。由于雌蚁姐妹间的相似度是 $\\frac{3}{4}$，高于和母亲的相似度 $\\frac{1}{2}$（因为他们还有父亲传下来的基因相同），因此二代雌蚁间的关系胜过对母亲的关系。由于雄蚁兄弟间的相似度是 $\\frac{1}{4}$ ，低于和母亲的相似度 $\\frac{1}{2}$，因此二代雄蚁间的关系弱过对母亲的关系。 昆虫繁殖循环图\r共生： 两种博弈方针达成了平衡点，物种互相配合获取更大利益。但是配合的双方都是有两种可选，无私帮助对方，或者帮助对方，但如果对方不帮助自己，自己也不会去帮助了。博弈均衡点是后者。 经济学中，曼德维尔出版了一本书，书名叫做《蜜蜂的寓言》，认为“市场经济让私人的恶欲变为公共利益”，他就是把人类社会比喻成蜂巢，和这个比较类似。张五常也有个论文《蜜蜂的神话》（The fable of the bees: An economic investigation）12，不过那篇论文不是研究蜜蜂结构对人类社会的启发，而是调研在市场机制下，果农和养蜂人间产生了自发的交易体系，此时并没有“市场失灵”的情况。以前我还以为两者论证一样，其实除去自由主义的立场一样外，大部分都是不同的。 最后后几章已融合到前面讲，这里只简单总结。 第 11 章：《MEME》：就是文化遗传“模因” 第 12 章：《好人终有好报》：单次囚徒困境走向自私，无限次重复囚徒困境博弈走向合作 第 13 章-14 章：自然社会≠人类社会，基因选择≠基因决定 第 15 章：《对于完美化的制约》：解释基因选择论的困境 ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:4:7","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["阅读"],"content":"参考 现在相当于 5 篇前言，40 周年一次，30 周年一次，第二版，序言，前言 ↩︎ 其实给我一种选观察坐标系的感觉 ↩︎ 这句疑问来自《THE BOOK OF WHY》 ↩︎ 前三章是引入、解释概念 ↩︎ 黄宗智. 建立前瞻性的实践社会科学研究: 从实质主义理论的一个重要缺点谈起[J]. 开放时代, 2020 (1): 18. ↩︎ 标题检索的话非常少 ↩︎ : 不是共生关系，而是有害的寄生。去看央美艺术展，似乎许多人的作品都有点体现这个 ↩︎ 幻视社会福利第一定律 ↩︎ 我在想基于这个解释欧洲的各国并存和我国的统一 ↩︎ 到一定年龄就无法生育 ↩︎ 马克思的著名推导：平均利润率的形成。这歌推导说明了无产阶级是先要解放所有人然后才能解放自己。 ↩︎ Cheung S N S. The fable of the bees: An economic investigation[J]. The Journal of Law and Economics, 1973, 16 (1): 11-33. ↩︎ ","date":"2023-08-30","objectID":"/zh-cn/posts/selfishgene/:5:0","tags":["阅读"],"title":"《自私的基因》：利他道德之问","uri":"/zh-cn/posts/selfishgene/"},{"categories":["游记"],"content":" “人物像”风格变化的过程就像人类认识自己的过程。主题展《时代的容颜》这个名称意境到位。无论是作画的对象，还是技法，其实都是时代浪潮下人寻求世界认知的产物。 ","date":"2023-08-20","objectID":"/zh-cn/posts/art/:0:0","tags":["艺术"],"title":"看展：时代的容颜","uri":"/zh-cn/posts/art/"},{"categories":["游记"],"content":"对象上： 最开始，只有神灵能够上画。绘画是宗教与神话故事传播的媒介。 绘画是宗教与神话故事传播的媒介\r人文主义时期，神灵获得人的特征。人与神的界限在画家的笔下逐渐模糊。 后来宫廷贵人也能上画了。达官显贵比起写实，更想展示塑造自己的精神气，于是画家们开始修图，最著名的莫过于拿破仑横跨阿尔卑斯。构图上法国国旗在拿破仑身后，隐隐露出先进的炮车，构图也巧妙地隐藏了拿破仑的身高。 真实情况是骑的驴，特殊的位置也让拿破仑变得更加高\r","date":"2023-08-20","objectID":"/zh-cn/posts/art/:0:1","tags":["艺术"],"title":"看展：时代的容颜","uri":"/zh-cn/posts/art/"},{"categories":["游记"],"content":"绘画方式上： 绘画的技法展示了画家对世界的认知。 在相机出现之前，画家追求写实，相对应的，文艺复兴后的浪漫主义是一种主动创作的夸张风格。浪漫不是一种流派，是一种冲动！任何作品都可以带点浪漫色彩。 相机出现后，画家们开始思索起画画与相片的区别，人们开始有意地强调粗糙的笔刷和“脑海中的色调”。 其中包含独特的笔刷\r大部分近现代的画画风格几乎都是世界真实的“再构造”，把笔触和自我认识世界的内涵结合。 ","date":"2023-08-20","objectID":"/zh-cn/posts/art/:0:2","tags":["艺术"],"title":"看展：时代的容颜","uri":"/zh-cn/posts/art/"},{"categories":["游记"],"content":"主义者们 未来主义者： 科学能够解释一切，是秩序的象征，我们要用规整的几何图形构图，展现理性的美。 象征主义者： 一切认知都是社会下的产物，把同一个物体转换到其他场景才能激发人们对这个议题的思考。 比如把桌上上的勺子转移到天花板上，把舞台剧的演员换成木桩转移到露天矿场里。我们的莫名其妙正是为了让事物陌生化，从而引起人们的反思（经典人类学陌生化） 印象主义者： 色彩，光线，时间时时刻刻都在变，我们画的只是某一特定时间下的光线氛围。我们要学会观察，观察一个事物在各种条件下色彩光照的变化。（所以莫奈的《睡莲》画了超过 300 幅） 点彩主义者： 光的色彩是可以由三原色表达，让三原色作为一个个点构成叠加，最后形成画面。 波谱艺术： 日常事物重新组合进行表达，把报纸，海报等素材拼接也可以重新组成一个作品。 达达艺术： 逐渐进入概念的解构和反思。一切概念都该被解构重新审视。于是在达达眼中，马桶变为喷泉，衣架变为章鱼。 在展馆化身达利的苹果——apple man\r如果了解了创作者的主张和背景后，之前费解的画面似乎也可以理解一些了。如今很多“行为艺术”和莫名其妙的画会让人觉得艺术就是吹牛。我想，其实绘画概念的讨论到最后都走向了抽象。就像数学的一些分支走到某些深处竟然没有了数字。画家对概念和表达本身进行抽象，然后用难以理喻的行为进行表达，透过画面进行抽象似乎是所谓前沿的一种趋势。 一流的艺术是外表让人沉醉，或者简明易懂，理解内涵后锦上添花。 二流的艺术是外表让人觉得无法理解，但弄懂内涵后拨云见日。 三流的艺术是外表无趣又故作高深。 我想艺术审美其实也是知识和画面交互的过程，所以同一幅画，带着时代背景去理解他，那么自己感受到的东西也不同。或许，读者对作品的欣赏角度，本身就和时代一起成为一场人类的艺术。 艺术家或权威带来的主要好处，无非就是他们的地位让我们保持耐心去思考和尝试理解他们的举动。故此，面对艺术家们，我们选择思考而非盲从。 ","date":"2023-08-20","objectID":"/zh-cn/posts/art/:0:3","tags":["艺术"],"title":"看展：时代的容颜","uri":"/zh-cn/posts/art/"},{"categories":["经济学习"],"content":"网上计算数学期望的已经有很多，但是似乎没人计算方差，这里把方差计算补上。 ","date":"2023-08-09","objectID":"/zh-cn/posts/genshin/:0:0","tags":["原神","概率论"],"title":"原神概率论：材料合成天赋选 10%双倍还是 25%返还？","uri":"/zh-cn/posts/genshin/"},{"categories":["经济学习"],"content":"一、设定介绍 在原神中，三个低级材料能够合成一个高级材料。我们表示为 $a \\xrightarrow{\\text{转化}}\\dfrac{b}{3}$ 为保持单位一致，我们统一使用 b 表示投入与产出，假设两边同时有初始材料 a，也就等价于 $\\dfrac{b}{3}$。 此时有两种天赋，如下图 两种天赋\r一种是有 10%的概率双倍产出。 每使用 a 个材料，也就是 $\\dfrac{b}{3}$ 材料时，10%概率直接产出 $\\dfrac{2}{3}b$ 材料。 一种是有 25%的概率返还部分低级材料。 每使用 a 个材料，也就是 $\\dfrac{b}{3}$ 材料时，25%概率返回 $\\dfrac{1}{3} \\times \\dfrac{1}{4}b$ 材料。 使用随机变量的形式，也就是： $$X_{总产出}=\\frac{b}{3}+Y_{额外产出}$$ ","date":"2023-08-09","objectID":"/zh-cn/posts/genshin/:1:0","tags":["原神","概率论"],"title":"原神概率论：材料合成天赋选 10%双倍还是 25%返还？","uri":"/zh-cn/posts/genshin/"},{"categories":["经济学习"],"content":"二、计算期望与方差 网上计算数学期望的已经有很多，但是似乎没有人计算方差，这里顺便把方差的计算补上。 ","date":"2023-08-09","objectID":"/zh-cn/posts/genshin/:2:0","tags":["原神","概率论"],"title":"原神概率论：材料合成天赋选 10%双倍还是 25%返还？","uri":"/zh-cn/posts/genshin/"},{"categories":["经济学习"],"content":"（一）10%双倍产出的期望与方差 1、期望 此时就是二项分布离散分布列 。10% 概率双倍产出，90% 概率普通产出。 如下表 1： 二项分布离散分布列\r$$ \\mathrm{E}_{{双倍}}[X]=\\mathrm{E}_{{双倍}}[\\frac{b}{3}+Y_{额外}]=\\frac{b}{3}+np=10% \\times\\frac{2}{3}b+90% \\times\\frac{1}{3}b $$ 所以投入 a 材料，等价于投入 $\\dfrac{b}{3}$ 材料，10%双倍天赋的数学期望 $E_{\\text{双倍}}(\\dfrac{b}{3})=\\dfrac{11 b}{30} $ 。 2、方差 $$ \\mathrm{Var}[X]=\\mathrm{Var}[\\frac{b}{3}+Y_{额外产出}]=\\mathrm{Var}[Y_{额外产出}] $$ $$ \\mathrm{Var}[Y]=np(1-p)=\\frac{b}{3}\\times0.1\\times0.9=\\frac{3}{100}b $$ 所以投入 a 材料，等价于投入 $\\dfrac{b}{3}$ 材料，10%双倍天赋的方差 $Var_{\\text{双倍}}(\\dfrac{b}{3})=\\dfrac{1}{100}b^2$。 ","date":"2023-08-09","objectID":"/zh-cn/posts/genshin/:2:1","tags":["原神","概率论"],"title":"原神概率论：材料合成天赋选 10%双倍还是 25%返还？","uri":"/zh-cn/posts/genshin/"},{"categories":["经济学习"],"content":"（二）25%返回材料的期望与方差 1、期望的两种算法 方法一：等比数列 $$ \\begin{align*} E_{\\text{返回}}\\left(\\frac{b}{3}\\right) \u0026= \\frac{b}{3} + \\frac{b}{3} \\times 25\\% \\times \\frac{1}{3} + \\ldots + \\frac{b}{3} \\times \\left(\\frac{1}{12}\\right)^n \\newline \u0026= \\frac{b}{3} \\times (1+{\\frac{1}{12}}+{\\frac{1}{12}}^2+…+{\\frac{1}{12}}^n) \\newline \u0026= \\frac{b}{3} \\times \\frac{1 \\times (1-{\\frac{1}{12}}^n)}{1-\\frac{1}{12}} \\newline \\end{align*} $$ $$ \\lim_{n\\rightarrow + \\infty}E_{\\text{返回}}\\left(\\frac{b}{3}\\right)=\\frac{b}{3} \\times \\frac{1 \\times (1-{\\frac{1}{12}}^n)}{1-\\frac{1}{12}}=\\frac{4b}{11} $$ 展示图如下： 树状图\r我们可以验证下这种分类是否讨论完了所有情况，将所有概率加总： $$ \\lim_{n\\rightarrow +\\infty}75\\%+…+{(25\\%)}^{n-1}75\\%=1 $$ 所有对应概率加总为 1，一定程度上验证了这种分类的正确性。 方法二：递归 由于返还后的材料继续炼丹，会形成一个递归，因此我们得到： $$ E_{\\text{返回}}\\left(\\frac{b}{3}\\right)=\\frac{b}{3} +E_{\\text{返回}}\\left(\\frac{b}{3}\\right)\\times 25% \\times \\frac{1}{3} $$ 答案与上面相同： 所以投入 a 材料，等价于投入 $\\dfrac{b}{3}$ 材料，25%返回天赋的数学期望 $E_{\\text{返回}}(\\frac{b}{3} )=\\frac{4b}{11}$。 2、方差 以下方差计算思路来自 《【原神】关于材料合成天赋选 10% 双倍还是 25% 返还的更精细计算》 此时继续引入递推关系，我们有如下递推关系。 $$\\mathrm{E}(a_k)=\\mathrm{E}(a_{k-1})\\times 25% \\times \\dfrac{1}{3}$$ 含义： 第 $k$ 次合成前，手中有 $a_k$ 个初级材料。 能进行第 $k$ 次合成的条件是： 第 $k-1$ 次合成触发效果返还了部分初级材料。 使用条件期望的描述也就是 $$ \\mathrm{E}(a_k)=\\mathrm{E}[\\mathrm{E}[a_k| a_{k-1}]]=\\mathrm{E}[\\frac{1}{12}a_{k-1}]=\\frac{1}{12}\\mathrm{E}[a_{k-1}] $$ $$ \\mathrm{E}[X]=\\sum_1^{k}a_k=\\sum_1^{k}\\frac{1}{12^k}a_0 $$ 这个式子可以展开为递归，也可以展开为等比数列，也就是前面计算期望的两种方法。 引入完条件期望后，接下来引入方差分解公式： $$ \\mathrm{Var}[X]=\\mathrm{E}[X^2]-[\\mathrm{E}(X)]^2 $$ 变形加入条件期望，变形可以得到两个式子 $\\mathrm{E}(X|Y)$。 $$ \\mathrm{Var}[\\mathrm{E}(X|Y)]=\\mathrm{E}\\left\\{\\left[\\mathrm{E}(X|Y)\\right]^{2}\\right\\}-\\left\\{\\mathrm{E}\\left[\\mathrm{E}(X|Y)\\right]\\right\\}^{2}=\\mathrm{E}\\left\\{\\left[\\mathrm{E}(X|Y)\\right]^{2}\\right\\}-\\left[\\mathrm{E}(X)\\right]^{2} $$ $$ \\mathrm{E}[\\mathrm{Var}(X|Y)]=\\mathrm{E}\\left\\{\\mathrm{E}(X^{2}|Y)-[\\mathrm{E}(X|Y)]^{2}\\right\\}=\\mathrm{E}(X^2)-\\mathrm{E}\\left\\{\\left[\\mathrm{E}(X|Y)\\right]^2\\right\\} $$ 上面两个式子相加得到方差分解公式： $$ \\mathrm{Var}(X)=\\mathrm{Var}[\\mathrm{E}(X|Y)]+\\mathrm{E}[\\mathrm{Var}(X|Y)] $$ 将这个式子代入 $a_k、a_{k-1}$。 $$ \\mathrm{Var}(a_k)=\\mathrm{Var}[\\mathrm{E}(a_k|a_{{k-1}})]+\\mathrm{E}[\\mathrm{Var}(a_k|a_{k-1})] $$ 其中 $$ \\mathrm{Var}[\\mathrm{E}(a_k|a_{{k-1}})]=\\mathrm{Var}[\\frac{1}{12}a_{k-1}] $$ $$ \\mathrm{E}[\\mathrm{Var}(a_k|a_{k-1})]=\\mathrm{E}[np(1-p)]=\\mathrm{E}[np(1-p)]=\\mathrm{E}\\left[\\frac{a_{k-1}}{16}\\right] $$ 得到： $$ \\begin{aligned}\\mathrm{Var}\\left[a_k\\right]=\\frac{3}{4} \\frac{a_0}{12^k}+\\frac{1}{12^2} \\mathrm{Var}\\left[a_{k-1}\\right]\\end{aligned} $$ 因为 $\\mathrm{Var}(a_0)=0$ ,使用递归，可以得到通项公式 丢给 GPT 算了然后验证了一下，也满足方差项之间144倍关系： $$ \\mathrm{Var}[a_k]=\\frac{9}{143}a_0\\left(1-\\frac{1}{144^k}\\right)=a_0\\times \\frac{1}{16\\times 144^{k-1}} $$ $$ \\mathrm{E}\\left[a_k^2\\right] = \\mathrm{Var}[a_k] + \\left(\\mathrm{E}\\left[a_k\\right]\\right)^2 =9\\frac{k{a_0}}{12^{2k}} + \\frac{a_0^2}{12^{2k}} $$ 又设置之后递归融合$ l $次 $$ \\begin{aligned} \u0026\\mathrm{E}\\left[a_k a_\\ell\\right]=\\mathrm{E}\\left[\\mathrm{E}\\left[a_k a_\\ell \\mid a_\\ell\\right]\\right]\\\\ \u0026=\\mathrm{E}\\left[a_\\ell \\mathrm{E}\\left[a_k \\mid a_\\ell\\right]\\right]\\\\ \u0026=\\frac{1}{12^{k-\\ell}}\\mathrm{E}\\left[a_\\ell^2\\right]\\\\ \u0026=\\frac{9a_0^2l+a_0^2}{12^{k+\\ell}} \\end{aligned} $$ 这是为了计算协方差： $$ \\mathrm{Cov}(a_\\ell, a_k) = \\mathrm{E}\\left[a_\\ell a_k\\right] - \\mathrm{E}\\left[a_\\ell\\right]\\mathrm{E}\\left[a_k\\right]=\\frac{9a_0^2\\ell}{12^{k+\\ell}} $$ 代入计算方差： 因为原神是三个合成一个: $$ X_n=\\sum\\limits_{k=0}^n \\frac{a_k}{3} $$ 得到方差计算公式： $$ \\mathrm{Var}\\left[X_n\\right] =\\frac{1}{9}\\left(\\sum_{k=0}^n \\mathrm{Var}\\left[a_k\\right]+2 \\sum_{\\ell\u003ck} \\mathrm{Cov}\\left[a_{\\ell} a_k\\right]\\right) $$ 代入得到： 以下部分是 GPT 展开的，我能感觉到问题出现在方差累加那部分，不可能出现无法消除的一个1的单独项，这样就无法收敛了. $$ \\begin{align*} \\text{Var}[X_n] \u0026= \\frac{1}{9} \\Bigg( \\frac{9}{143} a_0 \\left[ (n+1) - \\frac{144}{143} \\left( 1 - \\frac{1}{144^{n+1}} \\right) \\right] \\\\\u0026\\quad + 2 \\cdot \\frac{9a_0^2}{11} \\sum_{\\ell=0}^{n-1} \\frac{\\ell}{12^{2\\ell}} \\left( 1 - \\frac{1}{12^{n-\\ell}} \\right) \\Bigg) \\end{align*} $$接下来让n趋于极限。 按照代码图，目测估计下极限应该是 0.009b 附近，也就是 0.027a 附近。 ","date":"2023-08-09","objectID":"/zh-cn/posts/genshin/:2:2","tags":["原神","概率论"],"title":"原神概率论：材料合成天赋选 10%双倍还是 25%返还？","uri":"/zh-cn/posts/genshin/"},{"categories":["经济学习"],"content":"三、结论与计算机模拟 使用代码拟合一下,也是和计算结果吻合的： 10%期望略微高一些，但是期望差异1000个材料以内并不大。 25%的方差波动更小，只是次数增多，摩拉成本会多一点。 考虑到原神素材999的上限，高级材料期望也就相差2-3个左右。 100次\r1000次\r800-1000次\r实验代码 import random import matplotlib.pyplot as plt import numpy as np # 设置matplotlib的字体，以便支持中文显示 plt.rcParams['font.sans-serif'] = ['SimHei'] # 用来正常显示中文标签 plt.rcParams['axes.unicode_minus'] = False # 用来正常显示负号 # 模拟合成高级道具的函数 def synthesize_items(low_items, strategy): high_items = 0 while low_items \u003e= 3: 合成结果 = random.random() if strategy == 1: if 合成结果 \u003c 0.1: high_items += 2 # 额外获得一个高级道具 else: high_items += 1 elif strategy == 2: if 合成结果 \u003c 0.25: low_items += 1 # 返还一个低级道具 high_items += 1 low_items -= 3 return low_items, high_items # 模拟多次合成并计算平均收益和方差 def simulate_synthesis(low_items, strategy, trials=10000): results = [] for _ in range(trials): _, high_items = synthesize_items(low_items, strategy) results.append(high_items) mean = np.mean(results) variance = np.var(results) return mean, variance # 绘制图表 def plot_results(means, variances, strategies): plt.figure(figsize=(14, 6)) # 绘制均值比较图 plt.subplot(1, 2, 1) for strategy, data in means.items(): plt.plot(data, label=f'策略{strategy}均值') plt.xlabel('低级道具数量') plt.ylabel('高级道具均值') plt.title('均值比较') plt.legend() # 绘制方差比较图 plt.subplot(1, 2, 2) for strategy, data in variances.items(): plt.plot(data, label=f'策略{strategy}方差') plt.xlabel('低级道具数量') plt.ylabel('高级道具方差') plt.title('方差比较') plt.legend() plt.tight_layout() plt.savefig('results.png') # 保存图表为图片文件 # 主函数 def main(): num_items = range(1, 1001) # 投入的低级道具数量范围 trials = 100000 # 模拟次数 strategy1_means = [] strategy1_variances = [] strategy2_means = [] strategy2_variances = [] for items in num_items: mean1, variance1 = simulate_synthesis(items, 1, trials) mean2, variance2 = simulate_synthesis(items, 2, trials) strategy1_means.append(mean1) strategy1_variances.append(variance1) strategy2_means.append(mean2) strategy2_variances.append(variance2) plot_results({ 1: strategy1_means, 2: strategy2_means }, { 1: strategy1_variances, 2: strategy2_variances }, [1, 2]) if __name__ == '__main__': main() 更多讨论详见：原神概率论 ","date":"2023-08-09","objectID":"/zh-cn/posts/genshin/:3:0","tags":["原神","概率论"],"title":"原神概率论：材料合成天赋选 10%双倍还是 25%返还？","uri":"/zh-cn/posts/genshin/"},{"categories":["阅读"],"content":" 奇葩而通俗的中世纪指南 《如何屠龙》 没有“剑与魔法”的中世纪带火了“龙与勇士”的故事。人们对中世纪充满向往就像对田园精神的一种渴望——但很显然，那只是存在人想象中的一片桃源。 奇怪的是，我想总有些人喜欢在错误的道路上是追求另一条路的光辉——比如我这种乐子人。乐子人就很适合这本“有点意思”的科普书籍。 我的意思是说，如果说你不是一个追求“严谨历史”的求学者，也不是个只是为了穷究娱乐的 RPG 爱好者。尝试要在游戏里找哲学，在历史里找黑色幽默。很好，你已经可以踏上你的中世界之旅。 本书完全不适合想细致了解中世纪的人。因为他只是沿着“勇者屠龙角色扮演”的主线设定，把中世纪相关的文献故事科普出来。意味着你没有一条义务教育阶段沿着“经济，文化，政治”搞清框架的脉络。没有历史书一般体现分析脉络的观点，只是偶尔给出一些作者对于史料利用的看法。法律可用吗？当时的人不见得遵循，最重要是探究制定法律背后的动机。日记真诚吗？中世纪大把的人秘密记录了自己如何掌握魔法，大把的人感叹自己做了某种状举。然而一些叙事和他们后面的自己的记录其实有隐秘的矛盾。 这本书更多的是对中世纪衣食住行的澄清。 从独角兽到当时的奇异生物， 从吟游诗人到当时的歌谣， 从被诅咒的沼泽到没管理好的厕所， 从调情到当时的道德戒律。 中世纪的怎么上厕所，怎么刷牙，公路系统，饭店，乃至土味情话。吸引人的下一步是标题和内容形成的反差。 作者给出的例子都相当贴近生活，而且语言幽默。例如中世纪真的有宗教奇迹和魔法的史料吗？中世纪确实有人真就把自己学魔法的日记（自传形式）保存下来并被众人研究，，，，这浓浓的羞耻感。对于中世纪发生的各种日常，作者也不乏重看冷嘲热讽的智慧语言。例如在决斗中的三人，最后活下来的反而是一开始就裸体前来的人——他给所有人上了一课“中世纪，请随时秘密携带武器”。不爱干净的“邻居就是邻居，他们不是诅咒”，但是当他们的排泄物堵住了街道，或许他们真就变诅咒了——其实诅咒是假的，但污秽是真的。在拜占庭帝国，什么奇怪的悲剧都不奇怪。 作者作为旁白兼勇者的引路人，这些吐槽让本书有了极强的互动感。标题也都一股浓浓的日漫 RPG 味道。 《叫魂》和《万历十五年》这类微观史学图书，每一个小史料都是论证一个总体论题。虽然本书内容主线是靠勇者屠龙的冒险进度，但是生活日常哪里又有层次之分呢？这导致本书读完后对于中世纪的历史特性还是比较模糊，而且谈澄清也说不上，基本是配合刻板印象调材料。 其次，我觉得本书都是简洁的历史小故事总结，名词扎堆，阅读起来不是很顺畅。 例如“他在书里并没有自豪地宣称他是如何将这些模具从贝鲁特带到大马士革，北上穿过整个叙利亚，横跨安纳托利亚抵达君士坦斯堡，跨过巴尔干半岛抵达维也纳，再从维也纳出发，穿过神圣罗马帝国送到法国国王面前。”（这段其实是为了强调史料的真实性其实比较低？） 本书有幽默感有余，知识震惊感不足。当你谈及本书的内容时，你能想到的只是小帅小黑佛播乐几个人组成的日常冒险故事！ 比起对中世纪历史的了解，我更喜爱作者用这样的态度表现他的热情，作者在尽全力发出一张邀请函，态度诚恳——中世纪是个有趣的时代，历史是一个有趣的学科，规律可以从鸡毛蒜皮中归纳解读。这样人们才愿意走进属于人的学科之中。 即便中世纪没有龙，没有剑与魔法，你也可以带着遐想的框架去构建一个历史的角度，从激情，到想象力，直到历史本身。在没有“龙”的中世纪，满载而归的勇士带回来的是有趣的历史故事。 如何屠龙\r","date":"2023-08-05","objectID":"/zh-cn/posts/tl/:0:0","tags":["微观历史","阅读"],"title":"奇葩而通俗的中世纪指南《如何屠龙》","uri":"/zh-cn/posts/tl/"},{"categories":["经济学习"],"content":"这几天一直在看茆诗松版《概率论与数理统计》，本来看得是电子版，但看完后大呼过瘾，越看越觉得妙，于是连夜购入实体书。这本书确实如其在第一版前言中所讲的那样：例子生动有趣，同时把每个考点的狡猾变形娓娓道来，让人印象深刻。 特别感谢 github的re-book项目组 （2019）对书籍的 $\\LaTeX$ 重排。 作为概率论与数理统计的入门书, 我们不想一进门就把学生引入数学天堂, 而是在“野外”先浏览概率统计的各种风景之后, 再进入数学天堂, 使各种概念和定理成为有源之水、有本之木。这样可使学生感到读此书的趣味, 感到与读数学教科书有不同的味道。当然我们也十分注意从偶然性中提炼出来的一些规律性的证明和论述，因为只有理解了的东西才能更深刻地感受它。 (第一版前言) 因为实在是太有趣，所以忍不住在知乎上重新记录下里面几个绝佳的例子。 ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:0:0","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"一、用一根掉在地上的针估测π？ ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:1:0","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"1、引入：几何概型 古典概型的基础笔记可以看我的另一篇回答： 古典概型的计算公式如下： $$ P(A)=\\frac{事件A 所含样本点的个数}{\\Omega中所有样本点的个数}=\\frac{k}{n} $$ 几何概型则是把代数公式转化为面积（转换思想参见高中线性规划）： $$ P=\\frac{S_{面积k}}{S_{面积n}} $$ 几何概型举例 在长度为 a 的线段内任取两点将其分为三段, 求它们可以构成一个三角形的概率？ 首线把线段分成三段, 长度分别为 $x,y,a-x-y$ 把线段分成三段\r围成三角形的充要条件为：任意两边之和大于第三边；任意两边之差小于第三边。 于是得到不等式限制： $$ \\begin{cases} 0\u003ca-x-y\u003cx+y\\\\ 0\u003cx\u003ca-x-y\\\\ 0\u003cy\u003cx+(a-x-y) \\end{cases} \\stackrel{简化}{\\longrightarrow} \\begin{cases} \\frac{a}{2}\u003cx+y\u003ca\\\\ 0\u003cx\u003c\\frac{a}{2}\\\\ 0\u003cy\u003c\\frac{a}{2} \\end{cases} $$ 此时用 $x,y$ 建立坐标系看面积（线性规划那味儿） 线性规划那味儿\r$$ P=\\frac{\\frac{a^2}{8}}{\\frac{a}{2}^2}=\\frac{1}{4} $$ ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:1:1","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"2、用一根针估计 $\\pi$ 比丰投针问题（很著名，因为答案与 $\\pi$有关）： 平面上画有间隔为 $d(d\u003e0)$ 的等距平行线, 向平面任意投掷一枚长为 $l(l\u003cd)$ 的针, 求针与任一平行线相交的概率？ 如图，红色的就是那根针其与水平线夹角为 $\\alpha$ 。 当针与平行线相交时，取针的中点向垂直方向投影，投影的垂线线段就被分成了两个部分。 当针与平行线相交时，取针的中点向垂直方向投影，投影的垂线线段就被分成了两个部分\r相交的充要条件变为：$x\\leq\\frac{1}{2}l \\!sin\\alpha$，此时未知参数就是 $x$ 和 $\\alpha$ 。 同时得到参数的限制条件 $$ \\begin{cases} 0 \\le x \\le d/2\\\\ 0 \\le \\alpha \\le \\pi \\end{cases} $$ 通过两个参数建立坐标系。 通过两个参数建立坐标系\r然后通过微积分求得阴影部分的面积，除以矩形面积就是对对应概率。 $$ P (A) = \\frac{S_A}{S_\\Omega} = \\frac{\\int_0^\\pi \\frac{l}{2} \\!sin \\alpha , \\mathrm{d} \\alpha}{\\frac{d}{2} \\pi} = \\frac{2l}{d\\pi}\\\\ $$ 当 $2l=d$ 时，$P (A) =\\frac{1}{\\pi}$。 因此就可以通过越来越多次实验，然后相除，从而估测 $\\pi$。 ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:1:2","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"3、补充：如何确定概率 所谓的 “蒙洛卡特模拟” 就是在计算机中设计抽样模型，输入输出许多个随机值，通过最后的频率去逼近概率。 在茆诗松版教材中，专门花了一个小节讨论确定概率的方法 频率统计逼近概率 古典方法（排列组合、加法乘法原理….） 几何方法 主观方法（例如看起来明天下雨和不下雨的概率按理说是 50%平分，但是天气预报会说有 85%的概率下雨；还比如自己说有六成把握做成某件事…. 如此种种就是主观概率） ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:1:3","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"二、问卷敏感问题的真实情况估计 设计问卷的难点之一就是有些问题别人不愿意回答，或者不给出正确答案。 例如“夫妻间吵架频率”、“你是否浏览过不良网站”、“你家的收入是多少”… 由于“回答有损尊严”或者\"不真实的回答\"有利于搭便车（认为降低收入回答会让自己收到更多政府的帮助），我们很难得到正确的答案。 茆诗松版概率论在讲解条件概率时给出一个例子，或许可以让答卷人的答案更有效。 （虽然受困于效率，估计是实行不了的，但在问卷设计中就使用条件概率，这个切入点让人印象深刻） ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:2:0","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"1、引入：条件概率 $$ P(A|B)=\\frac{P(AB)}{P(B)}\\stackrel{乘法公式}{\\longrightarrow} P(AB) = P(B) P(A|B)\\\\ $$ $$ 全概率公式： P(A) = \\sum_{i=1}^n P(B_i) P(A | B_i)\\\\ $$ $$ 贝叶斯公式： P (B_i | A) = \\frac{P(B_i) P(A|B_i)}{\\sum_{j=1}^n P(B_j) P(A|B_j)} \\newline $$ $$ i = 12,\\dotsc,n $$ 条件概率的三公式中： 乘法公式是求事件交的概率。 全概率公式是求一个复杂事件的概率。 贝叶斯公式是求一个条件概率。 veen图，左边普通条件概率，右边全概率公式（绘图：latex的tikz）\r","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:2:1","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"2、如何操作 调查者只需要回答以下两个问题中的一个就行，且选项只有“是”和“否” 问题 A: 你的生日是否在 7 月 1 日以前？ 问题 B：你是否浏览过不良网站？ 调查者只需要回答以下两个问题中的一个就行\r（1）被调查者在封闭屋子中没有其他观测者，独自一人操作和回答问题。 （2）调查者抽取盲盒，抽到红球回答 A, 抽到白球回答 B。 首先，我们能大致估测“任选一人，生日是否在 7 月 1 日以前”的概率，我们假定为 0.5。 此时，有 $n$ 个问卷，我们得到了 $k$ 份问卷选“是”，盲盒中抽到红球的概率为$ \\pi$ 。 也就是说，我们有四个数据（$n，k，\\pi，0,5$ ）。 此时，利用全概率公式： $$ P(是)P(白球）P(是|白球)+P(红球）P(是|红球) \\stackrel{带入数值}{\\longrightarrow} $$ $$ \\frac{k}{n}=0.5(1-\\pi)+{p_{是|红球}}\\pi \\stackrel{解得}{\\longrightarrow} $$ $$ {p_{是|红球}}=\\frac{\\frac{n}{k}-0.5(1-\\pi)}{\\pi} $$ 心理学、统计学的交叉设计！一场精美的骗局到此结束！ ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:2:2","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"三、“狼来了”的寓言与贝叶斯公式 ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:3:0","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"1、引入：贝叶斯公式 贝叶斯公式： $$ 贝叶斯公式： P (B_i | A) = \\frac{P(B_i) P(A|B_i)}{\\sum_{j=1}^n P(B_j) P(A|B_j)} $$ $$ i = 1,2,\\dotsc,n $$ 在贝叶斯公式中, 如果称 $ P (B_i)$ 为 $B_i$ 的 先验概率 ,称为$P (B_i |A) $ 为 $B_i$ 的 后验概率 , 则贝叶斯公式是专门用于计算后验概率的, 也就是通过 $A$ 的发生这个新信息, 来对 $B_i$ 的概率作出的修正。 例如在“狼来了”的故事中，村民对小男孩的有个初始信任度，但在小男孩反复的欺骗下，信任度不断降低，导致后面说真话也不相信小男孩了。 ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:3:1","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["经济学习"],"content":"2、狼来了的寓言 记事件 $A$ 为“小孩说谎”，记事件 $B$ 为“小孩可信”。 假设村民最开始对小孩的印象是 $P(B)=0.8$ , $P(\\overline{B})=0.2$。 先带入村民视角的条件概率，同时假设初始值 $$ \\begin{cases} 小孩可信的同时说谎：P(A|B)=0.1\\\\ 小孩不可信的同时说谎：P(A|\\overline{B})=0.5 \\end{cases}\\ $$ 当小孩说谎后，村民会重新评估对小孩的信任度，所以此时前提是小孩撒过谎，信任表示为 $P(B|A)$。 在第一次说谎后，带入贝叶斯方程： $$ \\begin{align*} P(B|A) \u0026 = \\frac{P(B)P(A|B)}{P(B)P(A|B) + P(\\bar B)P(A|\\bar B) } \\\\ \u0026 = \\frac{0.8\\times0.1}{0.8\\times0.1 + 0.2\\times0.5} = 0.444 \\end{align*} $$ 也就是说村民对小孩信任变化如下： $$ 先验概率 \\begin{cases} P(B)=0.8\\\\ P(\\overline{B})=0.2 \\end{cases} \\stackrel{欺骗一次}{\\longrightarrow}后验概率 \\begin{cases} P(B|A)=0.444\\\\ P(\\overline{B}|A)=0.556 \\end{cases} $$ 也就是说，欺骗一次后，村民对小孩的信任概率变为 $P({B})=0.444$ 和 $P({B})=0.556$。 同理反复带入，当欺骗第二次后，信任变为 $$ P(B|A) = \\frac{0.444\\times0.1}{0.444\\times0.1 + 0.556\\times0.5} = 0.138 $$ 综上，在两次欺骗后，村民对小孩的信任从 $P(B)=0.8$ 变为了 $P(B)=0.138$ 。 这就是多次欺骗导致了丢失信任。 贝叶斯估计为何伟大 贝叶斯估计都含义就是随时根据参数调整概率值。就像福尔摩斯推理一样，先排列出所有可能，每当证据增加，就更改每个可能的信念值。 还有种流派是频率学派，现实参数是固定的，直接用大数据估计出一个现实的参数。 从这个角度看，贝叶斯估计甚至是一种世界观。 ","date":"2023-08-01","objectID":"/zh-cn/posts/probability/:3:2","tags":["概率论"],"title":"用一根针测量π？概率论（茆诗松版) 笔记","uri":"/zh-cn/posts/probability/"},{"categories":["游记"],"content":"《关于华为会员日，你需要知道的全部》 本人是在五道口华为授权店弄的会员日，这里将讲述我知道的一切。 ","date":"2023-07-07","objectID":"/zh-cn/posts/hw/:1:0","tags":["旅游"],"title":"关于华为会员服务日，你需要知道的一切 ","uri":"/zh-cn/posts/hw/"},{"categories":["游记"],"content":"一、华为会员日时间： 每个月的第一个星期的星期五、星期六、星期日。 如果上个月月末刚好断在周五、六、日，则会顺延迟一个周。如果还不确定可以直接检索“20 xx（年）华为会员日”，如下链接所示： 例如今天，我去的 2023 年 7 月 7 日，就是顺延一周的结果。 2023华为服务日优惠活动消费者指引 ","date":"2023-07-07","objectID":"/zh-cn/posts/hw/:1:1","tags":["旅游"],"title":"关于华为会员服务日，你需要知道的一切 ","uri":"/zh-cn/posts/hw/"},{"categories":["游记"],"content":"二、需要预约吗？ 没有意外的话，现场预约应该也来得及，毕竟每个月都有，不会很拥挤。不过我本来是打算约的六月，结果“华为终端客服服务”（公众号提前预约）都满了，就干脆没去，但到了七月，我都是现场预约，没多少人。（可能是因为北京这几天太热了） 线上预约或现场预约后有号，广播叫到数字了就可以去对应的服务台了。 ","date":"2023-07-07","objectID":"/zh-cn/posts/hw/:1:2","tags":["旅游"],"title":"关于华为会员服务日，你需要知道的一切 ","uri":"/zh-cn/posts/hw/"},{"categories":["游记"],"content":"三、会员日有哪些服务? 1、免费贴膜：软膜免费，硬膜 99 元——所以接待员会推销你使用硬膜。 2、免费电脑清洗。 注意，不是所有店铺都有电脑拆卸权限，可能小店只提供免费换膜服务。 3、检修手机免除人工费。 例如换电池就只有电池价格 99 元和 129 元，如果其他日子去可能还有额外的人工服务费。更换电池尽量提前预约，让店员提前备好相应型号的电池。 ","date":"2023-07-07","objectID":"/zh-cn/posts/hw/:1:3","tags":["旅游"],"title":"关于华为会员服务日，你需要知道的一切 ","uri":"/zh-cn/posts/hw/"},{"categories":["游记"],"content":"4、现场体验 检修手机电脑大概会花费一个小时左右，可以看展示产品打发时间。 现场有其他产品可以体验，华为手表、平板、耳机、手机等。 但这些设备都上了系统锁和硬件锁，只会展示宣传页面，所以也就最多打发 10 分钟的样子，建议去附近逛逛。 提供面包、薄荷糖，但我没好意思拿。然后可能有电视放着无聊的节目。 等候区沙发可以坐，或许有充电线免费充电。 图是五道口华为店，如图，甚至还有个小孩玩的积木\r","date":"2023-07-07","objectID":"/zh-cn/posts/hw/:1:4","tags":["旅游"],"title":"关于华为会员服务日，你需要知道的一切 ","uri":"/zh-cn/posts/hw/"},{"categories":["游记"],"content":"四、推荐哪些店？ 我的位置是北京海淀区。 当时就是中关村、五道口、万柳区这几个选， 我先去了万柳区看看（因为听说万柳少爷的事，就去看看），结果是小店，没有清理电脑的能力，而且也没有对应手机型号的电池！！！ 所以要么去五道口，要么去中关村！这就是大店的实力！ 两方之中，我又推荐五道口，毕竟是海淀为数不多的夜生活地带。 五道口店下面就是詹天佑“京张铁路”遗址公园, 可以打发时间逛一逛。 ","date":"2023-07-07","objectID":"/zh-cn/posts/hw/:1:5","tags":["旅游"],"title":"关于华为会员服务日，你需要知道的一切 ","uri":"/zh-cn/posts/hw/"},{"categories":["游记"],"content":"五、关于詹天佑“京张铁路”遗址公园 保安大爷都挺亲切的，非常乐意为游客讲解公园布局。注意的是：红色跑道和沥青路上能骑自行车，除此之外的公园主体都是不让骑自行车的。顺便吐槽下，里面的清华园站遗址有个非常强的钉子户，，，，， 纪念碑？有草坪和滑滑梯，我始终找不到很好的远景构图角度\r铁道遗迹\r公园尽头的火车模型\r","date":"2023-07-07","objectID":"/zh-cn/posts/hw/:1:6","tags":["旅游"],"title":"关于华为会员服务日，你需要知道的一切 ","uri":"/zh-cn/posts/hw/"},{"categories":["经济学习"],"content":"范里安经典教材《微观经济学：现代观点》（Intermediate Microeconomics）中在第八章“斯勒茨基方程（Slutsky Equation）”有一个著名的“退税案例”（第九版第 100 页）。考察知识点是收入效应和替代效应。 ","date":"2023-07-06","objectID":"/zh-cn/posts/fla/:0:0","tags":["微观经济学"],"title":"范里安《微观经济学》退税案例解析","uri":"/zh-cn/posts/fla/"},{"categories":["经济学习"],"content":"一、引入 1974 年，石油输出国组织 OPEC 对美国实行石油禁运。为减少石油依赖，有人提出对石油征税，但如果征税会使消费者钱包受损，政治上也行不通。于是有人提出对石油征税，然后再把这笔税退给消费者。 批评者认为“先收税，再退回去”，那就什么都没改变，因为当人们收到退税后就会加大消费。 反直觉的， 教材认为：先征税然后退税，事实上消费者处境会变差，石油消费量从 $x$ 减少为 $x\\prime$。 ","date":"2023-07-06","objectID":"/zh-cn/posts/fla/:1:0","tags":["微观经济学"],"title":"范里安《微观经济学》退税案例解析","uri":"/zh-cn/posts/fla/"},{"categories":["经济学习"],"content":"二、去数学化的解释： ","date":"2023-07-06","objectID":"/zh-cn/posts/fla/:2:0","tags":["微观经济学"],"title":"范里安《微观经济学》退税案例解析","uri":"/zh-cn/posts/fla/"},{"categories":["经济学习"],"content":"其一：押金视角（个人观点） 这里我将先用几乎没有数学的语言说明范里安的逻辑。 先征税，再退税，听上去是个奇葩方案，但请想一想，如果把“共享单车、共享充电宝”的使用押金看做税收呢？ 押金和范里安的石油税一样是先交后退。 押金是在共享单车骑行费基础上额外执行，石油税也是汽油消费基础上额外执行。 押金和石油税之后都会退全部金额。 原始问题：对石油征税后再换给消费者，消费者消费量会不会变化？ 转变为了：共享单车\\充电宝押金涨价，消费者消费量会不会变化？ 我们假设市场上有两种人， 一个人是富哥，每天有 100 块，50 块用于自己消费，另外 50 块甚至可以 V 给别人吃“疯狂星期五”。 一个人是打工人，每天只有 50 块，除去自己消费，连额外吃 KFC 的钱都拿不出来。 对两种群体来说，在共享充电宝押金是 0 元时，一各自每天都需要消耗两块充电宝。 但有一天，充电宝押金变成 50 块了！ 富哥无所谓，还是花 100 块买了两个充电宝，之后收到退钱后又继续潇洒。 打工人就惨了，押金却从 0 元变到了 100 块！他却只有 50 块！除非借钱，他都筹不够押金！于是，打工人就从每天消费两个充电宝变成了消费一个充电宝。 所以这个市场上，虽然奉行押金先收后退，但押金涨价前原来每天能租出去 4 个，现在只能租出去 3 个了。 押金涨价对富哥消费额 $x$ 没有影响，打工人的消费却从从 x 减少为 $x\\prime$。 市场平均消费变化：$\\frac{x+x}{2} \\Rightarrow\\frac{x+x^{\\prime}}{2}$，市场消费确实减少了！ 所以范里安在书中说 ( 英文教材原链接：《Intermediate Microeconomics》) That’s because he is average, not because of any causal connection 范里安区分了“消费者”和“平均消费者”。也就是市场上的富哥 (消费者) 不会被押金影响，但打工人会，最后市场整体（平均消费者）就会下降。 ","date":"2023-07-06","objectID":"/zh-cn/posts/fla/:2:1","tags":["微观经济学"],"title":"范里安《微观经济学》退税案例解析","uri":"/zh-cn/posts/fla/"},{"categories":["经济学习"],"content":"其二：税收摩擦，跨期视角 押金的类比是探讨政策对不同群体影响不同，最终总体消费下降，消费也是一次性的。 但还有种解释视角，把政策视为强制每个人跨期消费。 退税前消费，此时视为涨价，价格就是税收转移负担，价格从 $p$ 变为 $（1+t）p$，消费自然从 $x$ 降到 $x^\\prime$，第二次退税 $tx^\\prime$。 本质上理解为跨期消费模型。实际上，如果我们将只能在未来售卖的房产加入约束，也就能建立房价与消费的关系。 ","date":"2023-07-06","objectID":"/zh-cn/posts/fla/:2:2","tags":["微观经济学"],"title":"范里安《微观经济学》退税案例解析","uri":"/zh-cn/posts/fla/"},{"categories":["经济学习"],"content":"三、数学化的解释 当理解了“去数学化的解释”后，我们就可以来看书上给出的数理分析了。 税收负担全部转移给消费者，意味着汽油价格上升。 （因为存在打工人无力负担押金，即便押金会退还。） 征税又退税，最终收入没有改变。 第一个点代表替代效应发生，汽油价格上升，消费者愿意把买汽油的钱更多地花在其他商品上。所以最终消费者消费的石油一定是价格变化后的 $x^\\prime$，而不是原来的 $x$。 第二点代表总体来看收入没有变化，所以没有收入效应。 所以这也是为什么书中区分了“消费者”和“平均消费者”, 平均消费者对收税又返回的反应就是减小消费，在他们的认知中就是汽油变贵了，同时设税收转嫁为 $t$。 $$ \\begin{cases} \\text{之前: }px+y=m\\newline \\text{现在: }(p+t)x\\prime+y\\prime=m+tx\\prime \\end{cases} $$ 示意图\r","date":"2023-07-06","objectID":"/zh-cn/posts/fla/:3:0","tags":["微观经济学"],"title":"范里安《微观经济学》退税案例解析","uri":"/zh-cn/posts/fla/"},{"categories":["游戏"],"content":" 文字是我唯一的武器，也将是我最大的力量。 这是勇者的初期的自我介绍，但倘若玩家有耐心玩到第三层真实结局，就会发现这句话背后的悲情、隐情、爱情。 正是游戏的三重结局，让我感觉整个游戏完全像汉字“回”一样，内涵上是“回”，关卡结构上也是一个“回”状的圈。 形式内涵归于一体，其游戏之美莫大于此。 ","date":"2023-07-01","objectID":"/zh-cn/posts/wzyy/:0:0","tags":["游戏"],"title":"文字游戏：“回”到文字","uri":"/zh-cn/posts/wzyy/"},{"categories":["游戏"],"content":"无法被外文复制的视听体验 全文最精彩的视听体验毫无疑问是善用“文字”。“溪”字组成的溪中的“三点”潺潺浮动，“火”的左右两点冒着飞远的烟雾，对称的“門”字可以左右内翻缓缓扣响。 文字游戏\r这些天才般的想法让这款游戏不可能被翻译成英文，只有中文学习者才能得到最纯粹的体验——这才是华夏象形字上下五千年的沉淀。 当然，纯文字还有个好处：没有比脑补更精彩的画面创作了（ 可以说道的还有转场和动画，例如“巨人”伸手抓住好友，利用 2D 特性，又在脚下产生了投影，自然过度。龙出现时，场景的变换借助文字翻转效果实现，和龙眼球转动实现了完美的统一！ 巨龙\r","date":"2023-07-01","objectID":"/zh-cn/posts/wzyy/:1:0","tags":["游戏"],"title":"文字游戏：“回”到文字","uri":"/zh-cn/posts/wzyy/"},{"categories":["游戏"],"content":"游戏性第二、脑洞第一 整体游戏围绕汉字的拆解出发： 删除一些否定词改变句意。 改变词语的顺序影响含义。 拆解重组偏旁部首重组汉字。 通过进一步的排列组合，《文字游戏》的深入解密像是通过转动“文字版魔方”凑出“关键台词”。主要是拼图和旋转两种手段。 文字魔方\r但也是因为文字组合的灵活性，有些词语和句子拼接有些牵强附会。并且在初次解密的惊艳后，后续的解密会稍微显得冗长无趣。 比起平庸的游戏性，这款游戏最核心的是脑洞：不断地挖掘物品和场景描述，从而提炼出有趣的组合。例如“五花八门的颜色”里的门就是玩家苦苦寻找的出口，而主人公“我”则随时可能从他人的口中冒出。正是这些借助物品描述-视觉错位的文字解密使得游戏充满了脑洞和幽默感。 ","date":"2023-07-01","objectID":"/zh-cn/posts/wzyy/:2:0","tags":["游戏"],"title":"文字游戏：“回”到文字","uri":"/zh-cn/posts/wzyy/"},{"categories":["游戏"],"content":"巧妙的玩梗 重要人物和道具其实就是 Word 编辑的谐音转换，整个冒险终于“回旋”到了文字本身，从扮演文字到创作文字，也为第三层结局埋下伏笔。 三位导师：博德（Bold）、伊塔力克（Italic）、安德蓝（Underline）。 道具：贝克斯贝斯之剑（backspace）又名“帝利特之剑（delete）”、安度药水（Undo）—Word 撤销：秘籍：Ctrl+z。 ","date":"2023-07-01","objectID":"/zh-cn/posts/wzyy/:3:0","tags":["游戏"],"title":"文字游戏：“回”到文字","uri":"/zh-cn/posts/wzyy/"},{"categories":["游戏"],"content":"结局未必快乐 简短的 BOSS 战使三个结局的到来显得太过仓促，对于好友“艾斯”的瞬移之谜似乎也没有讲述（中间有几关就是我惊讶道艾斯转移这么快，还以为是伏笔，结果什么都没有）\r，是比较败坏好感的。 即便是真正的隐藏结局，也并非圆满而快乐了。为不剧透，不在此多谈。但我相信，在游玩了这场“回旋”的文字游戏之后，玩家们都会感受到： “勇者啊，文字是我唯一的武器，也将是最大的力量”。 三重的结局，也是三重文字的变形。 “我”变成了“人”，“人”又变成了文本编辑器上的“输入符号：|”。 是因为“唯一”才显得“最大”，所以我称这个故事的结局是悲情的。 但即便是困境之中，也可使用文字，这仿佛又成了种无敌的救赎。倘若感觉痛苦，那不放写下感受去创作吧。文字并不会 100%地成为解救现实的武器，但文字中包含的信念和思想或许可以救赎心灵——仅此而已，却已是汉字表达的所有。 书写自己的故事\r","date":"2023-07-01","objectID":"/zh-cn/posts/wzyy/:4:0","tags":["游戏"],"title":"文字游戏：“回”到文字","uri":"/zh-cn/posts/wzyy/"},{"categories":["阅读"],"content":" 本存档是 sss重生猎人（84章），发现本文纯属偶然。原著是韩文小说，B 站有人发的专栏只有机翻。意外看到觉得不错，所以拜托 cc 同学优化语言后存个档。最后我还是凭借个人喜好有所裁剪。机翻倒是意外地弄出点意识流的感觉， “这里是一朵一朵一朵一朵玫瑰”。 冬天，下雪了。 师父的步伐很轻，像一阵掠过冰面的风。白色的世界里，师父黑色的衣襟与地面仿佛笔触一样流淌。 “你想逃到何时？” “若论轻功，本座可不会输。” “一切迟早会结束。” “你看不到吗？这世界已成无边雪原，天地偌大，本座随处可去！” “你哪里也去不了。”背后灵猛地发力，巨剑横扫，荡开风雪，拉近距离。“若你真是全盛时期，我或许无计可施。现在你生机已寥寥无几了。还剩不到一个小时吧？你还打算一直打下去吗？” “啊哈，真卑鄙啊” “确实卑鄙。”背后灵挥舞巨剑。 “好吧，我承认”师父扭头轻躲，“本座命数所剩无几，确实不能再逃了” “看来还说得通。”背后灵大笑挥剑。 师父握住剑柄，“那就让你见识下本座的最强绝技” 师父握住剑柄，“那就让你见识下本座的最强绝技”\r魔天神功, 第一式——饿死剑。 “大饥是灾年时的遍野饿殍，是瘦骨嶙峋的父母易子而食时绝望的手势。” 刀剑划过冬风，发出刺耳的尖啸。 “那个大人说过，把邻居家孩子的身体搞成肉干，埋在雪地里。你听说过镇上的谣言吗？你听说过村里的故事吗？冬天用铁锹挖雪的时候，孩子们的肉会把铁锹卡住。” “砰！”师父剑锋落在背后灵巨剑上。 “我想那是个荒年。” “是啊，荒年。荒年如病，随时复来” “但这是偶然”背后灵逆着冬风，抡动巨剑。“偶遇丰年，偶遇歉年，世间万物，顺其自然。魔教教主啊，你既然为偶然的悲剧而悲哀，那也该因偶然的喜悦而展颜。人的悲痛沉沦的深度与其幸福徜徉的高度别无二致。” “铿锵！”长剑与阔剑交叠，雪花飘零，红梅尽落。 “有那么一天，我漫步在路上，浩瀚无际的麦田从地平线翻涌起伏，一直铺到了我的眼前。这是个明媚的，连风都带着暖意的日子，麦浪涨落，现出几个雀跃玩耍着的孩子，他们跳着，跑着，呼吸着。满溢着快乐与活力的笑声一阵又一阵，在饱满低垂的麦穗间时隐时现” 隆秋，起风了。红叶如火漫山遍野，原野广阔金浪连天。 “你跟我说被埋在雪地里的孩子的悲泣吗？那我便要给你讲在麦穗间捉迷藏的孩子的笑声。”漫天枫叶卷动在背后灵剑身身后。“不管是凛冬还是隆秋，都是在某个偶然的日子里偶然发生的事。当我将死之时，我想起的肯定会是孩子们玩捉迷藏的情景。这是显而易见的吧？” 师父割开枫叶。魔天神功，第二式——渴死剑。 “两件事都是偶然？但偶然的富足不会杀人，偶然的饥渴却会致人死地。死了便是死了，所有的一切，都结束了” 烈日当空，酷暑难耐。 “一口水也没有，我要为死去的百姓反抗！” 山川干涸，草木焦黄，果实干瘪，虫鸟嘶喑，河摊晾晒着成千上万枯死的鱼尸，没有水分的鱼眼凸出已成鱼干的身体。 “噌”“当”伴随着越来越快逐渐相连不断的相击声，无数破碎的剑光在我眼底铺成明晃晃一片。他们贴的更近了，交锋愈发激烈，也愈发危险。 “确实是很热的夏天，但在这么酣畅淋漓的夏天洗个澡，也会很痛快吧。”背后灵阔剑如山，滴水不漏“你把公子教错了。” “……你说什么？” “额，说得有点过了。与其说教错了，不如说教得太早了。”背后灵的剑光便如流水般接踵而至，“我喜欢歌颂世界的幸福，把目光投向别人的痛苦虽然也不错，但你不能永远这样做。” “为何？” 嚓昂！灼风激荡，枯枝簌簌 “这小子还没尝到世界的甜头。”攻防在不知不觉间转换。 “你得让他尝尝山珍海味。尝尝这些，他才会为那些一辈子都吃不到这个的人难过。夏天需要水的时候，他才会为那些因为没有水而饥渴的人哭泣。你认为人心是烛光的芯，只要燃烧就行。但蜡烛总有一天会燃烧殆尽的。你知道吗，教坛的教主啊，这小子还没谈过恋爱，还没爱上过任何人。” 剑如瀑布般倾泻而下，连绵不绝。 “你把世界上所有的痛苦和悲伤都背下来，你就是装腔作势！你教导的也太早了！” “我会教他如何发乎肺腑地大笑，如何毫不虚伪地生活。我会教他如何与人相互依靠，如何与人长相厮守。直到真正无可奈何的时候，再让他学会悲伤，最后坚强。” “你……” 久旱的大地天降甘露，壮大的水流卷走干萎的死鱼，雨水顺着树皮滑落的地方，不久便有新芽滋长，草木蔚然。 “你打算取代本座弟子吗？！” 魔天神功，第三剑，溺死剑。 “是的。” “你敢！”电光如网，雷声大作。越来越大的雨水逐渐汇聚成一股股湍流，汩汩湍流又彼此勾连，脆弱的河道被冲刷得千疮百孔。 “你居然敢觊觎本座唯一的弟子？” 雨水泛滥，流淌出几万朵猩红的玫瑰。 “开什么玩笑！他师父本就是我！” 二人脚下的水库轰然塌陷，村庄被洪水吞没。 “是我教他怎么对抗兽人，是我启发他如何运用灵气，好不容易将这块没什么天赋的朽木雕刻成才，哪能让你这个邪教头目横插一脚！” 无边无尽的水面升起无数玫瑰，猩红如血的玫瑰从四面八方流淌而来。两个人垂挂在水波和花瓣上。 “挥剑是件愉快的事！”雨声和剑声也盖不过背后灵恣肆嚣狂的笑声。“痛苦？用痛苦挥舞的剑，那是什么？太魔功了吧！闻到花香的快乐，光着身子迎接夏雨的喜悦才好。” “公子，是本座的弟子，是为成为本教教主而生的！” “你个邪教教主！” 无边无际无穷无尽的红，猩红的红，玫瑰的红，也是牡丹的红。 数亿朵玫瑰在一瞬间绽放，洪水消失，风止雨停，双剑交接声也骤然远去。天地间没有一点多余的声音，没有一点多余的颜色，只红红，无边无尽的红，填满我双眼的红。 世界红成一片花丛。 春天。花开始流动，却不再有刺，红牡丹漫天飞舞，像是天际的流霞。 “牡丹兰剑第六招——兰盆兰格，剜去你的颈椎穴！” 师父后退几步，精准避过。 我看见了。 “魔天神功第七剑” 我听见了。 背后灵以海华漫德第四招——秋夜落月抗衡。 我看到了二人的剑。 看见两个人踩着的牡丹花。 被踩得香喷喷的红牡丹。 看得见，我才知道，比武接近尾声了。 师父要输了。 烂漫花海中，师父浑身是血。师父和背后灵实力差距显而易见。即使且战且退，也难以抵挡背后灵的排山倒海的攻势。尝试的代价是浑身的伤痕。 背后灵摆好姿势，“我将用落日落花剑的第一招——月夜来剑”。 师父的呼吸声变细了。 “本座内功已尽，用真气也是奢望。本座……”师父的嘴唇翕张，“本座本没有完成魔天神功的最后一个剑路。原因只有一个，被母亲遗弃，被世界遗忘，被风雪掩埋，被寒冷浸没，这是本座心中从小便认定的死亡结局。” “但——”师父高举长剑，像正午的时针，指向高天。“讽刺的是，世界灭亡之后，魔天神功的第九剑才得以完成。” “……..” “天上天下，本座独尊。” “不论抬眼仰望无边的苍天，还是垂眸丈量无际的大地，悠悠天地，只余本座。” “世界是冬，本座便是烛，本座为天下歌，因而本座的死也将是天地之死” 剑，光芒万丈，划破天幕。 “本座的魔天第九剑，将在雪原立下遗嘱” “魔天神功，本座的最后一式，孤剑独存。” 魔天神功，本座的最后一式，孤剑独存\r冬天撕裂的春天。花瓣分开的裂隙中，四季轮转，始而复周，凛冬再临，呼啸而下。万千的红牡丹化作数亿多雪花冰冻世界。 孤独的剑，这一击，歌颂着世界的死亡。 “好吧，我承认。作为这样的世界里的最后一个武人，这是非常合适的一击。” “但唯独孤独，我比你更清楚。”他双手抬起阔剑，“你在这样无趣的世界独自守望了多长时间？三年还是两年？当然不是。因为你身边一直有个武林盟主。他一死，你就疯了。” 剑柄开始震颤，剑身开始震颤，大地在震颤，天空在震颤，半空中那道纯白的洪流也隐隐在震颤。 “抱歉。我一个人坚持了一百三十年。” 出剑，无形，一剑。 玫瑰花谢，牡丹花开，夏雨连绵，大浪滔天，红叶如火，麦浪如海。冬天、秋天、夏天、春天、夏天、秋天、冬天，冬天变为了红色，红色涌出了冬天…… 我简直无法理解刚才的一击，但是，现在还有一件比理解剑更重要的事。 “师父” “师父，你没事吧？….” 师父怔怔地仰望着冬日的天空，眼睛里已没了焦点。胸口一震，我摸了摸师父的手。给师父把脉。活着。师父还活着。 “师父……” “原来如此”师父说，“原来是这样啊”。 “原来如此，本座唯一的弟子。你呀，从一开始就只是想着帮本座，塞外慕本座之名而来……”她的声音越来越轻。“本就是个彻头彻尾的谎言” 师父的声音越来越小。 “谢谢”，师父说。 “徒弟啊，与本座相遇，觉得幸福吗？” 我点了点头。 “嗯……” “本座能被你记为一朵花吗？” “师父……” “我想知道是什么花” “是牡丹……”我抱住师父的身体。“我会记住你是红牡丹的，师父” “哈哈”师父轻笑着。“很漂亮啊” 师父抚摸着我的脸，“好漂亮啊……” 然后，师父用剩下的一只手，向着远方挥下，轻轻地，像是一只刚出生的小鸟在扇动翅膀。 “我的徒弟……” 以无声的方式，高耸的雪山被斩断了。 一分为二的雪山静在那里，彷佛从来如此。 师父喘着白气。 “我应该是做了一个纯白色的梦吧……” “师父……”我把脸埋在师父的肩膀上。在停止的呼吸中，对一个生来就带着雪的香气的人。 冬天被斩断了，师父把冬天撕裂了。 那天， 一个世界的冬天被斩断了。 ","date":"2023-06-27","objectID":"/zh-cn/posts/sss/:0:0","tags":["阅读"],"title":"存档：sss 级重生猎人第 84 章","uri":"/zh-cn/posts/sss/"},{"categories":["阅读","经济学习"],"content":" 存档我觉得好的资料，包括文学审美和经济研究的建议。 在经济学帝国主义的发展下，没人知道经济学将走向何方。有人说经济学是屠龙之术，可这世界毕竟无龙可屠；有人说经济学过度数学化，早已远离世界的真实；有人说经济学家是只会用假设来解决方法… 实证主义、后实证主义、建构主义，研究范式交错纵横，没有一个准确的答案。在今天，经济学越来越像建构主义的寓言题材，用数据和例子讲好一个我们需要的寓言，从这一点看，经济和文学倒有了颇多相似之处，因此在这里收集整理个人喜爱的文章，以作参考。 ","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:0:0","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"文学 ","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:1:0","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"毛姆的「写作建议」 1、你必须比观众先感到厌倦。 2、写作者的座右铭必须是：能删则删，删了再删，直达观众注意力的顶点。 3、我们作家必须研究的还是普通人。普通人才是作家更为肥沃的土壤。 4、他喜欢使用更强有力的词甚于那些悦耳的。 5、数年后我才明白，写作是一门精巧的艺术，要经过辛苦努力才能获得。 6、努力做自己没有天赋的事是无用的。 7、我为自己词汇的贫乏感到吃惊，于是带着纸笔去大英博物馆，记下奇珍异宝的名字、古旧珐琅的拜占庭式颜色、织物给肉体带来的感受，然后精心构想一些句子把这些都放进去。我很幸运，没找到什么机会用这些材料；它们还躺在那本旧笔记本中，为想写废话的人预备着。 8、我想摒弃浮华辞藻，用尽量直白、不矫饰的方式写作。 9、我发现了自己的局限，于我而言，唯一的明智之举就是将目标设定在这个局限之内自己所能达到的最优秀境地。我知道自己没什么抒情的特质。 10、我琢磨着，自己似乎应该将目标定在清晰、简洁和悦耳上。 11、在作家的作品中可以发现两种类型的晦涩，一种乃是源于疏忽，另一种则是有意为之。人们写得晦涩，经常是因为他们没有不辞辛苦地学习怎样写得明白。造成晦涩的另一个起因，是作者自己对自己的意思都不十分确定。 12、很多作家不是写作前，而是在写作时才展开思考，也就是笔杆促生了思想。这也确实是作家必须时常提防的危险。 13、人们很容易说服自己，认为某个他不怎么明白的词语包含着远多于他所意识到的意思。 14、要达到清晰，需要经过严格的训练。 15、简洁和自然才是“卓越”最真实的标志。 16、悦耳是我提及的三种特征中的最后一个，相当多的读者以及很多令人尊崇的作家都缺乏这一品质。 17、语词有分量、有声响、有外表，只有考虑到这些，你才能写出优美动听的句子。 18、我不照自己的愿望写作，我照自己的能力写作。 19、牵强的、陈旧的，甚至做作的词，只要比直爽的、明确的词好听，或者赋予句子更好的平衡感，我就不会认为它不合适。尽管你可以毫不犹豫地向动听的声音妥协，却不应该对使意思模糊的词让步。 20、我想作者最好就是具有比读者更强的厌倦机能，这样就能在读者之前体察到厌倦了。 21、人们一旦努力形成一种文风，其后就很少能够完全自由地写作了。 22、如果你能写得明晰、简洁、悦耳并且生动，那么你将写得很完美，你将写得像伏尔泰一样。 23、好的文风没有努力过的痕迹，你所写的文字应该看起来像是妙手偶得。 24、如果我到底还是达到了从容的效果，那也只是通过艰苦的努力得来的。 25、人们应当用属于其所处时期的方式进行写作。语音是生动且变化着的；努力像身处遥远过去的作家们那样写作，只能导致不自然。 26、我情愿一个作家很世俗，也不希望他矫揉造作；因为生活就是世俗的，作家追求的就是生活。 27、在我看来，很多作家根本不观察生活，而只是从他们幻想的很多形象当中，依现有的样子创造出他们的人物来。他们就像是根据对古董的记忆绘出图案的绘图员，从来不试着去画活生生的模特。他们充其量也只能给心中的幻想以似是而非的形状而已。 28、知识分子愚蠢的偏见在于认为只有他们的知识才识起作用的。真、善、美并非那些上费用昂贵的学校、泡在图书馆或经常出入博物馆的人的特权。艺术家没有借口认为自己高人一等。艺术家如果以为自己的知识比别人的知识更重要，那他就是傻瓜；如果他不能移平等的立场愉快地面对别人，那他就是个笨蛋。 29、作家可以放心，他自己希望忘记的作品也是会被读者忘记的。 30、我把书籍放到一边，只是因为意识到时光流逝，而生活才是我的正事。 ","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:1:1","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"加缪 1957 年诺奖演讲《艺术家及其时代》 尊敬的国王和皇后陛下，尊敬的王室成员，女士们，先生们： 秉承自由精神的贵学院慷慨授予我这份殊荣，我自认我的成就远远配不上它的分量，所以更是由衷地心怀感激。所有人都渴望得到认可，艺术家就更为如此。我也是一样。只有当我将你们的决定所产生的影响与真实的我进行比较之后，我才真正理解你们何以作了这样一个决定。一个尚且年轻的人，除了疑惑一无所有，他的作品尚未成型，并且习惯于在工作中孤独地生活，对各种示好也退避三舍，对于这样一个离群索居的人来说，突然被逮到，并抛置于这耀眼的聚光灯下，又怎么能不感到一种恐慌呢？当欧洲其他的作家，哪怕是其中最伟大的一些作家，都被迫保持沉默，当他的故土，正遭受着无止境的苦难，他将以怎样的心情来接受这份荣誉呢？ 我就经历了这种内心的惶恐与不安。为了重新获得平静，我只能接受这份命运慷慨的馈赠。既然我的成就无法与这份奖项匹配，我便只能倚赖那份支撑着我人生的信念，即便在最艰难的境况下也未曾抛却我的那份信念：那就是我对我的艺术以及对作家这一角色的看法。让我怀着感激和友好的心情，对大家尽可能简短地表达一下这个想法。 于我而言，没有艺术，我便无法存活。但我从没有把这份艺术置于一切之上，相反，它之所以对我而言不可或缺，正是因为它与所有人紧紧相连，并且允许像我这样的一个人能和大家一样生活下去。艺术在我看来并不是一场孤独的狂欢。艺术是一种手段，它以其特有的方式呈现了人类共同的苦难与欢乐，从而感动了大多数的人。所以它迫使艺术家不再自我孤立，使其屈从于一种最为质朴、最为普世的真理。而通常情况下，那个自认与众不同而选择艺术生涯的人很快就会发现，只有承认自己与众生的共性，他的艺术和他的独特才能从中得到滋养。正是在这种自身与他者不断的往来中、在与他不可搁置的美以及不可抽离的群体的交往之中，艺术家得到了自我锤炼。这也是为什么真正的艺术家不会蔑视任何东西；他们要求自己必须理解一切，而不是评判一切。如果他们必须在这个世界上选择一个阵营，那他们或许只能属于尼采的伟大言论中所构建的那种社会：一个由创造者而不是评判者来统治的社会，无论这里的创造者是劳动人民还是知识分子。 同样地，作家这一角色也被赋予了艰难的职责。身为作家，在如今这个年代，他不该为制造历史的人服务，他应该为承受历史的人服务。否则，他将被孤立，也将失去他的艺术。一个作家，若是与暴君为伍，那么即便暴君有千军万马与之同行，他也依然无法摆脱那种孤独。但世界另一头，一个被遗弃在屈辱中的无名之囚，他的沉默却足以一次又一次将作家从这种孤独的流放中拯救出来，只要他在享有自由权利的同时，始终不忘这种沉默，并以艺术的方式来使这种沉默发出声响。 我们中任何人都没有伟大到足以承担这一使命。但是在他一生的境遇中，无论是门庭冷落还是扬名一时，无论是被压制于暴政的桎梏之下还是拥有一时的言论自由，作家只有忠心耿耿竭尽所能地为真理和自由服务，他的职业才能因此变得伟大，他才能得到民众发自肺腑的正名。作家的使命，就是团结尽可能多的人，这个使命不应屈服于谎言和奴役，因为在谎言和奴役统治的土地上，处处囚禁着孤独的灵魂。无论我们作为个人有着怎样的弱点，我们职业的高贵却永远扎根在两个并不容易坚守的承诺里：对于知晓的事，绝无谎言；对于任何压迫，反抗到底。 在二十多年的荒诞历程中，孤立无援的我和同代人一样，迷失在时代的跌宕变迁中，仅靠内心隐隐的一种感觉支撑着：在当今这个世界，写作是一种光荣，因为这一行为肩负使命，并迫使你不仅仅去写作。它尤其迫使我按我自己的方式，以我的一己之力，与所有和我一样经历过那段历史的人一起去承担起我们共有的那种痛苦与希冀。这些人，出生于第一次世界大战之初；希特勒政权建立和最初的革命浪潮掀起时，他们又正值二十多岁。接着，像是要使他们的经历更加完整，他们又经历了西班牙内战、第二次世界大战，他们经历了那个满目疮痍、遍地集中营和牢狱的欧洲，而如今，正是他们这些人，又要在毁灭性核武器的威胁下，抚育他们的下一代，完成他们的使命。我想，没有任何人有权利要求他们乐观。我甚至主张，在与他们不断斗争的同时，我们应该理解他们的所作所为：他们只是因为与日俱增的绝望，而做出了耻辱之举，并且堕入了这个时代所盛行的虚无主义。但是，不论是在我们国家，还是在整个欧洲，我们中的大多数，仍然拒绝虚无主义，仍在寻找一种正义。我们需要锻造一种在多事之秋生活的艺术，为的是能够涅槃重生，然后坦然地与那历史进程中的死亡本能作斗争。 或许，每代人都自信肩负着重塑世界的使命。然而，我们这代人却知道，我们对此无能为力。但是，我们这代人的使命或许更伟大，因为我们的使命是：不让这个世界分崩离析。我们继承的，是一段残破的历史，它混杂着革命的失败、走火入魔的科技、已经死去的诸神和穷途末路的意识形态，纵使在这样的时代，任何平庸的势力都能让这个世界毁于一旦，但这种平庸的势力只有否定的力量，在理智自甘堕落成仇恨与压迫的奴隶时，这种否定的力量并不能教会我们这代人在内心和外部世界重新修建起一点点能够给予生命和死亡以尊严的东西。在这样一个每时每刻都有可能崩塌的世界面前，我们伟大的裁判官们建立的恐怕永远是死亡的国度，而我们这代人知道，我们应该在与时间疯狂赛跑的同时，在不同民族之间，建立起一种不屈从于任何奴役的和平，重新调和工作与文化的关系，并与全世界所有人携起手来，构建一种联盟。没有人能够确定我们这代人是否能完成这项浩大的任务，但是，我们确定的是，他们已经遍布在全世界各个角落，为真理和自由而战，并时刻准备着为之赴死，无怨无悔。正是这些人，值得我们尊敬和鼓励，无论在何时何地——尤其是在他们牺牲的地方。总之，我想把你们刚刚授予我的荣耀转献给他们，相信你们也会感同身受。 与此同时，在说了作家职业的高尚之后，我想要还原作家的真实模样，除了和他的战友们一起共享的身份之外，他没有其他身份。他既脆弱又固执；他无法永远保持公正，却又热切追寻着公正；在所有人的视线中，他默默构建着自己的作品，既不以之为耻，也不引以为傲，他永无止息地在痛苦与美好中被撕扯，最终是为了从他这双重的存在中，提炼出他固执地想要在历史的废墟中创建起来的东西。这么说完，谁还能期待他给出现成的答案和完美的道德信条呢？真理是神秘的、难以捕捉的，总是有待征服的。自由固然是令人振奋的，但实践起来也同样是危险的、艰难的。我们必须走向这两个目标，艰苦卓绝、征途漫漫，却坚定不移、矢志不渝。由此，哪个有着自知之明的作家还敢自诩为美德的传道者？至于我，我必须再说一次，这完全不是我的身份。我从来未能放弃生命中的光和幸福，不能放弃自由的生活，这些东西自小就伴随着我成长。这种怀旧之情虽然也让我犯了不少错误，却无疑也帮助我更好地理解了我的职业，帮助我毫不犹豫地站在那些沉默的人身边，那些人，除了从回忆中追索那一点点短暂而自由的幸福，在这个世上便无以为继。 现在，我向大家还原了真实的我，你们知道了我的浅薄有限，知道了我得益于他人，也知道了我艰难的信仰，作为结束，我终于能更自如地表达诸位授予我这份荣誉的广博与慷慨，也能更自如地对你们说，我接受这份荣誉，并要把它视作为一种致敬，向所有和我一样经历了战斗，却没有获得任何殊荣，只是饱经了苦难与迫害的人致敬。最后，我要发自肺腑地对诸位表示感谢，并公开地，以感恩的心，向你们作出一个古老的承诺，任何一个真正的艺术家每天都会在静默中向自己作出的古老的承诺，那便是——忠诚。 ","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:1:2","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"恰克（《搏击俱乐部》作者）的写作指南 再过六秒钟，你会恨死我。 但再过六个月，你会成为一个更好的作家。 从现在开始——至少接下来半年之内——你不能用“想”动词。这包括：觉得，知道，明白，懂得，相信，想要，记得，想象，欲求，还有其他那一百个你喜欢用的词。 这张单子还包括：爱和恨。 它也包括：是和有，但这两个过一阵再说。 直到圣诞节左右，你都不能写：肯尼觉得莫妮卡也许不喜欢他夜里外出…… 作为代替，你必须把这句话分解成：“有些早晨，肯尼在外面待得很晚，错过最后一班公交，直到他不得不搭便车或付钱搭出租，然后回到家发现莫妮卡在装睡，因为她从不如此安静地睡着，那些早晨，她只会把自己那杯咖啡放进微波炉里。从没有他的。” 比起写你的角色知道什么，你现在必须提供细节，让读者知道那些事。 比起写一个角色想要什么东西，你现在必须描述那个东西，让读者也想要它。 比起说：“亚当知道格温喜欢他。”你必须要说：“在课间，他去打开他的储物柜时，格温总是倚在它上面。她会翻翻眼睛，用一只脚把自己推开，在被漆过的金属上留下一道黑色的鞋跟印，但她也留下了她的香水味。组合锁上还有她臀部的温度。下一个课间，格温又会倚在那儿。” 简单来说，没有捷径了。只有具体的感官细节：动作，气味，味道，声音，以及感觉。 一般情况下，作者总会在一段话的开头使用这些“想”动词（在这里，你可以管他们叫“中心句”，我等会儿在抱怨这个）。某种意义上，他们点出了整段话的意图。接下来的部分来详细解释这些意图。 比如说：“布兰达知道她不可能赶得上截止时间。她从桥那边过来，经过八或九个出口。她的手机没电了。家里，狗需要出去散步，要不就会弄得一团乱需要收拾。再加上她答应要帮邻居浇花……” 你看出开场的中心句如何抢了下面那段话的风头吗？别这么干。 最少也要把开场白拿掉，放在其他所有句子的后面。更好的是，把他换个地方，改成：布兰达赶不上截止时间了。 思考是抽象的。了解和相信是无形的。如果你只展现出物理活动和角色的细节，让你的读者去执行思考和了解，以及爱与恨的话，你的故事总会更有力。 别告诉你的读者“丽莎恨汤姆。”作为代替，想法庭上的律师一样据理力争，用细节说话，展示出每一件证据。 比如说：“点名时，在老师叫到汤姆的名字之后的一喘气之间，在他应答之前的那个瞬间，就在那时，丽莎会小声叫出‘讨厌鬼’。就在汤姆说‘到’的时候”。 新手作者最常犯的错误之一就是让他们的角色一个人待着。写作时，你可以是一个人。阅读时，你的读者可以是一个人。但你的角色应该很少、很少一个人待着。因为一个孤独的角色会开始思考、担忧、或者好奇。 比如说：“在等公交时，马克开始担心这趟路程会花费多久……” 更好的展示方法可以是：“时刻表写着公交会在中午到达，但马克的表显示已经 11：57 了。你可以看到路的尽头，一直到购物中心的那本，一辆巴士都没有。毫无疑问，司机停在了中转站，路线的最那头，正在打盹。司机很发送，睡得正香，而马克就要迟到了。或者更早，司机正在喝酒，那他就会停在路边，收马克 75 分钱来给他一场严重交通事故中的凄惨死亡……” 一个独自一人的角色必须进入幻想或回忆中，但即便那样你也不能用“想”动词，或者任何它的抽象动词亲戚们。 哦，你可以忘掉“忘记”和“记得”这两个词了。 再不能用这种转换句：“旺达记得尼尔森以前如何梳过她的头发。” 再说一遍，分解。别走捷径。 更好的是，让你的角色遇到另一个角色。越快越好。 让他们待在一起，开始活动。让他们的活动和谈话展现出他们的想法。你一一别进到他们的脑袋里面去。 在你躲避“想”动词时，要特别注意“是”和“有”这两个平凡的动词。 比如说：“安的眼睛是蓝色的。” “安有蓝色的眼睛。”要换成： “安咳了一声，抬起手在面前挥舞，把香烟烟雾从她的眼睛，蓝色的眼睛，中赶走，然后微笑道……” 比起使用平淡的“是”和“有”陈述句，试着把一个角色是什么和有什么的细节埋进动作或者手势里。最基础地，这就是呈现而非讲述你的故事。 很久以后，一旦你学会了分解你的角色，你就会恨死那些偷懒的作者，他们只满足于：“吉姆坐在电话旁边，想知道为什么阿曼达没有打来。” 拜托，此时此刻，随便你怎么恨我，但别用“想”动词。等到圣诞节后，想怎么写就怎么写吧，但我打赌你不会的。 ……这个月的作业是，读一遍你的作品，圈出每一个“想”动词来。然后，找到消灭他们的办法。通过分解它来消灭它。 然后，读一些已出版的小说，做相同的事。不要手下留情。 “马蒂想象着鱼儿们，在月光下跳动……” “南希回忆着那酒的味道……” “拉里知道他死定了……” 找到它们，在那之后，找到重写他们的方式，让他们变得更有力。 ","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:1:3","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"经济学 ","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:2:0","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"选题建议 实证经济学研究如何选题? ——上海金融学院何晓波 How to get started on research in economics? —— Steve Pischke（2009） 也可以在这里看：Resources for Economics PhD Students ","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:2:1","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"萨缪尔森 | 为什么写《经济学》的那个人是我？ 来源： 经济学江湖事 本文为萨缪尔森为《经济学》出版五十周年而作，来自 Scientific Papers of Paul Samuelson No. 587。译者：吕吉尔 ，赖建诚老师转发。王老虎修改了部分文字，希望没有违拗译者的原意。因为喜欢这篇文章而分享于此，添加原创保护标志的原因是保护吕老师的译者权利，吕老师请朋友们多多指正，以便完善译稿。对于您的指正，译者表示由衷的感谢！译者邮箱： zjjier@163.com 《经济学》五十华诞 《经济学》迎来了第五十个生日，在这半个世纪里，它见证了经济学的长足发展。经济学已经走过了慢慢长路，到现今仍无资格吹嘘自己已臻于严密科学之境，任何社会科学恐怕都是如此。经济学永远是融科学与艺术于一体的学科，充满活力的经济学与迂腐陈旧的经济学之间存在天壤之别。 今天，经济学家可做的事情与日俱增，不论在政府部门、私营部门，还是在学术界，统计数据库的数据量相比于 1940 年代末出现爆炸性增长。现在，计算机可以光速获得和处理统计信息和各种知识，而我们可以迅捷地获得信息。不论理论经济学还是应用经济学，政治经济学的研究极大受益于计算机硬件和软件技术的进步，其受益程度可能超过任何其他部门。 尽管如此，经济学基础领域却裹足不前。世人已经从历史（至少是经济历史）中学到了一些经济原理，并加以刻苦研究和检验。经济学家将反复无常的经济不景气和引起虚假繁荣的通货膨胀当做实验小白鼠，像化学家一样在实验室中进行受控实验。（译者在此省略一句话。）与此同时，完全自由竞争市场却未能给人类带来机会平等和收入平等。 “贫困始终与我们同在”这一事实迫使世界各地的民主国家演化为“混合经济”，既非自由放任的市场，也非罗宾汉的乌托邦。只有学习过经济学基本原理之后，大众才能理解并确信，如何在自利驱动的个人进取与政府调控、维持稳定和再分配之间拿捏好中庸之道。无论是否情愿，混合经济必定是“有限的混合经济”。 回首往事 五十岁生日是回顾过去的绝佳时机。从这本独占鳌头的畅销教科书风行历史中，究竟能看到一个什么样的故事呢？这部教科书是如何诞生的呢？这得把目光拉回到 1945 年。第二次世界大战以德国和日本战败而告终，返回家园的人们让美国的大学人满为患。此时，恰逢经济学正步入一个黄金时代。1929 年到 1935 年的经济大萧条让经济学调转船头，摒弃曾经占据正统地位的老旧观念，取而代之的是雄心勃勃的计划，是强有力的货币政策和财政政策。英国和美国采用了新方式动员本国经济为战争服务，这让 Hitler、Mussolini、Hirohito 连做梦都想不到。那时候，我们还不可能知道后来的马歇尔计划和美国对日本的占领，但它即将为战后数十年的经济增长搭建舞台。 学生们应该了解这一切。然而，我们这一辈教师们都知道，当时最畅销的经济学教科书内容已经严重过时，这点令人十分痛心。这也难怪初学者对经济学普遍感觉厌倦。我在哈佛和 MIT 上课时，常常看到学生们目光呆滞的表情。 当《经济学》终于在 1948 年面世时，“宏观经济学”—研究决社会就业的因素、价格水平和通胀率、实际 GNP 增长等问题–这个词尚未收入词典。那时，即便是我没有把大炮和黄油写进微观经济学中，也一定会有人那么做。是时候让经济学入门课程脱胎换骨了。然而，真正的问题是：为什么那个人是我？ 那时，我刚刚从 MIT 辐射实验室回归经济系。我在辐射实验室为设计躲避地方轰炸机的自动伺服装置进行数学方面的研究，而我“渴望”回到经济学研究和教学中来。那年我刚好 30 岁，正是而立之年，是编写教科书和创新论文的好时候。无独有偶，我的先期著作《经济分析基础》已经付梓，这本书让我在 25 年后获得了诺贝尔经济学奖。 那时候，有前途的学者基本不写教科书，至少肯定不写大一、大二学生使用的基础教材，只有捉刀人才会做这件事。但是考虑到我已经发表了那么多研究论文，我的名气和获得终身任期的前景也让我可以游刃有余，于是我积极响应了 MIT 系主任邀我写一部新教科书的请求。由于太过自信，甚至是有些自以为是，我需要做的仅仅是满足我自己。我想，是时候召集一批经济研究领域的领军人物回到普通教育的战壕中来了。 精雕细琢 开始一项工程是件轻而易举的事，但要圆满完成它却需要艰苦卓绝的努力。每当一章写就，油印机就嘎吱嘎吱地将它印出来，给我们 MIT 的学生试用。这种做法对我和教材的要求都很高，但我却乐在其中。我天真地预测一年就可以完成这项工作，谁知道居然写了三年。所有周末和暑假都被我奉献给了这份工作，努力将复杂的基本原理简化为简明易懂的教学内容，我的网球爱好不得不放弃了。我在写作过程中发现，想让“经济学这门沉闷的科学”变得生动活泼、激动人心的话，连最传统的经济学图表都要重新设计。 关键时刻 1948 年秋天，《经济学》第一版终于从印刷机上滚滚而出。无论前期工作有多艰辛，或梦想有多乐观，谁也无法确信未来结果将会是什么。幸运的是，这一处理经济学的新方法似乎从一开始就引起了读者的共鸣。不论规模大小，很多大学都选择了这部新书，并且每次重印售馨之后，《经济学》又会让印刷机重新运转起来。 古根海姆学者奖把我带到了欧洲，在几座主要的城市里，我走访了市里的每家大书店，看是否能买到翻译成法语、德语、意大利语、西班牙语和瑞典语的版本。除了想满足作者与生俱来的虚荣心以外，作为一名教育工作者，我还高兴地看到德国公民正经受最新主流经济学的抉择考验。 对该书的评论让这本书的热度急速升温。首先出手的是 John Kerrneth Galbraith，然后是保守派商业期刊《财富》的编辑。他预言下一代人都将学习 Samuelson 的《经济学》。虽然赞扬之声令人陶醉，但我也不得不承认，该书的经久不衰确实令我深感惊讶。其实 Galbraith 比我更有先见，《经济学》的确树立了一种新的、持久的范式。 一路坎坷 写书并不是只带给我乐趣。在参议员 Joseph McCarthy 强烈反对的日子里，当激进主义的指责从讲坛和教室里猛烈迸发时，我的书也遭到非难。一位保守的 MIT 男同学警告大学校长 Karl Compton 说，如果允许 PaulSamuelson 发表对“混合经济学”的辩解，他的学术声誉将受到危害。Compton 博士回应说，他的教员受制于审查制度的日子就是他辞去校长职务的日子。这在四十年后看来似乎有点儿滑稽可笑，但在那个能给教科书被扣上颠覆帽子的时代，任公立大学的教师决不是闹着玩的。（有一部优秀的教科书，先于我的教科书一年出版，一开始就被莫须有地恶意指控为马克思主义而被扼杀在萌芽中。）实际上，当你被右派掌掴时，其疼痛或许可以被来自左派的耳光部分抵消。1960 年代，学生行动主义在国内外校园里正热火朝天，两卷本《反萨缪尔森》应时出版，该书指控市场是狗咬狗自相残杀的场所，而我则是市场的坚定拥趸者，是自由放任世界的辩护者和资本主义的忠实走狗。 每一阵寒风都给人带来有益的教训，因此，每当涉及到有争议的事情，我就特别小心地写作。当然并不是说我在各方面都完美无缺。而是说，我只能通过尽量公平地陈述与主流经济学中流行见解对立的主张来实现。 面对主流经济学中各个流派的竞争，我始终准备充分且小心应对，这使《经济学》作为一部参考资料集的，始终立于潮流鳌头。甚至连苏维埃俄国也感到翻译此书的必要性，仅在一个月之内，全部译本就告售罄。（专家们告诉我，在斯大林时代，我的书被放在图书馆的特别预留书架上，与有关两性的书放在一起，除了获得特别许可的读者以外，一律禁止借阅。）在冷战后的时代，新的译本不仅在中国、日本、越南等四十多个国家得到授权，而且还在匈牙利、捷克共和国、克罗地亚、波斯尼亚、塞尔维亚、罗马尼亚等东欧国家得到授权。 永远年轻 如同一个孩子呈现出不同于父母个性的独特个性那样，《经济学》的情况如出一辙。起先，主动权在我手里；但后来，它凭自身实力反仆为主，我倒被它牵着鼻子走。随着岁月流逝，我的头发由金色变为褐色，然后变为灰色。但与永不变老的 Dorian Gray 肖像一样，《经济学》永远是 21 岁。它的封面从绿色改为蓝色，从棕色改为黑色；而现在又改为金色。在数百封师生来信和建议的帮助下，经济学在其封面里面进化、成熟。主流经济教义的历史学家们，像研究不同地层里骨骼和化石的古生物学家们一样，可通过分析第一版如何被修改成第二版直至最终被修改成第十六版，来鉴定思想潮涨潮落的年代。 事情就是这样。这份工作充满艰辛，但非常值得。网球对我的召唤始终存在，无法抵挡其召唤的日子终于到来了。我对 McGraw-Hill 说：“该付出的我已付出了。在我享受荣誉退休教授的美好生活时，让别人继续耕作我最感兴趣的研究之田吧。”McGraw-Hill 随口答道：“让我们为你找个合著者吧。我们将开列一份能力和看法你都赞赏、且与你趣味相投的经济学家名单。”因此，对完美 William Nordhaus 的寻找就这样开始了。 耶鲁离 MIT 只有 150 英里，就是在那儿，现实中的 Nordhaus 将被找到。唯一有帮助的是 Bill 已在 MIT 获得博士学位。自那以后，他在总统经济咨询委员会任职，并先后被派驻（英国）剑桥、德里和维也纳，在此期间逐渐名声鹊起。正式证明，像 Gilbert 和 Sullivan 或 Rogers 和 Hart 一样，我们也是非常意气相投的一对。 如同经典童话故事一般，我们从此后就一直幸福地生活着。事关紧要的是，该书仍然年轻，指向经济学主流将要流去的方向。 科学？艺术？ 为什么在大多数大学里经济学都成为人数最多的选修课？原因是多方面的。经济学涉及到我们身边的现实生活。当通货膨胀来","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:2:2","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["阅读","经济学习"],"content":"陆铭：给搞实证研究学者的经验建议 来源：计量经济学圈 “把实证研究进行到底”是 2004 年的时候我写过一篇文章，这文章发表在《经济学家茶座》上，引起了一定的反响，出乎我的意料，也说明实证研究在中国越来越受到重视。在这个时候，的确需要一些这样的文章来帮大家澄清一下对计量的一些认识。 今天，我特别想帮大家清除几个误解，这几个误解也恰恰是我在和同学接触的过程当中，从同学嘴里讲出来的误解，所以不是我生造出来的。 第一个误解是，实证研究就是应用性的，应用性的就不够学术，没什么价值，好像就是回答了一个现实中的问题，发现的结论好像是我们都知道的。 第二个就是大家都会经常讲的一句话，实证研究好做，比理论研究容易做，理论研究做不下去了就做实证研究。讲到这里，这个寒假刚刚迎来了我原来的一个学生，现在比利时鲁汶大学读博士，她最近做的工作和 social economics 有关系，做的是理论。我们在寒假碰到的时候就谈，我就问她，为什么你这个课题不做实证呢？她说实证太难做了。所以我想，在某些问题上，不是像大家所想的，理论做不了就做实证，可能正好是反过来，是实证做不了去做理论。我等会儿还会讲实证和理论的关系，我会告诉大家，理论和实证都非常重要，而且是互补的。 第三，同学们常常认为实证研究很简单，只要把数据往电脑里一放，结果就出来了，就可以写文章了。有一次，一位同事不无自嘲的地说了这样一句话：觉得很心虚，因为数据不是自己收集的，我们用的很多大样本数据都是别人收集的，idea 也不算新，不是自己的，然后程序都是现成的，stata 都是编好的。之后我们就把不是自己收集的数据，也不算太新的 idea，往 stata 里一放，就出结果了，觉得很心虚。而我们的同学觉得经济学研究的高手应该是满纸数学符号加上自己编的程序，再画出非常 fancy 的图形，这就是水平高。 第四个误解是，很多同学认为现在我们研究中国问题，应该做理论，因为理论和国际接轨。特别是对于初学者来讲，考经济学的硕士和博士的时候，都是考的微观和宏观，然后一年级上课的时候上的大量都是微观和宏观的理论，所以你们就觉得那就是经济学的主流，只有做这个才上档次，哪怕做中国的研究，也应该把中国的问题写成数学，甚至干脆就不做与中国问题有关的研究。那是不是这样呢？是不是中国的经济学研究就应该首先做理论呢？ 今天接下来我要讲的这几个问题就想尝试着去清除在大家脑子里面的几个误解。我今天会讲这么几个问题：第一个，我们为什么要做实证研究？第二个就是，实证跟理论，包括思想是一个怎样的关系？第三，实证研究跟中国经济学的发展又怎样的关系？第四，如何完成一项实证研究？ 一、为什么要做实证研究？ 实证研究在现代经济学研究和发展过程中的功能我想有这么几个： 第一，实证研究是用来检验理论的。因为对经济学家来讲，我们有太多的理论，但是在现实中哪个理论正确与否，更重要或更不重要，其实离开了实践，我们是没有办法知道的，这是实证研究重要的第一个方面。而且从经济学的科学化的道路来讲，大家知道，第一届的诺贝尔经济学奖就是发给计量经济学家的，最近这几年也是连着发给计量经济学家。大家知道，对于科学来讲，一个重要的标准就是它可以被证伪，那我们怎么知道理论是正确还是错误的呢？经济学家实际上大量地依赖实证研究来使经济学成为一门可以被证伪或者证实的科学。 第二，to challenge the theory（挑战理论）。当一个理论产生以后，大家知道特别是数学建模的理论，一旦数理逻辑建立起来，它就有自恰性和逻辑的科学性，因为它依赖于数学，数学的逻辑是严密的，所以它在一定意义上是正确的，但是有时候，我们看一个理论会发现，当它得到的结论是 x 和 y 是正相关关系的时候，我们觉得现实生活中好像不是这样的。那么可能存在的问题就是，既有的理论没有正确地捕捉现实中的这个关系，或者说没有捕捉到 x 和 y 的关系中更重要的方面。那我们怎么知道呢？经济学就依赖实证的方法来看 x 和 y 到底正相关还是负相关？如果确实是这样，那么就说明既有的理论在很大程度上可能是正确的。在这个层面上，计量经济学、实证研究和理论研究的关系就像实验物理和理论物理一样。 第三就是去发现一些净效应。我们知道，很多理论，特别是现代经济学理论已经非常庞杂，关于变量和变量之间的关系有不同的理论。有的理论认为 x 和 y 正相关，有的理论认为它们负相关。大家知道，在做政策的时候就需要知道 x 和 y 到底是正相关还是负相关？每一个机制在理论上单独来看可能都是对的，但对于制定政策的人来讲，如果不同的机制所预测的 x 和 y 的关系是相反的，那就需要知道，一旦这个政策下去，影响到底是正的还是负的？理论是不能帮我们回答这个问题的。不同的理论得到的方向完全可能是相反的，而且现在的经济学研究在很多问题上都可以想出不同的机制，使得在这个机制下两个变量正相关，在那个机制下负相关， 而且做理论的很多人往往喜欢标新立异，大家都认为 x 和 y 正相关，他就写一篇 paper 认为二者负相关，这是在国外发文章的捷径。现代经济学的理论，已经有非常多的理论经济学家在做这样的工作来揭示 x 和 y 的关系的不同机制。那我们在看现实世界的时候，就可能被这些理论搞糊涂了，它们到底哪个更重要？这个问题如果离开了计量经济学，我们也没有办法知道净效应到底是正是负？ 第四个方面，我们再往前走一步，x 和 y 的关系，x 和 z 的关系，在理论上很清楚，但实证研究能告诉你哪个效应更强。大家知道在做政策的时候，比如有一笔 100 万的预算，我们就需要考虑这笔钱到底用来干哪件事情？比如，现在国外有个很著名的争论，就是教育的发展至少可以提出两个办法，第一是培训师资，第二就是缩小班级的规模，因为大家认为如果班级大了，每一个学生得到老师的关注就少了，这时候学生的成绩就会下降。那么对于政府来讲，就需要考虑，这 100 万到底去做哪件事情？且不说师资和学生之间的相关性，班级的规模和学生之间的相关性，到底是正是负，是否显著，这件事情本身就不确定，就算是确定的，政府也需要知道应该把这笔钱花在缩小班级规模上还是提高师资水平上，做哪件事情更划算？ 所以，我们就必须知道，在大样本的观察下，去做这件事情对学生成绩的提高程度有多大？对计量经济学家来讲，一个非常重要的目标就是要准确地让计量的结果的系数要符合真实的效应的大小，这样就可以把一个计量分析里面的不同政策变量的效应去做比较，这就有利于政策效应的提高和资源配臵效率的提高，有利于改进人类的福利。而这个工作，是理论没有办法告诉我们的事情，理论没有办法告诉我们这个效应到底有多大。 第五，在现代经济学的前沿研究中，更为重要的是去 identify 这个机制，特别是在很多宏观的研究里面，我本人也做一些宏观的研究，比如做过不平等和增长的研究，有那么多的理论说这两者是负相关的，也有一些理论说是正相关的，我们现在的工作到了哪一步呢？实际上我们是看 net effect，在不同的理论机制下，我可以告诉你，二者总体上是负相关的。但是，还有一个很难的工作就是，这个负相关到底是因为什么导致的？实际上在我们的研究里我们是不知道的，但是计量经济学很难做的一个工作就是要告诉大家到底是什么机制在起作用？在理论上可能有好几个机制会告诉你这两者是负相关的，但到底是通过哪一个机制起作用的呢？这个机制的 identification 的重要性就在于，在做政策的时候，知道对什么样的机制去做政策？而这是非常困难的。因为在收集数据的过程当中，很难区分出这样的机制。特别是在开始做计量还不是很有经验的时候，往往就想去看看 x 和 y 之间的关系。在做计量的时候，在收集数据的时候，只考虑 x 怎么度量，y 怎么度量，然后把这数据往机器里一放就可以了，但我们可能很少会去想，x 和 y 之间的中间变量是什么呢？我们可能就会忽略掉这些东西，那最后就没有办法去看到底这些中间机制是什么了，这样就使得研究的档次上不去。而这些工作需要在做实证研究之前，对 x 到 y 的各种各样的机制要有一个全面而清楚的了解，并且在做问卷的时候就需要知道，怎么利用一些方法把各种机制独立开，必须要非常清楚地，让大家可以确信地认为你所看到的这个机制是非常干净的。“干净”这个词是一个比较通俗的说法，它是指在我看到的 x 到 y 的关系里面，我可以让你确信，就是因为我说的这个机制，而不包含其他的东西，要达到这一点就有很多的方法。 第二个我要讲的问题是，我们处在经济学发展的历史当中的一个什么样的时点呢？我要跟大家讲的第一点就是，经济学整个理论分析的架构已经基本上完善了，这意味着在经济学理论的进展上已经很难有重大突破，这就使得实证研究成为全世界研究的潮流的一个重要原因。我这里要提到陈志俊，他是做产业组织理论的，学物理出身的。我想我刚才讲的这句话可能从我嘴里讲出来你们不太信，因为我现在很多工作是在做实证。他上学期来复旦，seminar 完了之后我们在一起吃饭时他就讲，经济学的发展已经差不多了，所以大家现在就该用了，他说了这样一句话，“有的时候我觉得数学太好是害人的”。这句话特别值得数学好的同学去琢磨。 第二点，在有一些研究领域里面，我们有太多的理论，但是经验的证据不足，而这些研究领域里面，现在前沿的领域往往由实证研究所推动。那么有一些什么样的领域呢？我等会儿还会反复再讲到这几个，第一个比如说 IO, 经验的 IO 现在成为了 IO 研究的前沿领域。还有一个很有代表性的研究领域，就是 personnel economics, 人事管理经济学，现在也是经验的研究非常热。 第三个方面就是，应用的微观和政策的评估。现在在全世界范围之内，政府的公共部","date":"2023-06-11","objectID":"/zh-cn/posts/xz/:2:3","tags":["阅读","文学","转载"],"title":"转载：写作建议","uri":"/zh-cn/posts/xz/"},{"categories":["影视剧"],"content":" 很久很久以后，我才开始明白——在末代皇帝的悲伤中，“末代”远远地大于“皇帝”。当历史的鞭子长驱而去，它不会因旅者的身份而停下鞭策，它只是单调地——重复着关门、开门的动作，并且随时准备开启下一次关门。 历史没有情感，人生的苦难和幸福仅仅只是推动着人向前走，为无所谓的火焰添上一把薪柴。这架马车不在意谁在门外碰了一头扬起的灰，尽管门外这群徘徊者也曾是车马的主人。 这扇“门”，就是电影中历史的代言人，兼有着“联通与隔绝”的双重含义。 它威严，我们看不见时代的彼岸； 它冷峻，能把人隔绝在一个时代的末尾； 它慈悲，让每个人觉察着一种跨越的可能。 《末代皇帝》，最高贵的人，追不上的人，打不开的门； 《铃芽之旅》，死亡与日常的距离只隔了一扇门； 《鲸》，自救者是否有勇气越过悲伤的门槛。 只是这段时间突兀地看完一系列电影，还都有门，以至于当我开始回望，眼前总是浮现起一扇高大门。而现实的围城，人工智能潮涌，又好像一次门的开与闭，留下两个时代的人彼此对望。如果智者已经察觉到门的存在，那他又会对自己的无能为力发表怎样的感想？ 或许只有当一个人穿过大大小小，形态各异的门，他才能更靠近历史的门扉，但也会被挡在了下一扇走不出的门外。 只是感叹： 人生天地间，忽如远行客。 ———————— 顺便一提：都说这次 ai 是下一次工业革命，我虽然 GPT 用的很爽，但依旧表示怀疑。因为工业革命需要能源革命作为支撑，目前 GPT plus 不断缩水停售，就是算力达到了瓶颈。5 G 很强，但建材成本大大制约了它的普及。能源未革命，ai 算力不够，大大制约。 还有 ai 的一切都是现在围棋实践，ai 并没有带来多少挤出，催生的产业都是作为工具。最近最火爆的还是只需要一个 bug 可以通过很简单的紧气下赢 KATAgo，说明一旦找到 ai 的一个 bug 足以让一切瘫痪，所以 ai 必定只能成为工具。比如任凭无人汽车技术发展，只要道路形态不改，必定不过审。语言模型只是智能的一部分，很难直接说其能超越人类。 ","date":"2023-05-29","objectID":"/zh-cn/posts/moviedoor/:0:0","tags":["电影"],"title":"2023 电影谈: 门的那一侧","uri":"/zh-cn/posts/moviedoor/"},{"categories":["软件工具","经济学习"],"content":"\r微观数据库例子\r前人之述备矣，我只是浅踩了几个坑。 主要软件： stata、EXCEL、SAS。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:0:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"一、流行的国内数据库： 大部分微观数据库文件以 DTA、SAS、EXCEL 文件为主。按主体（社区问卷、家庭问卷、社会文件）和主题（背景信息、健康、经济…）分开。每一年的截面数据也是分开的, 所以需要自己处理成面板数据。 用学生邮箱在官网申请即可。 申请体验：CFPS\\CHARLS\\CHIP\\CGSS 的申请体验非常好。就是网站偶尔会崩掉打不开，申请上就建议马上下载全部数据。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:1:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"大型、综合数据库 1、CFPS：www.isss.pku.edu.cn/cfps/ 中国教育追踪调查： CFPS 由北京大学中国社会科学调查中心（ISSS）实施。跟踪收集个体、家庭、社区三个层次的数据，反映中国社会、经济、人口、教育和健康的变迁，为学术研究和公共政策分析提供数据基础。 2、CMDS：数据申请 (chinaldrk.org.cn) 中国流动人口动态监测数据： 国家卫生健康委自 2009 年起一年一度大规模全国性流动人口抽样调查数据，内容涉及流动人口及家庭成员基本信息、流动范围和趋向、就业和社会保障、收支和居住、基本公共卫生服务、婚育和计划生育服务管理、子女流动和教育、心理文化等。 CMDS已经停止更新\r3、CHARLS: 中国健康与养老追踪调查 (pku.edu.cn) 中国健康与养老追踪调查: 中国健康与养老追踪调查。北京大学国家发展研究院主持、中国社会科学调查中心执行的一项大型跨学科调查项目代表中国 45 岁及以上中老年人家庭和个人的高质量微观数据。 4、CSS：中国社会状况综合调查（http://css.cssn.cn/css_sy/） 中国社会状况综合调查： 中国社会科学院社会学研究所于 2005 年发起的一项全国范围内的大型连续性抽样调查项目，目的是通过对全国公众的劳动就业、家庭及社会生活、社会态度等方面的长期纵贯调查，来获取转型时期中国社会变迁的数据资料，从而为社会科学研究和政府决策提供翔实而科学的基础信息。目前，2006、2008、2022、2013、2015、2017、2019、2021 年，共八期 CSS 数据，已向全社会开放。 5、CHIP：中国家庭收入调查（http://www.ciidbnu.org/） 中国家庭收入调查: 北京师范大学收入分配研究院发动1。该项目旨在收集家庭调查数据，以用于分析改革开放以后的中国诸如收入、不平等以及贫困趋势的可能有益的经验分析。 6、CGSS：中国家庭收入调查（http://www.cnsda.org/） 中国综合社会调查（Chinese General Social Survey，CGSS），是中国第一个全国性、综合性、连续性的大型社会调查项目。目的是通过定期、系统地收集中国人与中国社会各个方面的数据，总结社会变迁的长期趋势，探讨具有重大理论和现实意义的社会议题，推动国内社会科学研究的开放性与共享性，为政府决策与国际比较研究提供数据资料。 7、中国统计年鉴： 城市数据、区域数据… 这个网上整理好的面板数据满天飞。 其他：例如还有中国家庭金融调查 CHFS（https://chfser.swufe.edu.cn/datasso/Home/Login?4813085540248732983）。 我们还可以用一些小的专题数据库来辅助主要数据库进行分析。 例如北大普惠金融数据库：北京大学数字普惠金融指数、创新创业指数、政府治理指数… 例如现在关于城市数字经济的测量， 大部分人采用的是赵涛（2020）2的方法， 将城市统计年鉴+普惠金融的数据作为指标。 随着“数字经济”的火热，不知多少人第一篇计量是从数字经济、城市韧性开始的，，，，， 还有一些付费网站（学校可能会有买的3） 经济学还有以上付费数据库，可以看自己学校有没有购买\r经济学还有以上付费数据库，可以看自己学校有没有购买 金融数据库不太了解，锐思看起来挺好用 经济方面：中经网、EPS 网页直接整理面板，非常好用。 互联网上的数据库灰色产业： 网络上大量数据库有免费账号售卖， 其实就是学生把自己的学校账号权限集合成了数据库访问网站。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:1:1","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"二、清洗思路和意义 清洗数据具体做什么？基本上就是完成以下工作。 进行表格匹配：匹配合并不同的数据库表格，目的是整合筛选指标，分为横向和纵向匹配。 去除不良数据： 去除不良数据。例如空白数据、极端数据、不需要的数据……… 填补空白数据： 填充数据。处理面板数据和时间序列，我们往往通过线性插值的方法补充中间或边缘的缺失值。 数据聚合： 通过特定方法数据建立指标，例如主成分、熵权法、层次分析…… 最重要的是掌握工！作！流！程！ 一般在跑回归时都会发生“变量不够”、“遗失变量”等惨剧，我们随时可能需要返工更新变量，检查失误环节，因此保留完整的流程文件夹是很有必要的。 流程\r经验之谈!!!!! 原始数据保留一个文件夹、表格匹配完成后保留一个文件夹、清洗过程再保留一个文件夹！ 把代码写成——可以丝滑的一口气从数据清洗运行到结果输出就是流水线的最高境界！ 一是能展现我们各个工作步骤，便于检查工作，二是方便随时从中间步骤“返工”。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:2:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"三、STATA 操作 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"推荐教程 教程视频，看一个足矣（两小时）： 简介里提到了这位 up 个人 githubgithub 主页（录屏和 do 文件） ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:1","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"我个人遇到过的一些情况 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:2","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"1、中文数据库导入转码 中文乱码，要么更新 statastata 版本、要么使用代码 两个方法其实是一个作用。 方法一：处理 cmdscmds 时遇到了 clear cd \"C:\\Users\\Desktop\\转码\" // 新建一个转码文件夹，然后修改自己的路径 unicode encoding set gb18030 unicode analyze 流动人口数据个人问卷2018.dta // 文件名根据自己的数据进行调整 unicode translate 流动人口数据个人问卷2018.dta, invalid // 文件名根据自己的数据进行调整 方法二：处理 charlscharls 的PSU. Dta4时遇到省份、城市乱码 cd \"D:\\household_and_community_questionnaire_data\" //设置文件储存地点 unicode analyze PSU.dta //PSU.dta换成要编译的文件 unicode encoding set \"GB18030\" unicode retranslate psu.dta, transutf8 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:3","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"2、数据库的匹配 无非就是围绕样本的 ID、yearID、year 进行整合 img\rStata 的匹配代码——以下只写简洁解释 //master_data.dta就是基底数据库，using_data.dta就是我们要匹配上去的数据库 //m:n id 意思就是第一个数据的m个id可以对应n个第二个数据库的样本id //简而言之，m:n就是多对一，n:n就是1对1，m:m就是多对多 // 所以我们也可以添加多个匹配条件，例如merge 1:1 id year treat ...... ************横向匹配1************************** use \"master_data.dta\" merge m:n id using \"using_data.dta\" drop _merge save \"new_data.dta\" ************横向匹配2************************** use \"master_data.dta\" joinby id using \"using_data.dta\" ************纵向匹配************************** use \"data1.dta\" append using \"data2.dta\" save \"new_data.dta\" 关于横向匹配 merge 适合匹配方或者被匹配方的标识是唯一的。 一对多匹配时，比如主数据标识是唯一的，被匹配数据虽然重复，但每个重复标识行分别在不同的变量空缺，可以使用 merge 的追加匹配子命令，每次匹配只更新空缺部分。 use \"master_data.dta\" merge 1:m id using \"using_data.dta\", update nogen force 多对多的匹配，需要使用 joinby。 详细情况可参考: 多对多合并-merge-joinby ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:4","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"3、变量的快速选择 Shift\\ctrl 这类快捷键基本是软件设计通用的，用多了就能融会贯通到其他软件里。 Stata 右上角有个变量窗口。右键可以得到全选和其他选择，也可以充当检索框。 同时选择就是 ctrl+多次点击。如果我们需要一口气同时选择断断续续的十几个变量，请积极使用。 截取中间一段，就是点击一个变量，然后同时 shift+单击一个变量，就是截取中间一段 例如，可以先右键，全选，然后 ctrl+点击去掉不要的变量； 例如，我们要查看特定数据完整度，就在处理时先命名为“x_i”，然后筛选命名为 x 的进行全选。 在python拥有这种窗口前我不会认为跑回归这事它优于stata\r","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:5","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"4、插值法 线性插值，面板数据， 老规矩，面板先标记个体编号和年份编号， xtset id year by id: ipolate YY year,gen(YYY) //内插，中间空缺值，填完后命名为新变量YYY by id: ipolate XX year,gen(XXX) epolate //外插，边缘空缺值，填完后命名为新变量XXX 我的建议是，能用 forvalues 就用 forvalues5，还要活用变量宏。 当知道了基础的循环命令+变量嵌套+判断筛选命令，编写代码就可以天马行空了。 例如下面这个批量插值循环如下： $var_i \\stackrel{内插}{\\longrightarrow}varx_i\\stackrel{外插}{\\longrightarrow}varn_i\\stackrel{替换}{\\longrightarrow}var_i\\stackrel{删除}{\\longrightarrow}varx_i $ global var var0 var1 var2 var3 genshin *打包所有需要插值的变量 foreach i in $var { by id: ipolate `i' year,gen(varx`i') by id: ipolate varx`i' year,gen(varn`i') epolate replace `i' = varn`i' drop varx`i' varn`i' } 同理，清洗问卷数据的不良数据也是一样的循环 global var var0 var1 var2 var3 genshin *打包所有需要插值的变量 foreach i in $var { drop if `i' == -88 drop if `i' == -99 drop if `i' ==. drop if `i' \u003c=0 } 互联网还流传着一个“一键显著”的清洗。思想就是暴力排列组合控制变量，后面甚至开始筛选样本了。我的看法是，可以看看选控制变量的代码，但别随意动样本，经济学计量发展的一个核心灵魂就是“随机实验”，干预样本选择容易破坏数据随机性，基本上就是造假了。 （不过仅就代码思维来说，这确实体现了当你掌握了筛选，判断，循环的命令后，你可以干的事已经非常多了，同样是清洗，如何进行算法组合就是考验人的地方。） ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:6","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"5、字符转数字： 例如 charls 数据库的 communityID 就是以字符形式存在的。 虽然中文作为变量名也可以匹配，但当长度太长时 stata 似乎不能处理， 使用命令强制转化成数字： destring ID householdID communityID , replace force *加上force，正义执行！ ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:7","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"6、日期转码6 有些时候我们下载的日期代码不能被 stata 识别，此时要用到 date 函数。 例如一次课堂作业，我想展现中国的自信！ 给老师一点小小的中国震撼。（这就是中国. Jpg） 用的是艾媒咨询的华为、苹果笔记本淘宝数据。 ps: 当时顺便找了中日俄美的出口贸易数据，数据来源世界银行。 但尴尬的是，里面 Excel 加载的日期格式为 Y-M-D， stata 不能直接识别 2是华为，1是苹果，销量是nurmber，日期是year那列\r使用代码：(我在经管之家找的代码） clear import excel \"E:\\桌面\\笔记本.xlsx\", sheet(\"Sheet1\") firstrow generate date=date(year,\"YMD\") //识别日期 format date %td //进一步转化 绿色是苹果，金色是华为。可以看到date被处理后变成特殊的日期形式，而且可以直接用stata画散点图。原始图不见了，就简单重画了，请勿在意这鬼畜的配色\r绿色是苹果，金色是华为。可以看到 date 被处理后变成特殊的日期形式，而且可以直接用 stata 画散点图。原始图不见了，就简单重画了，请勿在意这鬼畜的配色 再举例一份关于空气污染的数据。Excel 中 date 一栏为“短格式日期” img\r导入 stata 使用 date 函数，进行画图 generate year=date(date, \"YMD\") //识别日期 format year %td //进一步转化 根据这个图很容易发现季节上的周期性\r通过描述统计画图可以看出空气污染在季节上有周期性。于是我们想把月份单独切片出来进行季节编号。 generate month = month(year) //对已经处理后的year日期进行月份切片 //更详细解释可以参考：https://stata-club.github.io/stata_article/2017-10-29.html gen spring = 1 if month == 3 |month == 4 | month == 5 replace spring = 0 if spring != 1 gen summer = 1 if month == 6 |month == 7 | month == 8 replace summer = 0 if summer != 1 gen fall = 1 if month == 9 |month == 10 | month == 11 replace fall = 0 if fall != 1 gen winter = 1 if month == 12 |month == 1 | month == 2 replace winter = 0 if winter != 1 根据季节分类进行拟合会发现线性趋势更加明显。我们发现温度和污染具有相关性所以前一个图呈现周期性，我们也可以提出假设温度越低，暖气、热炕、煤炭的使用导致空气污染增多\r","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:8","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"7、删除和条件语句 Stata 删除特定列的命令是 drop 命令。 建议直接\"h drop\"查看说明。 活用 if 条件、forvalues 循环命令就是考验算法素养的时候！ 你要处理怎样的数据，你的目的是什么？ 目的可以怎样分解，可以分解成怎样的流程，怎样的 if 条件筛选更快，怎样的 forvalues 循环可以尽快地简化你的清洗步骤？ 活用 stata 的 do 文件，考虑代码的复用性，这样写代码后，之后能不能循环重复利用，例如只换变量名词。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:9","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"8、去尾处理 使用 winsor2 命令，是连玉君老师写的命令。 histogram var, ylabel(, angle(0)) xtitle(\"横坐标名字\") name(图片文件名, replace) \\\\频数图绘制下分布看看 winsor2 var, cut(0 97.5) trim replace \\\\去掉变量var右侧2.5%的极端数据 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:10","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"9、分组处理 按照变量“国界”分组，计算每组对应变量的 bysort 国界: egen 乡村振兴边境 = mean(乡村振兴) bysort 国界: egen 产业兴旺边境 = mean(产业兴旺) bysort 国界: egen 生态宜居边境 = mean(生态宜居) bysort 国界: egen 治理有效边境 = mean(治理有效) bysort 国界: egen 乡风文明边境 = mean(乡风文明) bysort 国界: egen 生活富裕边境 = mean(生活富裕) ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:11","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"10、排序处理 想让数据根据一些标准从小到大排列，使用 sort 命令 sort year age income //首先按照年份排序，相同年份的一列中按照年龄排序，同年同年龄就按收入排序 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:12","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"11、删去重复行 duplicates drop var，force ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:13","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"12、截取字符 中文字符一个字符就是三个位置 gen x=substr(var,1,4) ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:14","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"12、一些描述统计图 一些可视化代码网站 SDAS Stata Graph Gallery StataViz by Asjad Naqvi Stata Visual Library 个人推荐自定义换行符, 这样画图命令更加优雅： #delimit; ; gen di = year - branch_reform; eventdd entre_activation i.year lnagdp indust_stru finance ainternet market, timevar(di) //定义时间虚拟变量 ci(rcap) //误差条 noline //不绘制-1期的置信区间条 method(fe) //如果要添加自相关聚类——method(fe,cluster(自相关聚类)) baseline(0) //基础年份为0 level(95) graph_op(ytitle(\"coefficients\") xtitle(\"Time\") xlabel(-10(2)14)); // 取消自定义换行 #delimit cr 图片合并 graph combine \"a.gph\" \"b.gph\", col(1) xcommon ycommon 气泡图 在 Stata绘制高级气泡图看到的，很有意思 sysuse auto,clear set scheme white_tableau //设置主题，小伙伴可以根据自己的喜好自行设置 twoway /// (scatter mpg weight [w= price] if foreign == 0 \u0026 price \u003c= 4220, msymbol(Oh) mcolor(\"220 235 136\") msize(small)) /// (scatter mpg weight [w= price] if foreign == 1 \u0026 price \u003c= 4220, msymbol(o) mcolor(\"220 235 136\") msize(small)) /// (scatter mpg weight [w= price] if foreign == 0 \u0026 (price \u003e 4220 \u0026 price \u003c= 6332), msymbol(Oh) mcolor(\"180 232 172\") msize(medium)) /// (scatter mpg weight [w= price] if foreign == 1 \u0026 (price \u003e 4220 \u0026 price \u003c= 6332), msymbol(o) mcolor(\"180 232 172\") msize(medium)) /// (scatter mpg weight [w= price] if foreign == 0 \u0026 price \u003e 6332, msymbol(Oh) mcolor(\"152 210 196\") msize(large)) /// (scatter mpg weight [w= price] if foreign == 1 \u0026 price \u003e 6332, msymbol(o) mcolor(\"152 210 196\") msize(large)), /// xlabel(2000(1000) 5000) ylabel(10(10)50) legend(label(1 \" \") label(2 \" \") label(3 \" \") label(4 \" \") label(5 \" \") label(6 \" \") order(2 4 6 1 3 5) row(2) ring(0) size(10) position(2) bmargin(medlarge)) text(45.3 3800 \"Foreign\", size(*0.7)) text(39.5 3800 \"Domestic\", size(*0.7)) text(49.5 4100 \"Low Price\", size(*0.7)) text(49.5 4450 \"Med Price\", size(*0.7)) text(49.5 4800 \"High Price\", size(*0.7)) //mycolor中为RGB颜色编码，可以自己根据喜好定义； //xlabel和ylabel分别设置横纵轴的标签；legend设置图例；text设置文字的具体位置，具体格式text（y坐标 x坐标 \"标签文本\"） 气泡散点图\r折线图 twoway /// (line var2 date if group==1) /// (line var2 date if group==2) /// (line var2 date if group==3) /// (line var2 date if group==4) /// (line var2 date if group==5) /// (line var2 date if group==6) /// (line var2 date if group==7) /// (line var2 date if group==8) /// (line var2 date if group==9) /// (line var2 date if group==10) /// (line var2 date if group==11) /// (line var2 date if group==12) /// , /// legend(order(1 \"group1\" 2 \"group2\" 3 \"group3\" 4 \"group4\" 5 \"group5\" 6 \"group6\" 7 \"group7\" 8 \"group8\" 9 \"group9\" 10 \"group10\" 11 \"group11\" 12 \"group12\")) /// title(\"Line plot\") /// note(\"The Stata Guide\", size(vsmall)) 饼图 graph pie var2 if group \u003c= 10, /// over(group) plabel(_all percent, format(%9.2f)) /// line(lcolor(black) lwidth(vvthin)) /// // outline colors have to be manually added title(\"Pie plot\") /// note(\"The Stata Guide\", size(vsmall)) 箱线图 graph box /// var* /// , /// title(\"Box plot\") /// note(\"The Stata Guide\", size(vsmall)) 柱状图 histogram var4, percent /// title(\"Histogram\") /// note(\"The Stata Guide\", size(vsmall)) 加上核密度线 histogram var4, /// ylabel(, angle(0)) /// xtitle(\"税收\") /// kdensity 竖向条形图 graph bar /// var* /// , /// blabel(bar, format(%9.2f)) /// title(\"Bar graph\") /// note(\"The Stata Guide\", size(vsmall)) 横向条形图 graph hbar (mean) /// var* /// if group \u003c= 6, /// over(group) /// percentages stack /// legend(order(1 \"Var 1\" 2 \"Var 2\" 3 \"Var 3\" 4 \"Var 4\" 5 \"Var 5\" 6 \"Var 6\")) /// title(\"Bar graph\") /// note(\"The Stata Guide\", size(vsmall)) 置信区间 twoway /// (lpolyci var1 var9, fcolor(%80)) /// (lpolyci var2 var9, fcolor(%80)) /// (lpolyci var3 var9, fcolor(%80)) /// , /// title(\"Confidence Interval\") /// note(\"The Stata Guide\", size(vsmall)) 范围区间 twoway /// (rcapsym var2 var3 date if group==1, sort) /// (rcapsym var2 var3 date if group==2, sort) /// , /// title(\"Range plots\") /// note(\"The Stata Guide\", size(vsmall)) 面积图 twoway /// (area den1d den1x, fcolor(%50)) /// (area gen2d gen2x, fcolor(%50)) /// (area gen3d gen3x, fcolor(%50)), /// title(\"Density plots\") /// note(\"The Stata Guide\", size(vsmall)) 标签散点 twoway /// (scatter var2 var1, mlabel(group)) /// if date==2","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:15","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"13、绘图风格 参见最强绘画包 个人最推荐 Rainbow 风格和 gg_tableau。 gg 系列模仿的是 R 语言的默认风格，Rainbow 色彩很明亮，够特立独行，我也喜欢封闭的 box 纯白背景。不过要注意 Rainbow 风格由于背景默认是网格图，不太方便自定义参考线。 ssc install schemepack, replace * set scheme white_tableau * set scheme black_tableau * set scheme gg_tableau * set scheme white_tableau * set scheme Rainbow 汇总风格如下—— Series: Tableau - white_tableau black_tableau gg_tableau Cividis - white_cividis black_cividis gg_cividis Viridis - white_viridis black_viridis gg_viridis Hue - white_hue black_hue gg_hue BrBg - white_brbg black_brbg gg_brbg PiYg - white_piyg black_piyg gg_piyg pTol - white_ptol black_ptol gg_ptol Jet - white_jet black_jet gg_jet w3d - white_w3d black_w3d gg_w3d Standalones: Rainbow - rainbow Neon - neon Taylor Swift's Red - swift_red Ukraine - ukraine Colorblind-friendly schemes: Tab1 - tab1 Tab2 - tab2 Tab3 - tab3 cblind1 - cblind1 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:16","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"更多： stata数据清洗管理的常用技能知识, 资源错配的代码 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:3:17","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"四、STATA 转 EXCEL dta 文件如何转 excel? 代码为： export excel using \"data.xlsx\", firstrow(variables) 其中 firstrow (variables) 指 excel 行保留为变量名 “data. Xlsx\"是自己保存文件的命令 对应的如果要指定文件保存位置，可以改成 “E:\\桌面\\新建文件夹 (2)\\stata\\merge. Dta” ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:4:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"五、EXCEL ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:5:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"0、常见乱码 一些下面这些样的 excel/csv 乱码是因为格式不对，例如下图，把文本框格式调整为日期即可。 img\r","date":"2023-03-14","objectID":"/zh-cn/posts/data/:5:1","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"1、VLOOKUP 函数 用多了就觉得 stata 比 Excel 快多了。例如我做个一个任务是关描述统计乡村振兴水平，其中要展示各项指标平均值以上的村数，如果是 excel 还是比较麻烦的，涉及判断的（如果没有掌握 VBA 语言的话），stata 处理会更加快速。 global $xlist x1 x2 x3 x4 x5 foreach i in $xlist { egen b = mean(`i') gen a = 1*(b \u003c `i')+0*(b\u003e= `i') egen sum_`i' = sum(a) drop a drop b } 经济最好找数据和分析的肯定是城市面板数据了， 少不了城市代码匹配 请参考：链接里还贴心地附上了城市代码，强烈感谢！ 使用 vlookup 函数时，还可能遇见的一种情况，excel 的格式设置真是千奇百怪！ ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:5:2","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"2、数据透视表 简单清洗计数和相对复杂的分组求和时用。 插入-数据透视，Excel 现在这个功能还挺智能的，主要是清洗一些需要累计的面板数据时非常好用。 注意：数据透视表的“累加函数”需要 excel 格式为“数值”，“计数函数”则不限定格式。 也有时候导入 excel 的数 img\r据格式默认为“文本”，需要调整（至少先弄成“常规”格式)。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:5:3","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"3、字符拆卸 就经济学的计量而言，目前顶流方案当属 DID。 目前如果学校有学生计量论文比赛，大概率是“双重差分法”的纯肉搏（狗头） 做 did 时我们就需要手动记录政策变量。比如智慧城市、创新城市分三批分别在几年内试点。 这时候我们可不能傻乎乎地挨个复制粘贴，请使用 Excel 的字符拆分。 比如拆试点城市的集合“北京，重庆，天津，上海”, 可以选中该空格，$数据\\Rightarrow分列$， “文本分列向导”对话框选择“分隔符号”，点击“下一步”，勾选“分隔符号”中的“，”。 此时就可以完成分行。再结合 VLOOKUP 函数匹配即可。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:5:4","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"4、删改字符 巧妙运用 vlookup 已经能应对大多数情况，但依旧不够！数据清洗之坑防不胜防 有些 Excel 文件 cityid 是 1100，有些是 110000 有些是成都，有些则是成都市！ Excel 去字符操作：A 2=LEFT (A 1,LEN (A 1)-1) Excel 加字符操作：A 2=A 1\u0026“市” ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:5:5","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"5、数据库合并 请看大屏幕！ 最开始觉得 Excel 这样用起来挺小白的，但会用 stata 后才会发现 data 文件合并的效率远比 Excel 高。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:5:6","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"六、结束 这几天经管之家关闭了, 发觉好多 stata 的基础问题都找不到问的地方，，，，， 90%的问题都是从知乎、经管之家、B 站找到的解决方法。 可谓前人之述备矣，我只浅踩了几个坑。 ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:6:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["软件工具","经济学习"],"content":"参考 chip\\cfps 网站经常崩掉，这点非常难受 ↩︎ 赵涛, 张智, \u0026 梁上坤. (2020). 数字经济、创业活跃度与高质量发展——来自中国城市的经验证据. 管理世界, 36 (10), 65–76. https://doi.org/10.19744/j.cnki.11-1235/f.2020.0154[](https://www.sci-hub.ee/10.19744/j.cnki.11-1235/f.2020.0154) ↩︎ 可以关注自己学校的图书馆资源 ↩︎ 数据库样本 id 匹配的省份和城市，在其网站 2013 年的数据中有，此后继续沿用但不再额外在其他年份里更新 ↩︎ stata 循环语句 ↩︎ https://stata-club.github.io/stata_article/2017-10-29.html ↩︎ ","date":"2023-03-14","objectID":"/zh-cn/posts/data/:7:0","tags":["Stata"],"title":"一份经济微观数据库的数据清洗快速指南","uri":"/zh-cn/posts/data/"},{"categories":["阅读"],"content":"《叫魂》: 盛世与妖术并行，“权力幻觉”近在迟尺 借过年“走人户”的无聊时光，终于看完 《叫魂》 1768 年，名为“叫魂”的妖术恐慌盘旋在了大清帝国土地之上。“盛世”和“妖术”居然成为两个并行的词语。孔飞力沿着“妖术/剪发案”的脉络剪开，切开了整个大清王朝的阶级剖面——面对闻所未闻的剪发妖术，每个阶级都有自己的理解。 总结下来，叫魂案有三条线索 普通百姓对于妖术的恐慌与舆论传播 帝王对于叫魂的政治性担忧和利用 官僚惧上通中压下的窘境 ","date":"2023-01-21","objectID":"/zh-cn/posts/soul/:1:0","tags":["阅读","微观历史"],"title":"盛世与妖术并行，“权力幻觉”近在迟尺","uri":"/zh-cn/posts/soul/"},{"categories":["阅读"],"content":"一、群众舆论：民间传说与人口流动 叫魂案是闻所未闻的“妖术”，减去发辫，便能偷去你的钱财。 对于百姓来说，人有魂魄，叫魂也是广为流传的一种习俗，这为妖术的信仰提供了信仰基础。 中国的乡土情结让人们更容易妖魔化外来着，此时中国的建筑工人，僧人阶级由于流动的职业特性很容易成为被警惕的对象。叫魂事件的扩大起源正来自这些流动的人口。 ","date":"2023-01-21","objectID":"/zh-cn/posts/soul/:1:1","tags":["阅读","微观历史"],"title":"盛世与妖术并行，“权力幻觉”近在迟尺","uri":"/zh-cn/posts/soul/"},{"categories":["阅读"],"content":"二、文化矛盾：满人治汉 面对妖术，清朝具有文化上的内在矛盾。 尽管乾隆前期想要将“剪发案”和政治谋反撇清，但发辫始终是满族人身份的象征。 作为清王朝的统治者，其态度既是对逆反的恐惧，更是对满人汉化的不满。 封建王朝本身就具有的软弱性在关于“妖术”的法律允性中展露无遗。当皇帝和国家用“君权神授”完善自己的合理性时，妖术不过是神迹的一体两面。这导致清朝法律在涉及妖术时模糊不清，但又不得不设立。 ","date":"2023-01-21","objectID":"/zh-cn/posts/soul/:1:2","tags":["阅读","微观历史"],"title":"盛世与妖术并行，“权力幻觉”近在迟尺","uri":"/zh-cn/posts/soul/"},{"categories":["阅读"],"content":"三、官僚政治：考核与俱乐部 清朝的官僚制度处处充满了不平等。 孔力飞研究的核心是这种制度对于信息传递和政策运行的影响。 皇帝把官僚视为工具，建立各种渠道，措辞上的礼节虽然繁琐，却既是交流，也是身份划分。 离开了礼节性皇帝难以负担推积的任务，回归礼节性又导致效率低下。 在“剪发案”中，最突现的还是官员的评估充斥了讨好和维护彼此的倾向。在互相推举制的官员选拔下，上下的行为处在了一条利益线上。官僚评价以呈现出带状，讨好谄媚地围绕在皇权周围。 清朝官员评价简略粗暴，功绩，归功于“事件”，恐怖的是官员掌握了控制事件的能力，自导自演的道德风险在渴望皇帝正面评价和同伴互相隐瞒下极其容易发生。 到这一刻起，皇权的评价从未有如此一刻能左右时局的走向，但乾隆的决断始终忠诚于他作为满族皇帝的立场。这种异姓的管理是否是一种政治扭曲？无论如何，“叫魂”一案破成碎片，台上演员却纷纷退避三舍。 ","date":"2023-01-21","objectID":"/zh-cn/posts/soul/:1:3","tags":["阅读","微观历史"],"title":"盛世与妖术并行，“权力幻觉”近在迟尺","uri":"/zh-cn/posts/soul/"},{"categories":["阅读"],"content":"四、政治罪：触手可得的权力和恐惧 剪发案怎么定性呢？ 这是和文字狱一样的“政治罪”，什么是政治罪，对于任何人来说都可以“莫须有”的罪名。 对于大部分群众来说，这意味着——每个人从未有如此机会靠近“权力”与“恐惧”。 对群众来说，它是恐惧，也是武器。 对官僚来说，它是事件。 对皇帝来说，它是威胁和工具。 对乐子人来说，它就是乐子（）。 到此——叫魂案/妖术/剪发，和各个阶层搅合，发生了爆炸般的化学反应。 ","date":"2023-01-21","objectID":"/zh-cn/posts/soul/:1:4","tags":["阅读","微观历史"],"title":"盛世与妖术并行，“权力幻觉”近在迟尺","uri":"/zh-cn/posts/soul/"},{"categories":["阅读"],"content":"五、小结：赛博朋克的“叫魂” 《叫魂》在学术的严谨、详实庞大的内容、通俗的故事演绎中取得了了不起的平衡。 面对同样的妖术/剪发事件，各个阶级的遭遇完全不同，孔飞力很完美的对于社会阶层的进行了一次漂亮的“异质性”分析和阶级分析。 值得注意的是，这种结果是结构化的分类而不是多个数量的组合， 所以我认为应该把《叫魂》和《乌合之众》的讨论分开来。 叫魂一案与清王朝的特质有诸多的相似性，这是盛世下的衰退转折的解释，也是封建王朝历史运行下的必然结果。看似案件围绕皇帝态度，但皇帝则忠实着他的阶级，但此时的中国尚未完成融洽的民族文化统一，于是在权力的运作上产生扭曲。 荒谬的妖术怎会产生在“盛世”？巧合或许只是拨动中的历史齿轮。潜伏在水面下大鱼从未停止过游动，只是在治乱兴衰中投下浮光掠影。 但一定要警惕，历史时不时会垂下疯狂的引信。 一旦要素满足——没有什么能够伫立其间，以阻挡这种疯狂。 ","date":"2023-01-21","objectID":"/zh-cn/posts/soul/:1:5","tags":["阅读","微观历史"],"title":"盛世与妖术并行，“权力幻觉”近在迟尺","uri":"/zh-cn/posts/soul/"},{"categories":["阅读"],"content":"六、一些简单的思考 对于其中“为何叫魂案在清朝能如此深远”的一小部分原因，我却发觉赛博朋克。 此时正当清朝盛世，为何却妖术横行？ 其中自然有清朝封建文化特质和简略的评价体系的原因。 但政治罪的惨案已经在历史上轮回上演。 叫魂案让每个阶层的人都产生了集体的“权力幻觉”，政治罪成为了每个人的恐惧，武器。 现代社会大概率不会有经受过良好教育的人迷信“魂魄”，但恐怕现代社会（例如互联网发言），任何人都比以往更加渴望一种权力： 教育别人的权力， 审判别人的权力， 评判别人的权力。 三观讨论，正逐渐成为一种武器。就像拉黑，举报是维护讨论环境的工具，现在却只是讨伐异己的武器了。三观不合即是三观爆炸，每个人都在为自己的信仰为战，就像捍卫永恒的“耶路撒冷”，但我们究竟是在为真理本身战斗，还是陷入了权力的幻觉呢？ 以色列对约旦河西岸的致命袭击仍在继续\r","date":"2023-01-21","objectID":"/zh-cn/posts/soul/:1:6","tags":["阅读","微观历史"],"title":"盛世与妖术并行，“权力幻觉”近在迟尺","uri":"/zh-cn/posts/soul/"},{"categories":["软件工具"],"content":"众所周知，tikz 宏包是 latex 画图的神级宏包，但是代码确实难打。 于是个人推荐使用 tikzit 软件，鼠标操作作画，然后自动转化成 latex 代码。 ","date":"2022-10-19","objectID":"/zh-cn/posts/latex2/:0:0","tags":["LaTeX"],"title":" LaTeX 与绘图","uri":"/zh-cn/posts/latex2/"},{"categories":["软件工具"],"content":"软件下载 下载链接: TikZit 建议上谷歌翻译，功能介绍耐心细致， 这里不再重复作画教程，tikzit 页面简洁易懂。 页面如下： tikzit\r","date":"2022-10-19","objectID":"/zh-cn/posts/latex2/:1:0","tags":["LaTeX"],"title":" LaTeX 与绘图","uri":"/zh-cn/posts/latex2/"},{"categories":["软件工具"],"content":"环境配置 （两种图片插入方式） 这里先强调环境配置。 核心是还要自己下载宏包拓展—— tikzit.sty 同时有两种插入方式。 本段文字就在下载页面的插入latex部分，注意里面的蓝色超链接字体，点进去即可下载。\r本段文字就在下载页面的插入 LaTeX 部分，注意里面的蓝色超链接字体，点进去即可下载。 ","date":"2022-10-19","objectID":"/zh-cn/posts/latex2/:2:0","tags":["LaTeX"],"title":" LaTeX 与绘图","uri":"/zh-cn/posts/latex2/"},{"categories":["软件工具"],"content":"个人推荐：直接代码插入 首先将下载好的 tikzit.sty 和 LaTeX 论文软件放在同一主体下， 将下载好的tikzit.sty和latex论文软件放在同一主体下\r这样才能识别宏包 LaTeX 宏包使用： \\usepackage{tikzit} \\\\使用宏包tikzit.sty 当在 tikzit 做好图后，依次点击工具栏，tool，jump to selection，底部就会弹出 LaTeX 代码 自动生成\r整体环境代码如下： \\documentclass{article} \\usepackage{tikzit} \\begin{document} \\begin{tikzpicture} \\begin{pgfonlayer}{nodelayer} \\node [style=none] (0) at (-5.75, 1) {Y}; \\node [style=none] (2) at (-2, 0.75) {无差异曲线}; \\node [style=none] (3) at (-4, 4) {}; \\node [style=none] (4) at (2.25, -1) {}; \\node [style=none] (5) at (-5, 3.75) {}; \\node [style=none] (6) at (-5, -1.5) {}; \\node [style=none] (7) at (2.75, -1.5) {}; \\node [style=none] (8) at (-1, -2.25) {X}; \\end{pgfonlayer} \\begin{pgfonlayer}{edgelayer} \\draw [bend right=45, looseness=1.50] (3.center) to (4.center); \\draw (6.center) to (7.center); \\draw (6.center) to (5.center); \\end{pgfonlayer} \\end{tikzpicture} \\end{document} 页面\r","date":"2022-10-19","objectID":"/zh-cn/posts/latex2/:2:1","tags":["LaTeX"],"title":" LaTeX 与绘图","uri":"/zh-cn/posts/latex2/"},{"categories":["软件工具"],"content":"图片引用插入 过程就是，先利用 tikzit 保存多组自己作画的矢量图，然后编号，再插入 tex 中。 （参考 latex 参考文献插入和图片插入的类似插入方式） 具体过程， 创建个文件夹，命名为 tikzpaper。 把 tikzit.sty 放进里面 在 tikzpaper 文件夹中创建一个叫 figures 的文件夹，把所有 tikzit 保存的作图保存在里面。 在 tikzpaper 文件夹中创建 paper.tex 。 paper.tex 环境如下 其中 \\tikzfig{ddd} 和 \\ctikzfig{ddd} 就是两种引用图片的方式，大括号{}里面就是保存在 figures 文件夹里的图片文件名。 % paper.tex \\documentclass{article} \\usepackage{tikzit} %\\input{sample.tikzstyles} \\begin{document} A tikz picture as an equation: \\begin{equation} \\tikzfig{ddd} \\end{equation} A centered tikz picture: \\ctikzfig{ddd} \\end{document} 效果如图\r","date":"2022-10-19","objectID":"/zh-cn/posts/latex2/:2:2","tags":["LaTeX"],"title":" LaTeX 与绘图","uri":"/zh-cn/posts/latex2/"},{"categories":["软件工具"],"content":"其他工具 开源软件都是小巧玲珑的，不少解压即用。 mathcha（网页，付费） tikzcd-editor (很多回答提到了这个网站，但麻烦的是里面没有告诉需要的宏包，但是现在有了 gpt 了影响不大） \\usepackage{tikz} \\usetikzlibrary{cd} \\\\tikz子包 调用关系图tikzcd命令环境 inkscape（可以当成开源的 PS） ipe（免费开源，但是目前没有汉化包，但页面都是图形为主） 下载 ipe 时安装路径不要有中文，不然打开会出错 （ipe 建议配合 B 站有个教学视频服用：B站教学） latexdraw（免费开源） LaTeXdraw\rTikzEdit（免费开源，英文，但通俗易懂 tikzedit\rTikzedit 就像一个即时编译的 tex，页面也和 tex 完全一致 TikzEdit 和 latexdraw 我都体验过，latexdraw 可视化编辑做得更好，文字位置颜色也能可视化调整位置。TikzEdit 则更多的是点位和线条的可视化移动编辑。但是两者对于箭头样式都不能可视化编辑。对于有一定基础的人，TikzEdit 更好用。 邪道方法：花里胡哨的工具（例如 PPT，processon（在线网页））作图，保存 PDF，然后剪切，作为 PDF 文件插入 latex 中（这样也可以减少 latex 的排版和代码运行压力） 这个是我使用processon网页版随便画的图，不过里面的latex公式保存为PDF会失真，其他中文格式不会\r以下是插入剪切后的 PDF 的局部环境 \\begin{figure} \\centering \\includegraphics[width=0.8\\textwidth,height=0.5\\textwidth]{实践时间是.pdf} \\\\中括号是控制PDF大小长宽；大括号是PDF的名字 \\caption{标题} \\end{figure} 顺便补充下插入整页PDF文件的整体环境吧 \\documentclass[a4paper]{article} \\usepackage{pdfpages} \\begin{document} \\includepdf[pages={1,2,4,7}]{PDF的名字.pdf} \\\\中括号里面的就是原PDF的页数 \\end{document} ","date":"2022-10-19","objectID":"/zh-cn/posts/latex2/:3:0","tags":["LaTeX"],"title":" LaTeX 与绘图","uri":"/zh-cn/posts/latex2/"},{"categories":["软件工具"],"content":"因为学长发的朋友圈接触了 LaTeX ，在这里记录下学习过程，顺便整合下这段时间看的实用帖子。 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:0:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"LaTeX 何方神圣 LaTeX（/ˈlɑːtɛx/，常被读作/ˈlɑːtɛk/或/ˈleɪtɛk/） 是一种基于 TeX 的高品质排版系统，由美国计算机科学家莱斯利·兰伯特在 20 世纪 80 年代初期开发，非常适用于生成高印刷质量的科技和数学、物理文档，尤其擅长于复杂表格和数学公式的排版。LaTeX 是科学文献交流和出版的事实标准。 （维基百科） Word：所见即所得 LaTeX：排版格式和文字内容是分开的 （排版是通过代码调整，里面最棒的是各种宏包，调用来各可以做何种事情，比如在文章中加几个 emoji~） 插入emoji，Word就不会插入的这么自然啦~\r对我而言，LaTeX 的排版是真的美，排除舒服的版面很有成就感。如果你的文章里会出现大量的数学公式和图文表格，那么 LaTeX 一定是比较好的选择~ word排版\rLaTeX排版\r我们队在一次数学建模比赛中描写排队模型，LaTeX排\r","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:1:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"下载和安装 不下载也行，有在线编辑的 LaTeX 网站，可以跳过这里，先看后面的 LaTeX 网站。 LaTeX 有很多版本：LaTeX 、Ctex……. 对应的编码环境配置也有很多版本 winedit，studio…… 个人推荐以下配置（针对 Windows 系统）: texlive + texstudio 原因：对新手友好，支持中文页面（winedit 页面是英文的） LaTeX 下载教程：随便找的，可以自己找最新的。 当初我找的教程是 2018 版本的，结果 2021 安装有点不同，这里放的是 2022 版本 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:2:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"快速上手 （两个小时以内） 打开链接之前的 tips: 里面有个地方在 Windows 更新后已经不行了，那就是“如何让 LaTeX 支持中文正文”，代码修正放在链接下面的代码块里： \\usepackage[fontset=windows]{ctex} %百分号就是注释的意思 %usepackage就相当于添加宏包，比如给手机下载应用，个浏览器下载插件，有了宏包能做更多事 %window升级后用这个才方便输出中文或者识别 如果内置 PDF 无法预览显示，可能是 PDF 阅读器的锅。 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:3:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"进阶教程（论文需要的） 基于上个链接视频没有的内容进行补充 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:4:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"引用有两种方法 LaTeX 插入参考文献的方法（两种全） 其中第一种方法（BiB 格式）如果编码不成功： 验 bib 格式或者引用文献那里有没有打了什么奇怪的符号 编码顺序和编码次数不对 重启然后再来 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:4:1","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"补充，知网文献如何转化为 BIB 格式？ 我采用的方案是油猴插件（大学生的网课利器！）。 目前火狐，QQ 浏览器，edge，谷歌浏览器都支持油猴插件。 油猴插件下载 插件脚本下载 知网参考文献 bibtex ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:4:2","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"Emoji 卖萌 我推荐宏包的方式插入 emoji， 详细可以看看对应的手册。 举个例子： \\emoji{grinning} \\emoji{sweat-smile} \\emoji{rofl} \\emoji{joy} \\emoji{smiling-face-with-hearts} \\emoji{face-savoring-food} 在 LaTeX 中使用 Emoji ✌️ LaTeX 有很多个编译器，适用于 emoji 宏包的是 luaLaTeX 但如果一开始就这样似乎无法产生 PDF 文件。我的建议是，先不用 emoji 宏包，用 pdfLaTeX 编译，产生 PDF 后，再加入 emoji 命令使用 luaLaTeX 编译。 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:4:3","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"有趣的宏包 下棋宏包，围棋，中国象棋，国际象棋，乐谱 LaTeX 编辑部 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:4:4","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"进阶道路（来自学长的补充） LaTeX 进阶还可以学一下： Tikz package 绘图 Beamer document class 做 ppt 自己开发 package/class document 感觉这样作为 LaTeX 的使用者来讲，几乎就到头了。 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:4:5","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"LaTeX 网站 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:5:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"在线 LaTeX 编辑网站 国外：overleaf 国内：texpage 、slager LaTeX 模板：TeX 工作室、shareLaTeX ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:5:1","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"数学公式识别网站 SimpleLaTeX 白描 LaTeX 公式编辑器 Mathpix ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:5:2","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"LaTeX 表格生成 LaTeX 表格 表格转换工具 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:5:3","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"PDF 处理网站 为什么把这个放在 LaTeX 这里？因为 LaTeX 的效果是生成 PDF ，有时候一些比赛，论文场合只给 PDF 的封面。大家 LaTeX 协作时，我们也需要把几个 PDF 进行整合。 PDF 处理网站 ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:5:4","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"个人入门代码 \\documentclass{article} \\usepackage[fontset=windows]{ctex} %window升级后用这个才方便输出中文或者识别 \\usepackage{graphicx}%图片插入 \\usepackage{emoji}%表情 \\usepackage{amsmath} \\usepackage{xcolor} \\usepackage{cite}%引用 \\usepackage{amssymb}%数学符号 \\usepackage{indentfirst} \\usepackage{tikz} \\usepackage{pdfpages} %插入PDF %\\pagestyle{myheadings}%设置页面格式 %arabic 阿拉伯数字 %roman l小写的罗马数字 %Roman 大写的罗马数字 %alph 小写字母 %Alph 大写字母 \\pagenumbering{arabic}%设置页码格式 \\usepackage{fancyhdr}%导入fancyhdr包 \\pagestyle{fancy} \\fancyhead[L]{左页眉} \\fancyhead[R]{右页眉} \\fancyhead[c]{中间页眉} \\fancyfoot[L]{左页脚} \\fancyfoot[C]{\\thepage} \\fancyfoot[R]{右页脚} %------------------------------- %\\fancyfoot[LO]{奇数页左页脚} %\\fancyfoot[LE]{偶数页左页脚} %\\fancyfoot[RO]{奇数页右页脚} %\\fancyfoot[RE]{偶数页右页脚} %------------------------------ \\renewcommand{\\headrulewidth}{4pt}%分隔线宽度4磅 \\renewcommand{\\footrulewidth}{4pt} %以上是导入的各种数据包，就像浏览器的插件一样，有了这些包才方便生效一些好用的代码 \\title{\\heiti 我的\\LaTeX 的上路操作记录} \\author{\\kaishu 胡昂} \\date{\\today} \\renewcommand{\\abstractname}{\\textbf{\\zihao{4}摘\\quad 要}} %摘要字体：4号，加粗，中间有空格 %以上部分属于是前言 %————————————————————————% %接下来就是正文了 \\usepackage{tikzit} \\begin{document} \\maketitle%取标题 %%就是注释的意思 \\newpage%另起一页 \\tableofcontents%命令输出论文目录 %\\listoffigures 插图目录 %\\listoftables 表格目录 \\newpage \\begin{abstract}%摘要 这里就是摘要环节了。对于三种文档类article，report，book，前两种是有摘要环境的，用法环节就和这部分一样。 \\noindent{\\textbf{关键词：} 摘要;\\LaTeX;论文格式;操作记录}\\centering%关键词居中 \\end{abstract} \\emoji{grinning} \\emoji{sweat-smile} \\emoji{rofl} \\emoji{joy} \\emoji{smiling-face-with-hearts} \\emoji{face-savoring-food} \\part{标题的层次} 但chapter一般在report里用 {比section更大的是chapter} \\section{第一个章节} 直接在章节标题下面写点东西？\\emoji{+1} 这里描述下字体处理\\emoji{joy} \\subsection{第一个章节下的第一个子章节} \\subsubsection{我已经可以开始套娃了} 我直接开始胡言乱语并且开始写点东西 哈哈哈哈\\footnote{这个是添加脚注的命令} \\subsubsection{子章节用无限sub描述} \\section{第二个章节} \\section{第三个章节} 这里说明的是列表 的begin end 对应的是列表环境域，其中的所有内容共享一个文字格式 \\begin{itemize} \\item 无序列表一 \\item 无序列表二 \\item 无序列表三 \\end{itemize} \\begin{enumerate} \\item 有序列表一 \\item 有序列表二 \\item 有序列表三 \\end{enumerate} \\part{文字特效} \\textbf{加粗} \\textit{斜体} \\underline{下划线} \\part{数字工具排版} \\section{公式环境} LaTeX支持直接输入，不过需要特定的符号：$E=C^2$ 写成单独一行也是可以打，加上符号 \\begin{equation} E=MC^2 \\end{equation} 也可以缩写： \\[ x^{4}+\\frac{x}{y}=x^3-23y{7} \\] \\[ d={k \\varphi(n)+1} \\over e \\] \\[ \\mathrm{func}(x, y)\\triangleq \\sum \\left({x^{100}}\\right) \\] \\section{加减号} 数学符号：变量 大于号：\\textgreater 小于号： \\textless 下面的后面要加空格，否则会识别错误 大于等于：\\geq 小于等于：\\leq \\section{大括号} 方法一： $$ f(x)=\\left\\{ \\begin{aligned} x \u0026 = \u0026 \\cos(t) \\\\ y \u0026 = \u0026 \\sin(t) \\\\ z \u0026 = \u0026 \\frac xy \\end{aligned} \\right. $$ 方法二： $$ F^{HLLC}=\\left\\{ \\begin{array}{rcl} F_L \u0026 \u0026 {0 \u003c S_L}\\\\ F^*_L \u0026 \u0026 {S_L \\leq 0 \u003c S_M}\\\\ F^*_R \u0026 \u0026 {S_M \\leq 0 \u003c S_R}\\\\ F_R \u0026 \u0026 {S_R \\leq 0} \\end{array} \\right. $$ 方法三： $$f(x)= \\begin{cases} 0\u0026 \\text{x=0}\\\\ 1\u0026 \\text{x!=0} \\end{cases}$$ $\\longleftrightarrow$ \\\\箭头 \\part{表格怎么打} 随意写点东西？ \\begin{table} \\centering \\begin{tabular}{||p{2cm}|r|c|l||} \\hline\\hline 单元格1\u0026单元格2\u0026单元格3\u0026单元格\\\\ \\hline 单元格4\u0026单元格5\u0026单元格6\u0026单元格\\\\ \\hline 单元格7\u0026单元格8\u0026单元格9\u0026单元格\\\\ \\hline\\hline \\end{tabular} \\caption{表格的标题} \\end{table} 这下面是很秀的三线格 \\begin{table}[h] \\begin{tabular}{ccc} \\hline 变化部分 \u0026 所有（容易变化） \u0026 国有（不易变化） \\\\ \\hline 耕地 \u0026 自种；荒废；外包 \u0026 一般不变 \\\\ 未利用荒地 \u0026 转变为耕地 \u0026 转变为耕地 \\\\ \\hline \\end{tabular} \\end{table} \\part{关系图} \\begin{tikzpicture} \\node [draw,rectangle](a)at(0,0){concat}; \\node [draw,rectangle](b)at(0,-1){relation}; \\node [draw,rectangle](c)at(-2,-1){relation}; \\node (d)at(1,-1){...}; \\node [draw,rectangle](e)at(2,-1){relation}; \\node [draw,circle](f)at(-3.5,2){+}; \\node (g)at(-3.5,3){$\\{f_A^n\\}$}; \\node (h)at(-3.5,-3){$\\{f_A^n\\}$}; \\node (i)at(-2,-3){$\\{f_G^m,f_G^n\\}$}; \\node [draw,rectangle](j)at(4.3,2.5){mat multiply}; \\node [draw,rectangle](k)at(6,1.5){weight eq.(3)}; \\node [draw,rectangle](l)at(6.5,0.5){ReLU}; \\node [draw,rectangle](m)at(5,-0.5){scaled dot}; \\node [draw,rectangle](n)at(3.5,-1.5){$W_V$}; \\node [draw,rectangle](o)at(4.6,-1.5){$W_Q$}; \\node [draw,rectangle](p)at(5.6,-1.5){$W_K$}; \\node [draw,rectangle](q)at(6.5,-0.5){$W_G$}; \\node [draw,rectangle](r)at(6.7,-1.5){$\\epsilon_G$}; \\node (s)at(6.7,2.5){relation}; \\","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:6:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["软件工具"],"content":"结语 恭喜你成功成为 LaTeX 大军中的一员。 接下来展开精致的排版生活吧！ 最后来点 LaTeX 笑话： 有什么只有 Word 能做，LaTeX 做不到呢？那就是在图片背后写大段文字水字数！（笑~） ","date":"2022-10-09","objectID":"/zh-cn/posts/latex/:7:0","tags":["LaTeX"],"title":" 如何在1小时内快速入手LaTeX？","uri":"/zh-cn/posts/latex/"},{"categories":["游记"],"content":" 假期跟着老师去调研云南昭通的几个县级易地扶贫安置点。 昭通市是四川云南交界处的城市，比较出名的是昭通苹果。过去昭通以民风彪悍出名，现在大力发展教育后改善了很多。这边乡村振兴重点扶持的特色产业是天麻产业。 ","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:0:0","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":"县城景区 ","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:1:0","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":"盐津 云南盐津被称为“一线城市”，主体沿河而建，道路狭窄基本只留一条主线路穿城而过。就是为了让出这条勉强的双行车道，居民甚至不得不将房屋宅基地沿着河岸斜坡扩展，如此一来，房子以混泥土吊脚楼为主。整个老城区就像乐高积木一样插入河流两岸。但往往是一家人，就提住了这一栋楼。而正是因为这样的地形地貌，这里河流湍急，每年水灾相对较多。 一线城市，沿着河流峡谷而建\r山地地形多样，云南蘑菇种类又多，同时大多具有毒性，因此社区尤其强调安全教育，防范水灾和食物中毒。以防万一，社区甚至和住户签订了蘑菇事食物中毒，责任后果自负的条约。 当地夜晚的广场\r","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:1:1","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":"茶马古道 茶马古道著名关口“豆沙关”和崖葬“僰人悬棺”就在这里。 唐朝派遣使者管理云南，这里的摩崖刻石是重要证据。得益于省份交通咽喉的优越地位，道路最狭窄的地方却率先通了西南丝绸之路，地铁，火车，高速路，这里的景点以“一景五路”自称。 水路，马路，栈道，铁路，地铁\r僰：人拉着藤条荡。崖葬。\r","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:1:2","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":"其他县城 其他县城景点相对较少，就不再多提。云南山地丘陵地形为主，因此修路成本要高些，高速路收费也贵些。易地搬迁需要地，由于地形受限，云南的城市规划还是受到很多限制，施工成本也更大。 以鲁甸县为例，大部分居民都住在山上。晚上沿着马路上山，可以看到远处山上分散的灯光，夜幕里就像星星一样，所以当地也把易地搬迁称作“摘星行动”。 ","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:1:3","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":"调研总结 ","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:2:0","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":"调研总结 易地搬迁的对象是偏远山区的居民，环境和经济因素，普遍患有三高疾病。而且需要改变的不仅是身体、居住环境，还有意识。 易地搬迁的关键是如何让搬迁户适应农村到城镇的身份和意识转换。在农村的时候自给自足，没有水电费，菜也是自己种，现在有了物业费、水电费，他们可能无法理解。因此，社区也采用的过渡方案，前三年水电免费，之后逐渐增加缴费比例。为适应乡村文化，社区也要提供红白喜事服务。在社区就能办理一条龙。 实行网格化管理（经典特色术语🙃），建档立卡，分批精细管理。残疾的，非残疾的，重大疾病，老人家庭……的都要进行分类。需要定期培训让居民们适应互联网，至少学会看微信通知。 多方面扶贫就业，防止返贫。外出就业补助、社区内部车间扶贫就业、地方产业扶贫就业、创业补助（自己开地摊，买小吃也算创业）。 发挥比较优势。云南发展产业的有优点是绿色食品——天麻、竹笋、橘子等。弱势在于交通运输、加工制造能力。 地方缺钱，十分缺钱！工程欠款较多。 ","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:2:1","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":"调研酒桌 县级调研总是要和当地领导对接，一般情况少不了酒局，而且一般都是白酒。喝酒过度，总归伤身。这里分享点个人经验。 我遇到的几个县的酒局，一般分为四个阶段。 一阶段：个人介绍，完毕后自己主动喝酒。 二阶段：互相交流，邀请别人喝酒，一对一碰。 三阶段：领导发言，一对多训话，开启群体起立绕桌敬酒。 四阶段：酒局将尽，互加微信。 喝酒策略也应该根据阶段灵活变通。 施法前摇：反复强调自己不会喝，没喝过，尽量降低难度。 一阶段：一般是站起来介绍，此时中小酒杯端起来时即可撒出来一些。或者提前在桌下偷偷撒出，举起酒杯时用手遮住酒杯侧面（把酒杯完全遮住就太假了！），让大家看不到水位，以为还是倒酒时的状态。 二阶段：由于是大学生调研，可以不懂规矩一边吃饭一边喝酒。注意看桌上有没有牛奶、茶杯。喝水到三分之一，在敬酒后含住酒（注意嘴别鼓起来！就是舌头会挺疼），假装喝饮料，将酒吐进饮料中。如果没有饮料，装满米饭或者汤的碗是最好的掩护道具。 别人插嘴补充时，也是小动作好时机。酒局上一般大家都瞄着说话的对象，在别人说话时行动。 三阶段：此时饭局将尽，大部分人至少进入微醺状态，放心摸鱼划水。敬酒时用手遮住酒杯侧面。混入敬酒团体，假装在喝其实没有酒进入口中。多多走动，此时大家一般都在费力讨好别人，一般不会注意到小动作。 建议使用刘谦魔术课上的教学——大动作掩盖小动作，误导对方的注意力。例如一手做动作交流吸引目光，一手轻轻将酒倒入地上。 ","date":"2022-09-10","objectID":"/zh-cn/posts/ynzt/:2:2","tags":["旅游","调研"],"title":" 调研小记 1：云南昭通","uri":"/zh-cn/posts/ynzt/"},{"categories":["游记"],"content":" 莫高窟不愿只是旅游景点 事实上，它至今没有评级，因为这是一项科普教育事业，因为它从属于“文物局”而不是“旅游局”。旅游局已经给故宫评定了最高级别，当然也想对敦煌做同一件事。但莫高窟，没有接受。 当年的王道士，已经把黄金尽数抛出。流光溢彩的珍宝搭着牛棚车流落异国。沉淀的历史并不在意暂时的车水马龙，而大英博物馆每日却注定人来人往。历史在发笑。面对庞大，华丽的玩具，婴儿会在晕眩下手足无措。全部的罪责并不只在王道士身上——敦煌没被发掘于好时代，到今天我也无法轻易地描完古人的轮廓。于是文物保护和文化科普在这里兼而有之。 看敦煌，却也是不是敦煌。 此行也抚去了我心中的神秘面纱。如玛雅神庙一样的敦煌形象融化了。莫高窟既不是一个神秘朝代的宏伟之力，也不是无名商贾的祈福之地。 “供养人”是莫高窟文化的一部分。也就是说——哪些人开凿了哪些洞窟。事情都记地明明白白！毕竟，不留下名字，神佛怎么“打款”？ （狗头） 敦煌没有玛雅那样的未解谜团，但反之，玛雅文明脚下也没有沉淀已久的黄土地。 佛窟的建立从南北朝排到了元朝，其规模的边际增长体现着商路的繁荣与衰败。上到唐朝李氏，下到无名商贾，你敢开，就给开。洞窟有千百，窟窟皆不同。抛开钱财不谈（狗头），这片洞窟包容着来往的“供养人”，不分身份，不论属地，不谈年日。 单凭“飞天”是撑不起“中华瑰宝”这样的词汇的。敦煌最宝贵的是流淌的岁月与独特的文化气质。历史流淌这片峭壁之上，时间上下翻飞，最后凝结在洞口深处。地砖从南北朝变到元朝，花纹从简单几何长出了圆润的莲。或怒或笑，或尖锐或圆润，诸天神佛，照应时局。 繁多的洞口代表着群体的交往。在充满战争的历史长河里，确实有着民族交融这样坚实的口岸。洞窟中的游览不会有强烈的光线，唐朝百年的矿物颜料涂满了上下左右，隐隐带有荧光的效果。我逛的雕塑基本都是释迦摩尼与观音一类。只谈雕塑，个人并未察觉有何高级工艺和绝妙神情。据介绍，内部工艺主的填充手段很是奇特，是就地取材，更多的则是卧佛涅槃之姿此类文化内涵。 看室内坐佛会很奇妙。看乐山大佛一般阳光普照，一览无余。但在洞里向上看坐佛，那是不同的。上面的阴影有了一种深邃的空旷气息，让佛像变得高深莫测，恨不得主动跪拜。（啊~这就是《来自深渊》吗？狗头） 敦煌的壁画在洞内幽幽冷光之下，让人呆滞。全洞排列的神魔或典故图各自不同，那是天罗地网，佛光普照。颜料在长久的侵蚀下依旧清晰可见，蓝皮恶鬼，黄晕神佛，红漆黑瓦都清晰可见，历史的斑驳又伴着黄土墙展现眼底。胡旋飞天这类只在墙外一处看到，比较模糊，但还是能感受到盈盈如月，垂勾带露的飞跃气息。逛完，感觉大致如此。 佛教为莫高窟带来种子，但让种子发芽的可是民族往来与商贸之路。长久的香火最后也会归于尘土。而莫高窟为何不朽？答案可不是宗教。抛出的黄金，我们很难收回，但遗址的存在已经大于了其存在本身了。时过境迁，游客队伍越来越长，莫高窟却始终不是 5 A 景点，这果然是一项科普教育事业。 飞天壁画\r","date":"2022-07-29","objectID":"/zh-cn/posts/mgk/:0:0","tags":["旅游"],"title":"莫高窟不愿只是旅游景点","uri":"/zh-cn/posts/mgk/"},{"categories":["游记"],"content":" 河西走廊果然险峻。祁连山脉重山叠嶂，经过长期风化的山腰露出精瘦的黄土皮，连带着黑红色的斑驳纹理。山头鼓起，如节节骨脊，徐徐围住狭道。 今天已作为天然牧场，昨日却是艰险峡道。 随大路前进，山体遥远，压成水墨，浑黄和苍青成为主调。失去植被近山遮挡后，辽远的天空，和抱的戈壁，皆是萧索。 烽火狼烟之地，簇簇草团更像细箭，在大漠的皮上不合时宜地横插一脚。在灌木丛点缀的谷底，则偶见平缓的长城遗址，已被风沙磨灭的近乎路墩。时而有一群马，一群牛，几杆风车，但一转眼就消失在车窗后了。 倘若堂吉诃德见到山脚白色细长的风车叶片，恐怕也会惊讶竟有如此优雅纤细的巨人吧？ 然而是谁造就巨人呢？造就了大漠里的活物呢？ 历史的沙尘未有一刻停止侵蚀与掩埋，但也有人从合围的戈壁中远走异乡。总有驼铃在干涸中响起，老去的黄土也有着阻挡狼烟的功绩。起初没有人在意在悬崖下老去的花朵，直到历史的丰碑矗立在风沙之上。 远去的风沙没有回响。但，是谁走过了河西走廊？ 河西走廊\r","date":"2022-07-09","objectID":"/zh-cn/posts/hexi/:0:0","tags":["旅游"],"title":"河西走廊","uri":"/zh-cn/posts/hexi/"},{"categories":["阅读"],"content":" 补档过去的思考。高中阅读课随意拿了一本《阎连科文论》，其神实主义的主张直到今天也让我回味无穷。 做高数时突然悟到了“神实主义”和“魔幻现实主义”的共同之处，他们以“传达”为己任，就像古希腊的修辞学一样，如同举例论述一般，创造一种现实。而创造出怎样的场景，那才是小说作者真正的较量之处。 子曰：辞达而已矣，讽刺了穷极技巧的表达的无用，在这句话的基础上看，神实主义者并没有用华丽的词汇或者奇妙的修辞，他们强调的更想是一种场景的构建，体验直观，却往往富有余味。 马蹄绕香，山僧提水不正是如此？ 这种技巧真的不是“迂回委婉”“比喻修辞”就更简单概括的，这些智慧都建立在对生活关系的仔细推敲下，用不起眼的细节串起背后的意境。巧妙把握住了事物之间的联系。 阎连科那个例子现在回想起来果然是无比贴切，泰坦尼克号沉入海底，怎么在小说中体现这一点呢？比如飞过一只海鸥，身上恰好有一个小小的磁针，在掠过海面时受到感应晃动。 这种构建建立在生活之上却又有种陌生的张力。 真正如《文心雕龙》言：羚羊挂角，无迹可寻。 羊的角或许是因为先有角，我们才习惯，但羊绝不是角来定义的，没有角的羊种类也很多，倘若我们抓住角对于羊形象的塑造就有了不一般的角度，在这个基础上人为移动到恶魔等形象上，那更是了不起的创造了。到这里，颇有种写作的灵性之美。 这种看似虚幻又很真实的程度真的很难把握。就像“意料之外，情理之中”一样难以描述，毕竟科学基本不说人话，但思考到这里，无论这种构建怎样虚幻，其关键必然在于对生活的细致观察，先感受，抓联系，再创造。 物质决定意识，我觉得非常合理。 如图\r","date":"2021-05-22","objectID":"/zh-cn/posts/sszy/:0:0","tags":["文学","阅读","作文"],"title":" 神实主义","uri":"/zh-cn/posts/sszy/"},{"categories":["阅读"],"content":" 尝试模仿瓦尔登湖的写作风格。不同版本的瓦尔登湖，句子的优美程度是截然不同的。感谢高中语文老师的赠书。虽然我至今没有读完，但每一次打开重新阅读总是会有新收获。 我素来不爱寒冬日里的艳阳，太阳如此鲜红，空气却不为所动。于是那稍带一丝炽热的温度，全方位地撩拨起行人的脸颊，像只湿哒哒的舌头。凭着触觉，我感觉到了被直射的角质。光线如一把利刃，削开这些鳞片。像齐格飞飞舞着长刀一样，使人觉得自己的脸在生长，痒，麻，不舒服。 也许是由于血液流动的缘故，在这种天气下行走总有一阵热一阵凉的感觉。好似身上长出冰来。仅过一瞬，阳光的火热又将你拥抱，再静候下一次寒冰。 这些情况多发生在冬季学校的操场上。虽多难受，聆听着人们发出的声音使人宁静，如听《水边的阿迪丽娜》1一样，让人流连忘返，滴滴嗒嗒的运动声由其使人享受，还有什么比得上这发自内心健康而爽朗的节奏？ 篮球与地面碰撞是激昂的乐章，奔放热情。足球与草坪的摩擦像悄悄话，清理自然宛如金丝猴隐没在密林发出的沙沙声。在大鼓点与小银铃之下，羽毛球的扑声穿梭而过。长着几只长脖羽，像野鸡慌忙从树上降落下，噗吱噗吱的挥翅声。木板隔层，橡胶与塑料合作，玩出多样风格。扛球是用力的“碰”。气球是刷刷的“花”，高速的抽打又变成了急促的“嘘”。 所以西方信奉犬儒主义的智者坐在破木桶里让亚历山大大帝别挡他晒太阳; 庄子自喻泥中龟快乐摇尾；现在的人们依旧会因几块板子和一个球而快乐，我也享受着他们享受的快乐，这份快乐又花费又有几分？大人们不知疲惫的参与高尔夫，以至于高尔夫成为优雅的标配，在双方的自我认定从开始直到结束都是纠缠不清的合作谈判，小孩子丢个木棍也能玩上很久，大人们却不止于给予木块一小眼转动。社会的阅历催人成熟，也吹走了人至纯的本性。远离了自然，远离了自我。 金子比星星更加动人，黝黑的石油比甘甜的泉水更受人追捧。两个玩堆沙的大人会显得愚蠢狼狈，而在我看来他们真正算的了是生活的主人，而生活的本质无非是自然罢了。大自然给予我们宁静的家园，人类却自傲的想象出金钱，权力在自我堆砌的堡垒上自我陶醉。 愿意从堡里走下来的人才是真正完全的人，他们回到了自己诞生的地方。 人们会好奇我如此的不思进取，我只求他们多看看深深的瓦尔登湖底。质朴的生活总能舒缓人的无限疲倦，要知道，质朴的生活才是真实的唯一。 我乱编的模仿的高级词汇 ↩︎ ","date":"2021-03-29","objectID":"/zh-cn/posts/wedh/:0:0","tags":["文学","阅读","作文"],"title":"《瓦尔登湖》有感","uri":"/zh-cn/posts/wedh/"},{"categories":["影视剧"],"content":" 个人早期最认真的影评，于此补档。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:0:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"前言 该作基本没有任何后宫，大胸，长腿，傲娇，后宫，热血，高中生恋爱传统元素。我只能说，世界需要更多这样的二次元作品。这个作品通过独特的设定表达了一种生活精神的内核。我们需要这样的作品，证明： 动漫不是死宅的玩物，而是种诗意的表达。 ——前言 你见过无边无际的海面吗？清爽的海风吹拂过人的脸庞，平静的海面传来几声鸟鸣，我却深知，海面下有着深邃的漩涡，但眼前却是那若有若无的轻纱，这是这部电影给我的感受。 如图\r电影全篇，是以“玛奇亚”作为妈妈成长的故事，母爱的叙述占了极大的篇幅，但与其同时，还有其他人物的线索，例如别离一族，古龙，世界从中世纪到的工业革命的场景变化， 种种意向表明 “母爱”不是电影的唯一主题，我甚至认为母爱不是主要主题。别离一族的命运的启示才是，这部电影在讨论一种“生活价值观”—— 害怕别离的我们该不该拒绝去邂逅？ 母子凝视，相互救赎\r","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:1:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"剧情线： 大背景：王国纷争下，凭借古龙而强大的人类王国梅扎特抓捕拥有长寿基因的伊奥鲁夫族以进一步加强实力。 主线：伊奥鲁夫族侥幸逃脱的少女玛奇亚收养一名普通人家的遗孤，努力做好母亲。 支线：伊奥鲁夫族，其他国家的反抗，世界的变化，被囚禁的伊奥鲁夫族。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:2:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"意象解读 伊奥鲁夫(又叫别离一族)：拥有几乎无穷尽的寿命，拥有将语言织进布里的独特能力。他们织的布又叫“西比奥尔”。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:3:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"别离 由于长寿，他们和普通人相处只会不断的产生别离，加剧痛苦，与其这样伤心，不如偏安一隅，这应该是开场“大长老”暗示的态度。 当玛奇亚说感到寂寞时，她回答：“有我还感到寂寞吗？”并劝导在凡尘不要去爱，只会痛苦，以及被人类骑士攻打时站出来说 “我们与尘世并无瓜葛” 这些可以看出来“大长老”的态度是： 避免与普通人接触，防止以后应别离而伤心，但由于人类的欲望，他们被迫与人类开始了接触。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:3:1","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"西比奥尔 经线是流转的岁月，牵引着四季的更迭和天色的变换纬线是众人的生业，在土地上精密交织拨动众人的心弦。 这是电影开头的话，从全篇来看，我认为：这就是生活的解读。 代表时间的经线就像人的寿命。 代表空间的纬线就是人的邂逅。 倘若经线无限长，也有必要去缝制纬线。将记忆缝进布里，这种化虚为实的意象，就是赋予生活意义的表现。 这种设定让我想起了《你的名字》，本质是一种泛神论： 我们信奉的不是具体的神，而是联系代表的神明——人与人之间的联系构成的红线就是我们信仰的神明（大意） 如图\r西比奥尔作为离别一族织的布，意义重大，可以说是他们生存的信仰。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:3:2","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"古龙 作为设定上世纪最两个古老的种族之一，和别离一族又都被人类大国征服，肯定是和伊奥鲁夫族形成衬托，毕竟同样的凄惨遭遇。 古龙与红眼病\r","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:3:3","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"红眼病 因被奴役并不敢去争取自由而积累发疯。这点可以从被奴役的蕾莉亚和巨龙的对话可以看出。她骂古龙会飞却不争取自由。 事实上，被奴役的蕾莉亚和巨龙一样，她声称“自己会飞”却也不去争取自由，这一点和别离一族的象征有什么关联吗？这一点我还没想通。但其中一个原因是：她怀了敌人（人类那个大国王子的女儿），她为了保护女孩，甚至放弃了她的真爱来救她的机会。也导致他真爱的“黑化”。 到这里，黑化的这位也很疑惑： 他想保持不变，拥有孩子的玛奇亚和蕾莉亚却都变了，为什么？ 这里也引申出电影的终极命题： 邂逅，到底值得吗？ 如图\r如图\r","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:3:4","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"孩子与邂逅 《朝花夕誓》中，孩子就是那个“邂逅”的表现！所以我认为母爱只是指代而非主题。 母亲与孩子的相处过程即邂逅与改变的最佳案例。 母亲与孩子的邂逅往往不全是主动的，与孩子的邂逅也是最奇妙的，母亲与孩子的别离也是必然的。 离别一族不愿去面对别离，但当他们被迫面对世界时，成为普通人的妈妈时，在于与自己终将离开的孩子相遇，有过欢乐或泪水时， 他们才会明白： “伊奥鲁夫”是个延续的诅咒。 这个诅咒到底是幸福还是不幸，这在他们经历过之后才会有他们自己的答案。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:4:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"相逢和交织就是幸福与自由的诅咒 先从两位母亲说起，一个主动，一个被动，对比突出，结果一致。 主角玛奇亚：从灾难中逃离，收养了一名普通人家的孩子，经历了母亲的一切，并见证了孩子的离去（最后主角玛奇亚仍是15岁的样子） 单亲妈妈不容易（找工作，养家糊口，孩子叛逆同时还有孩子对她各种“幼稚的承诺，安慰”）； 她是主动养育了这个孩子，因为怕寂寞，想和人分担，而不知不觉产生了真正的母爱。 在这一段，请注意头发颜色长短与玛奇亚形象的变化。 主角的朋友蕾莉亚：被迫怀上敌人的孩子，并终生不能与之相见，在梅扎特国被攻陷后见到了她的女儿并逃离王国。 蕾莉亚最后是被仅存的一只古龙救走，说出了两个让我在意的句子。 A.我会飞 古龙应该就是她的写照，古龙终于起飞争取了自由，她也见到了自己心心念念的女儿，然后下定决心离开。 B.“我要忘记这里的一切，你不过是西比奥尔上的一根乱线罢了” 如图|344\r尽管是错线，也有着独特的寄托情感，但蕾莉亚这些年确实过得很糟糕 如图\r然而真的能忘吗？ 对于母亲来说，孩子就是自己的别离。 不染凡尘的离别一族被迫经历了伤离死别，但这个别离看起来似乎只是束缚。母亲们为了孩子，会失去很多，自由，理想，还要无缘无故地担惊受怕，面对孩子的愤怒。而一旦产生真正的爱意，长寿的母亲又只能眼睁睁看着他们老去。 邂逅，意义何在呢？ 是不是放弃了邂逅也就没了别离的痛苦呢？ 而后，玛奇亚回答她说：“你一定不会忘记的。” 果然，哭泣之下，蕾莉亚还是说出了那个关键的句子： “又难过又痛苦，但这么美好的世界我怎么可能会忘记” 因为一旦邂逅，火花的出现是无法被遏制的，西比奥尔会将一切记下。母亲在养育孩子的过程中产生了爱。 就像烟火终会消失，那片绚丽的光景却会在我们柔软的心中留存。 到现在，西比奥尔到底意味着什么？作为别离一族的职责和特征， 我解读为“人的本分，人的特征”。 别离一族只是个假设的种族罢了，我们何尝不和他们一样，害怕失去，害怕别离。 如图\r别离看似痛苦，但也对应着一段相遇，一段闪亮的日子。佛教要求放下一起，视为“空”，把一切看成幻影露水就好了。但这样我们还是人吗，因为哪一点痛苦就把过程中的意义和幸福一并舍弃吗？ 我们害怕邂逅，感叹人生如朝露；我们恐惧别离，惊呼人生如梦幻泡影，好像生命短暂，人生虚幻， 所以电影塑造了几乎永生的别离一族，以告诉我们: 面对相遇与生活，勇敢去爱，是无关时间长度，表面结果的， 与离别之时束起约定之花， 与别离之时也会拾起那些珍贵的回忆， 那，就足够了。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:5:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"解题：《于离别之时束起约定之花》 明面上，肯定是长寿的母亲送走年迈的儿子，在离别是想起曾经的誓言与时光。 内涵上： 离别之时：一旦邂逅便意味着终会离别。 约定之花：当玛奇亚以15岁的身姿面对儿子老去的事实时： “妈妈是不会哭的啊，但是，对不起，妈妈遵守不了约定了。爱着你，真的很幸福啊。” 这样的打破约定才是誓约之花吧，只要玛奇亚还活着，她孩子的西比奥尔就将延续下去，这才是真正的约定之花， 没有人会不朽，但人与人终究会不断的邂逅。 在离别的前后，是情感和意义的赋予，离别不只有痛苦，所以，请鼓起勇气去遇见新的别离吧！ 沉下心来探讨一些看似缥缈的命题的动漫真的很了不起。 衷心希望这个电影能让人明白： 爱的感觉，真好。 如图\r","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:6:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"动漫之外想说的 《你好，李焕英》是母亲的赞歌。 《于离别之时束起约定之花》则更像是母亲的史诗，为母的成长史。 电影主题其实不是母爱，母爱只是该作命题核心的一个表现元素。 母亲在任何时候都是母亲，超越种族，跨越时空，这些设定不用动漫形式，童谣般的载体是无法表现的，这是我极力推荐它的理由： 这是个只有用二次元设定才能表达的作品。而这种表达已经超越的二次元本身，是在用一种形式书写邂逅的含义。 动漫不只是种画风，更是种表达方式。考究到“二次元”这一词语本身，不就是一种平面的艺术表达吗？ 《你好，李焕英》作为贾玲的导演作，拍摄技术的遗憾网上多有论述，但不妨碍它在豆瓣上取得8.3的分数（对应豆瓣8.3真的高）。 通过这两部作品，我真的进一步明白了： 幼稚和天真是万万不可混为一谈的，以及，情感内核才是核心，不论外在形式。 原来，最高的情商往往是真诚。 其他感想 自由和幸福诞生于束缚之中。树叶的一生是为了落叶吗？或是滋养？ 离别一族的命运联系头发不可结缘自由母亲，母爱 单亲不哭相处孩子对母亲的意义生命 吹爆中间大混战和生孩子的分镜，毁灭和新生在镜头里。 又难过又痛苦的世界，爱是诅咒，邂逅是让人孤独的诅咒，佛说弃掉一切，但经历过的放下才是真正的拿起。 中间，骑士还说了一句话：“古老的生物注定会灭亡。” 我认为这代表了别离一族陈旧的观念会消亡，他们真真切切地经历了尘世的别离，明白了痛苦，也感受到了幸福。 ","date":"2021-02-19","objectID":"/zh-cn/posts/ydzh/:7:0","tags":["电影","二次元"],"title":"朝花夕誓——于离别之朝束起约定之花","uri":"/zh-cn/posts/ydzh/"},{"categories":["影视剧"],"content":"森见登美彦的奇幻 森见登美彦是我个人比较喜欢的日本奇幻小说家。《企鹅公路》被称为“非森见式作品”，和作者其他作品在文风主题上完全不同。 《神圣的懒汉》、《四叠半宿舍，青春迷走》都是在废宅日常中寻找生活幽默，其中充满了成年人的疲惫。企鹅公路却有着少年的视角。 森见登美彦编辑过太宰治的短篇选集《奇想与微笑》，他坦言，比起《人间失格》《斜阳》这些名作，倒是太宰治幽默的写作技巧与有趣的对话对自己影响更大。 关于写作背景，他承认自己也想过以京都之外的地方作为小说舞台，却绞尽脑汁也做不到。大概自己只能对日常生活的圈子进行描写与想象。 ","date":"2020-12-24","objectID":"/zh-cn/posts/penguin/:1:0","tags":["二次元","电影"],"title":"《企鹅公路》：少年终长成","uri":"/zh-cn/posts/penguin/"},{"categories":["影视剧"],"content":"企鹅公路 简介： 在一个原本百无聊赖的平凡夏天，一群企鹅凭空出现在远离大海的小镇之上。在目睹了牙医大姐姐（苍井优 配音）所投掷的可乐罐变成企鹅之后，有着强烈好奇心的小少年青山（北香那 配音）同学决心一探究竟，并展开了一场不可思议而令人难忘的夏季冒险。 ","date":"2020-12-24","objectID":"/zh-cn/posts/penguin/:2:0","tags":["二次元","电影"],"title":"《企鹅公路》：少年终长成","uri":"/zh-cn/posts/penguin/"},{"categories":["影视剧"],"content":"梗概 广袤的世界有着数不尽的神秘现象，少年于幼稚中面对风暴，最后终于在成长中抓住了自己甘甜的梦，而成长往往会舍弃很多东西…… 女主（大姐姐）：能变出企鹅的神秘人物，是神秘现象的起因。和男主青山一起下象棋，满足其一些小任性，美丽知性，佩服青山的科学头脑，称呼他为“科学之子”。 如图\r男主青山：早慧四年级小学生，，万物皆为研究对象，甚至大姐姐的胸部。认为大姐姐是完美的化身。 如图\r男主的胸部研究|481\r","date":"2020-12-24","objectID":"/zh-cn/posts/penguin/:2:1","tags":["二次元","电影"],"title":"《企鹅公路》：少年终长成","uri":"/zh-cn/posts/penguin/"},{"categories":["影视剧"],"content":"小学生与胸部 君子色而不淫，发乎情，止乎理。从孩童视角描写这类剧情。和《你的名字》一样，只是微微透露青春期的性格特色而不喧宾夺主。小学生的身份也为电影增添了一些很幽默的场景。 ","date":"2020-12-24","objectID":"/zh-cn/posts/penguin/:2:2","tags":["二次元","电影"],"title":"《企鹅公路》：少年终长成","uri":"/zh-cn/posts/penguin/"},{"categories":["影视剧"],"content":"思考谜题 电影围绕“海”“大姐姐”“大姐姐产生的各种动物”为谜团展开推理。 里面青山爸爸对他的研究提的意见也很有意思 把大问题分成小问题 多多提问，多多联想，提相关的问题 从更大的角度看问题 一个思想实验 试想，如果家里的电灯坏了，你认为是什么原因？ 跳闸？短路？ 看起来正确的答案在这之中. 但是你发现全小镇的灯泡都没亮了， 你就会有全新的猜想。 由此，青山将其所有的研究《世界尽头》《水渠研究》《大姐姐的胸部》等等结合来看，才发现了所有奇妙事件间的隐秘联系，也颇有些拨云见日的感觉。 电影虽然是奇幻电影，里面整个推理的过程却是用的是科学的眼光审视，让电影明显一开始就有种理性色彩。儿童的身份又让研究的主题变的更加欢快。这里面还从日常中琐碎地体现出了亲情，友情…… 然而最优秀的是，这些都以主角青山对大姐姐的懵懂情感为主线，只是丰富，而不喧宾夺主。 ","date":"2020-12-24","objectID":"/zh-cn/posts/penguin/:2:3","tags":["二次元","电影"],"title":"《企鹅公路》：少年终长成","uri":"/zh-cn/posts/penguin/"},{"categories":["影视剧"],"content":"解密 青山在将所有联系起来后得到下面的关系（大概） 电影将各个关系慢慢展开，节奏良好 随时随地地吊人胃口。 自己整理了下关系网（海的特性还有很多，这里就不透露了）\r大姐姐自己既是海的受益者，又是海的狩猎者，甚至形成了一套小型生态链！ 王鹏老师的观点是这里体现了“真理与谬误共生”也体现出“大姐姐是真理的化身”。 因此主角憧憬大姐姐，就是对真理的一种的憧憬。真理晦涩难懂，朦胧遥远，虽然少年老成，实际上不还是小孩吗？ 但最后由于“海”的不稳定，大姐姐选择了消灭海，牺牲自己，防止“海”壮大淹没小镇。 “海”是一份只有青山同学知道的真相 ，也是属于他的成人礼，引领他迈出探索世界的步伐。 我赞同王鹏老师的观点： 其实，大姐姐就是美丽，谜团的化身，所以青山所象征的“探索者”才会对其产生懵懂的情感。 但是，个人觉得不能忽略《企鹅公路》讲述的是一个成长的故事： 最开始青山害怕拔牙。 然后一个夜晚，青山妹妹向她讲述了自己“害怕终有一天妈妈会死去”的恐惧，此刻开始青山蜕变更加明显，在大姐姐的帮助下拔牙。 最后更是接受了大姐姐牺牲的现实，这就是少年的成长。 这个过程中，青山变的勇敢，也从原来一味的科学理性变得更加感性，感性下有科学的信仰和直面成长的勇气，我想，是大姐姐让他获得了新的看待世界的角度。 大姐姐最后的消失………\r大姐姐就是这样的“引路人”，每个少年心中或许都有这样一位大姐姐，在你前进的路上不断老去，最后离开，你虽然悲伤，但学会了接受这样的现实，然后成长，成为更出色的大人。 全篇其实非常的温柔，各种明示“海”就是世界的尽头（这也对青山的世界观产生了冲击，是其成长的一部分），大姐姐既然不是人类，那么就算结尾消失，那么如果“海”是世界尽头的话…大概也一定能够…… 奇幻的电影搭上了科学，最后用温情和成长将伤口缝合，企鹅公路就是这样一条道路。 那么，企鹅公路的尽头究竟是什么呢？ 那是一个少年奔跑的背影，在失去中探索，最终成为一个出色的大人吧。 请一直奔跑吧，沿着企鹅公路，直到世界尽头！ ","date":"2020-12-24","objectID":"/zh-cn/posts/penguin/:3:0","tags":["二次元","电影"],"title":"《企鹅公路》：少年终长成","uri":"/zh-cn/posts/penguin/"},{"categories":["游记"],"content":" 近代史纲课的随笔作业。 北京的秋味往往更加浓烈，毕竟这片土地盛满了厚重的历史。金元明清的古都在这里拔地而起；北平的硝烟在这里弥久不散；无数英雄豪杰在这里驻足，留下让世人敬仰的背影，而新文化运动的伟大旗手——鲁迅，也曾在北京留下过浓墨重彩的一笔。 阜成门二条 19 号，这是我大学后来北京游历的第一站——鲁迅故居。我很好奇，这位大文豪怀着怎样的心态来到繁华的北京城？这样一位终身执笔的先锋，他的故居又是怎样的光景呢？ 展馆在一条的胡同里，幽深而平静。我从繁华的商业街进入，颇有点曲径通幽的意境，恰如鲁迅先生笔触下深刻的内涵。 兴许是为不过度扰乱大师留下遗产，胡同基本没怎么改变。旁边还三三两两地杵着一些胖鸟，交错如蛛网的胡同道保持着古朴的面貌，四周也敞开晾着衣服，停着摩托。我想鲁迅先生倘若在世，也愿意见到这和谐的开发面貌吧。英雄奉献给了和平，这正是他们所祈求的安宁。 古大门前两旁的瓦房上盖满了青苔，高大的树木在秋风中为这里提供庇护，好像鲁迅先生仍在向游客展开欢迎的怀抱。这样的风姿景色很让人想起“诸葛草庐”和“陋室铭”那样的幽居。 上述描写可谈不上是无端的联想，事实上很多游客还未踏进大门，就在旁边的高树，瓦屋旁打起了拍照的主意。 如图\r场馆网上预约后展示健康码和身份证后即可入馆，不收费用分毫，一展北京的壕气。 鲁迅和郭沫若 牌匾“鲁迅故居”乃郭沫若所写。看来郭沫若先生真是行走万里，我们当地三所著名高校的也出自郭沫若先生的墨宝。 有趣的是，“远看是条狗，近看是条东洋狗，仔细一看，原来是郭沫若先生。”这句话传言是鲁迅先生对这位“才子加流氓”评价。具体是否也已经无从考证，但经过查证，上海的故居居然也是郭沫若先生所题，那么个人觉得鲁迅先生说过那句评价的概率应该比较小了。 进入庭院，开门居然是这样的亲切？首先引人注目的是两只胖橘猫，静静地享受这众人的拥簇，时不时伸下懒腰，晃悠地走上几步。庄严的故居顿时变得亲切起来，想来，鲁迅先生原本的虽给人严肃之感，其可爱之处也一点不少，《故事新编》又岂非灵魂枯燥无味之人能写出来的？ 如图\r展览正厅有地上地下两层，以鲁迅的生活时间为线索，大概分为了几个阶段。每个展厅随鲁迅先生的文章原话不断展开。最前面的便是一大面白墙，花纹简洁，上面刻着那句名言：这世上本没有路，走的人多了，也便有了路。 展馆最开始是鲁迅的少年，复刻的鲁镇模型显得十分阴暗。19 世纪 90 年代，那时鸦片战争掀起了资本掠夺的序幕曲，清政府却仍沉溺与天朝上国的幻想之中。洋务派尝试“师夷长技以制夷”，也只停留在了军事层面。随之而来日本崛起带来的甲午中日战争终于在中国掀起广泛的反思。那是思想交替的时代，洋务派也派出过留学生，詹天佑，容闳，竺可桢等人人确实对中国发展做出了巨大的贡献。鲁迅在这个阶段仍接受书塾教育，也为其深厚的文学功底打下了基础。展馆里有不少他儿童时期的手抄书，比如祖训，家书，经书之类的。鲁迅先生在《社戏》，《从百草园到三味书屋》等文章里也断断续续讲了讲童年的往事。 青年时维新变法，资本主义学说逐渐在社会传播开来。光绪二十四年，鲁迅入南京水师学堂，改名周树人。后继续前往南京求学。 如图\r1899 年，鲁迅转入江南陆师学堂，学开矿。在展览的教材上基本没什么图画，内容涉及了化学物理一类，简单讲了讲电光雷电一些现象。书本还保留着“常人以为”“有道存之”的论述话语。而且，鲁迅也是在这期间接触了赫胥黎的《天演论》。 下一个展馆是鲁迅留学的故事，这个展馆也是停留的人最多的。 1902 年鲁迅先生从矿路学堂毕业。3 月，与钱均夫等人一同赴日本公费留学。展馆还保留了鲁迅在日本学医的成绩单。1904 年，鲁迅先生结识了藤野先生，藤野先生对中国的态度确实让人感到敬重，但当时的背景已经让鲁迅对学医的念头产生动摇了。 如图\r如图\r洋务运动，维新变法连续失败，清政府的立宪运动也谎话连篇。八国联军闯入北京，逼迫中国签订了丧权辱国的《辛丑条约》。清政府的愚昧显露无疑，中国人的麻木也让鲁迅感到寒心。于是，鲁迅弃医从文，从事各种文学活动。这些日子里，鲁迅翻译了大量外国文学作品，形成了自己的世界观。 1924 年，鲁迅与母亲一起迁入离开暂住的砖塔胡同 61 号。屋子比较低矮，《坟》、《野草》、《彷徨》等不朽作品却都是在这间屋子里写下的。 “网红”枣树也是在这里了。 “在我的后园，可以看见墙外有两株树。一棵是枣树，还有一棵也是枣树……” 那两颗著名的枣树就在这里。民国时局动荡，帝国主义、北洋军阀交错混战，思想界急剧分化，鲁迅需要用更有力的文字去鼓舞青年乃至社会。枣树象征着那些不屈服的战士，在“清冷的天空下”仍不断向上！ 除去文字上的造诣，原来鲁迅先生艺术造诣也十分丰富，毕竟从小就对书上的线描有很大兴趣。任职教育局时，鲁迅便设计了北大校徽。在那个需要社会启蒙的年代，北大校徽丰富的人文意味就是鲁迅期望的最好表现：以人为本，开启民智。 展厅中还有鲁迅设计的各种商标，图案胖瘦高矮不一，都十分有趣。此外，鲁迅先生原来非常喜欢汉代壁画，收藏了很多作品，都是些粗犷，散发着力量的线条。我想，汉代壁画那那种张扬而浩然的正气，大概正是先生所求之精神吧。 如图\r看到这里我还疑惑，一路下来，接近尾声了，鲁迅先生的发展基本随着历史潮流，那么和共产党的渊源呢？正好下个展厅就讲述了鲁迅和瞿秋白的战友情，甚至送出一联“人生得一知己足矣”的笔幅。不过严格算起来，鲁迅先生大概算个自由主义者，在奋力寻求救中华的道路，践行着自己所相信的事。 如图\r“死者倘若不埋在活人的心中，那就真真正正地死掉了。” 这是鲁迅先生自己的价值观，他也确实做到了。 场馆里不少人在小声交谈，说些平时不常说的话，我甚至听到了“经济基础决定上层建筑”之类的词语，我本来想笑，但才突然发现，是先生的余威，让我们才在这里说出那些原本不常说的话，我们在鲁迅先生面前不自觉的表示敬重，这不正是一种认可，一种态度？始皇既没，余威震于殊俗。鲁迅先生不是掌权者，却为后人留下了如此多的宝贵的精神财富。 如图\r来到展馆的最后，便是鲁迅先生临终前的情形，三天，两头，一天。 没有了任何言语，这里只有长久的沉默，沉默。 沉默着走到走廊的尽头，却发现上面赫然刻着三个遒劲有力的大字——民族魂。 我不经想起了先生在《随想录》里说过的那句话： 此后如竟没有炬火，那么我便是唯一的光。 如图\r","date":"2020-12-19","objectID":"/zh-cn/posts/lxgj/:0:0","tags":["旅游","微观历史"],"title":"鲁迅故居：唯一的光","uri":"/zh-cn/posts/lxgj/"},{"categories":["游记"],"content":" 意外被翻出来的高一小作文，在此补档记录。年少时好取巧对仗，半白半古颇华而不实。虽言辞达而已矣，但少年灿烂仿佛昨日，让人怀恋，遂于此补档。 军者, 皆定心静气, 肃发威武之气而立英姿之状也。人心较军心，可谓弗如远胜。吾校以军训育人培德，习大气大成, 练军律三功, 假以时日, 必成大器! ","date":"2017-10-06","objectID":"/zh-cn/posts/zw/:0:0","tags":["作文"],"title":"军训三功记","uri":"/zh-cn/posts/zw/"},{"categories":["游记"],"content":"一功 : 静如水 太阳光芒未减, 大风按兵不动。万里长空皆晴日, 滚滚酸汗入田笼。浑身的军装早已浸湿、浸软。手上, 背上, 下巴……都伴着汗水的游离而造成酥麻感却无法触及。 苦苦等候, 关节麻木, 大汗淋漓。直到一缕清风拂面, 世界变得闲适起来。这是一缕清风, 却滋养了此刻我干渴的灵魂。我感到了微风贴着我的脸颊, 撩开了我的发梢, 最后汇在了主席台后苍苍的竹林里。 视线宛如清水，清风托袖我自巍然不动, 而心, 早已静如止水, 流向远方…… ","date":"2017-10-06","objectID":"/zh-cn/posts/zw/:0:1","tags":["作文"],"title":"军训三功记","uri":"/zh-cn/posts/zw/"},{"categories":["游记"],"content":"二功 : 对仗功 行军, 讲究的是气势, 仰仗的是排面。 步调一致, 声音共振, 那排山倒海的气势便喷涌而出。可问题在于，我们男女对半一排, 偏要叉开, 搓成两大列。 “看左! 排面排面! 说了多少次了，注意排面!”教官、老师扯开嗓子吼却也不见成效。只有再来! 我们坚持行进，不断吸取教训，用余光瞄准排面。时而双脚抬高，时而压低步子, 找准节奏…… 终于, 操场上响起了整齐划一的踏步声，一步一步, 悠远长久…… ","date":"2017-10-06","objectID":"/zh-cn/posts/zw/:0:2","tags":["作文"],"title":"军训三功记","uri":"/zh-cn/posts/zw/"},{"categories":["游记"],"content":"三功 : 长征行 距出发已过两个小时, 先前出发的欢声笑语仿佛已隐没在山间的雾里, 迷离。 几经麻木，望见缓缓缩远的队伍，只得咬牙前行。就是如此, 反复的坚持, 变换的风景, 没有心潮澎湃的决心也没有波澜壮阔的起伏。只有一步与下一步，走出 × 中，又回到 × 中，一切顺理成章却又意犹未尽。 路, 永远由我们自己丈量。 七天军训, 只为三功, 日夜磨砺, 定永生不忘不放。 习三功, 品三德: 静如水, 苦中悟静; 对仗功, 见贤思齐; 长征过, 丈量自我。 噫! 我得军训之微趣, 盖此三者也! ","date":"2017-10-06","objectID":"/zh-cn/posts/zw/:0:3","tags":["作文"],"title":"军训三功记","uri":"/zh-cn/posts/zw/"},{"categories":null,"content":"关于“滑翔闪”其人 注册账号时曾随机摇到名字“滑翔闪电”——瞬间联想到滑翔闪和滑翔伞的不严谨谐音，遂沿用至今。 人生哲学为存在主义——承认世界荒诞，但存在先于本质，直面这样的世界并做出选择是最自我的回答。诺斯曾言，历史有其意义。偶然是历史的一部分——比起\"存在即合理\"，个人倾向于“存在即有原因”。 ","date":"0001-01-01","objectID":"/zh-cn/about/:0:0","tags":null,"title":"","uri":"/zh-cn/about/"},{"categories":null,"content":"活在社会（媒体）联系中的我： Zotero：最向往经济增长相关研究，最常看发展经济学相关研究，总被因果推断实证论文刷新世界认知。 Steam：开放世界、角色扮演、卡牌策略、轻动作类玩家。 Bilibili：偏好世界系、推理、奇幻、科幻要素。 Zhihu：啥都看看。 Github：略懂古诗写作与 LaTeX ，好用 AI。熟练 Stata；R、Python 调包侠；matlab dynare 学习中。 一些分享： 《无心之歌》：AI 时代古诗创作小册子。 《精神污染》：AI 克苏鲁故事绘本。 《计量经济学笔记》：笔记分享。 《微观经济学笔记》：笔记分享。 ","date":"0001-01-01","objectID":"/zh-cn/about/:0:1","tags":null,"title":"","uri":"/zh-cn/about/"},{"categories":null,"content":"对世界的呐喊： 拒绝谜语人发言和欲言又止。 如非必要名词，绝不“中英夹杂”。 希望手环震动闹钟和无声鼠标能够普及。 养开源共享的精神气，做坦率真诚的好心人。 谈论博客的选择与好处 推荐所有人尝试博客： 兴趣使然的尝试，影响深远的坚持。 远离国内平台的各种审查与限制。 建立自己的笔记库，浏览器打开即用。 体验自己建站（青春期博主会不会梦见看板娘） 从互联网中来，到互联网中去。做互联网的幽灵，在世界留下一点痕迹。 博客就像一座私人花园，即便无外人驻足，打理花园本身亦可自得其乐。 社交媒体表面上是生活内容的互动，维护的却是内容以外的关系——或许越陌生，互动才越专注于内容、长度和深度。 文章创作的表达能力与虚构能力密切相关，虚构“明白自己意思的读者”和“不明白自己意思的读者”才能写出真正顺畅的文章。 选择 HUGO 的原因：本来首选的是 hexo, 但经过学长劝导后选择了 hugo，即时预览，渲染快捷。目前使用 obsidian 编写管理博客文档，托管在 GitHub。 选择 LoveIt 主题的原因：支持丰富（最全的 shortcode、暗黑模式、多语言支持、搜索、评论支持……），风格简洁，作者帮助文档非常详细。不极简也不花哨，但各个年龄段的品味能够兼容！ LoveIt 主题作者已经放弃更新，同类主题可参见 DoIt 和 FixIt。 ","date":"0001-01-01","objectID":"/zh-cn/about/:0:2","tags":null,"title":"","uri":"/zh-cn/about/"},{"categories":null,"content":"f01a056bd36c184d628c2b190d84fa7a","date":"0001-01-01","objectID":"/zh-cn/baidu_verify_codeva-uftcc7gice/:0:0","tags":null,"title":"","uri":"/zh-cn/baidu_verify_codeva-uftcc7gice/"},{"categories":null,"content":"google-site-verification: googlebe7b79f1a25bcca0.html","date":"0001-01-01","objectID":"/zh-cn/googlebe7b79f1a25bcca0-/:0:0","tags":null,"title":"","uri":"/zh-cn/googlebe7b79f1a25bcca0-/"},{"categories":null,"content":" 高山流水只为君挽 残梦回还曲终不复弹 徒余留明月忆往昔 温酒会知音 借问人间知我者能有几 ","date":"0001-01-01","objectID":"/zh-cn/friends/:0:0","tags":null,"title":"有朋自远方来","uri":"/zh-cn/friends/"},{"categories":null,"content":"校友：循循善诱如师者 初中到大学，排名皆随机…… Yllhwa\r\"Focusing\"\rFernvenue\r\"Don't be evil\"\rkLiHz\r\"kLiHz's Blog\"\rBdim\r\"音乐计算机双修\"\r智能装机网\r\"（建设中）人工智能，智能装机赋能\"\rWenjun Zheng\r\"Econ student\"\r抹月批风\r\"正在尝试博客\"\rFinneas\r\"一个经济小登的主页\"\rLes1ie\r\"锲而不舍，金石可镂\"\r花开庄\r\"Love Ohana Forever\"\r","date":"0001-01-01","objectID":"/zh-cn/friends/:1:0","tags":null,"title":"有朋自远方来","uri":"/zh-cn/friends/"},{"categories":null,"content":"博主们：有缘千里来相会 也有些单向链接是我觉得很有意思的博客 松易涅\r\"对历史、政治经济学、政治学感兴趣\"\r槐序\r\"对当下的反思和批判\"\r理论派\r\"历史爱好者\"\r时歌\r\"理解以真实为本，但真实本身并不会自动呈现.\"\rTengFei\r\"写一些关于我自己生活的乱七八糟的东西\"\r狐狸反走矣\r\"KEEP CALM AND CARRY ON\"\rLS-Shandong\r\"LS-Shandong 的博客网站\"\r赫赫文王\r\"自然科學史研究\"\r寒夏摸鱼站\r\"稀奇古怪技术集散地\"\r刑辩人在路上\r\"80后刑辩律师的办案手记。反抗者的灵魂从未远去。\"\r第三夏尔\r\"认真生活，积极摸鱼 \"\r蓝小柠\r\"00 后，坐标 Edinburgh ，研一\"\rLruihao\r\"FixIt 主题作者\"\r萌豚 Moechu\r\"一个不走心的个人站点\"\rImCaO\r\"花有重开日，人无再少年\"\rxkcd\r\"火柴人小漫画\"\rRhizome\r\"一世风尘，也只如雪泥打他人脚底经过\"\r6young\r\"学生、独立开发者、博主、量化研究员\"\r吕志冲\r\"四川万悟昇长科技有限公司\"\r左祥太\r\"热衷于 Stata 和 Python 方法的开源共享\"\r","date":"0001-01-01","objectID":"/zh-cn/friends/:2:0","tags":null,"title":"有朋自远方来","uri":"/zh-cn/friends/"},{"categories":null,"content":"经济学家：一流的大师在挖坑 最顶级的社科大师在用世界观挖坑 陆铭\r\"空间政治经济学\"\r叶晓阳\r\"教育经济学\"\rZhiren Hu\r\"Energy; Environment; Urban; Transportatio\"\r陶哲轩\r\"数学家\"\rGreg Mankiw\r\"经济学必读教材作者\"\rETH Zurich\r\"法律与政治经济学\"\rChris Blattman\r\"全球冲突、犯罪和贫困\"\rDaron Acemoglu\r\"制度与经济增长\"\rDavid Y\r\"充满争议的政治经济学家\"\rJeff Ely\r\"十分有趣的制度设计与信息博弈\"\rNicolasschutz\r\"产业组织理论\"\rPatrick Hamilton\r\"微观经济学理论\"\r宋铮\r\"计量经济学\"\r洪永淼\r\"计量经济学\"\r曹一鸣\r\"发展经济学\"\r方汉明\r\"公共经济学，微观计量。\"\r陈硕\r\"中国的发展经济学、政治经济学和经济史\"\r史震涛\r\"高维计量经济学模型机器学习方法\"\r王绍达\r\"微观计量\"\r聂辉华\r\"组织经济学\"\rDavid Mckenzie\r\"World Bank首席经济学家计量识别\"\rEconbrowser\r\"有趣的经济数据图\"\rSTATA 官方\r\"计量经济学官方软件\"\rR 开发者博客\r\"R 开发者博客\"\rArcgis 开发博客\r\"Arcgis 开发博客\"\rstatlect\r\"一个统计教材网站\"\r","date":"0001-01-01","objectID":"/zh-cn/friends/:3:0","tags":null,"title":"有朋自远方来","uri":"/zh-cn/friends/"},{"categories":null,"content":"HUGO美化：BLOG之爱，人皆有之 折腾，并非无用无聊，而是无穷尽，无休止。 LoveIt 主题\r\"loveit主题文档\"\rStilig\r\"分享自己杂七杂八知识的网站\"\r雨临Lewis\r\"不想当写手的码农不是好咸鱼\"\r十年之约\r\"希望博客能坚持十年\"\r开往：友链计划\r\"让传统友链“活跃”，让网页相互接力\"\r萌备\r\"萌国ICP备案，号称萌ICP备，简称萌备\"\rBlogFinder\r\"与九百多位博友成为近邻\"\r博友圈\r\"博友圈 · 博客人的朋友圈\"\r博友俱乐部\r\"博友俱乐部\"\r","date":"0001-01-01","objectID":"/zh-cn/friends/:4:0","tags":null,"title":"有朋自远方来","uri":"/zh-cn/friends/"},{"categories":null,"content":"友链格式 友链格式参考： name=\"滑翔闪\" url=\"https://blog.huaxiangshan.com/\" logo=\"https://blog.huaxiangshan.com/images/avatar.png\" word=\"正在学习经济学的二次元\" ","date":"0001-01-01","objectID":"/zh-cn/friends/:5:0","tags":null,"title":"有朋自远方来","uri":"/zh-cn/friends/"}]